# **_BQ4050_**

## _Technical Reference Manual_

[Literature Number: SLUUAQ3A](https://www.ti.com/lit/pdf/SLUUAQ3)

APRIL 2016 – REVISED OCTOBER 2022


[www.ti.com](https://www.ti.com) _Table of Contents_

### **_Table of Contents_**


**Read This First** ......................................................................................................................................................................... 11


About This Manual..................................................................................................................................................................11

Notational Conventions.......................................................................................................................................................... 11

Trademarks.............................................................................................................................................................................11

**1 Introduction** ...........................................................................................................................................................................13

**2 Protections** ............................................................................................................................................................................ 15


2.1 Introduction...................................................................................................................................................................... 15
2.2 Cell Undervoltage Protection........................................................................................................................................... 15
2.3 Cell Overvoltage Protection............................................................................................................................................. 15
2.4 Overcurrent in Charge Protection.................................................................................................................................... 16
2.5 Overcurrent in Discharge Protection................................................................................................................................ 17
2.6 Hardware-Based Protection............................................................................................................................................. 17

2.6.1 Overload in Discharge Protection..............................................................................................................................17
2.6.2 Short Circuit in Charge Protection............................................................................................................................. 18
2.6.3 Short Circuit in Discharge Protection.........................................................................................................................18
2.7 Temperature Protections.................................................................................................................................................. 19
2.8 Overtemperature in Charge Protection............................................................................................................................ 19
2.9 Overtemperature in Discharge Protection........................................................................................................................19
2.10 Overtemperature FET Protection................................................................................................................................... 20
2.11 Undertemperature in Charge Protection.........................................................................................................................20
2.12 Undertemperature in Discharge Protection....................................................................................................................20
2.13 SBS Host Watchdog Protection..................................................................................................................................... 20
2.14 Precharge Timeout Protection........................................................................................................................................21
2.15 Fast Charge Timeout Protection.................................................................................................................................... 21
2.16 Overcharge Protection................................................................................................................................................... 21
2.17 OverChargingVoltage() Protection................................................................................................................................. 22
2.18 OverChargingCurrent() Protection................................................................................................................................. 22
2.19 OverPreChargingCurrent() Protection............................................................................................................................22
**3 Permanent Fail** ...................................................................................................................................................................... 25


3.1 Introduction...................................................................................................................................................................... 25


3.1.1 Black Box Recorder...................................................................................................................................................26
3.2 Safety Cell Undervoltage Permanent Fail........................................................................................................................ 26

3.2.1 SUV Check Option.................................................................................................................................................... 26
3.3 Safety Cell Overvoltage Permanent Fail.......................................................................................................................... 26
3.4 Safety Overcurrent in Charge Permanent Fail................................................................................................................. 27
3.5 Safety Overcurrent in Discharge Permanent Fail.............................................................................................................27
3.6 Safety Overtemperature Cell Permanent Fail.................................................................................................................. 27
3.7 Safety Overtemperature FET Permanent Fail..................................................................................................................27
3.8 Voltage Imbalance At Rest Permanent Fail..................................................................................................................... 27
3.9 Voltage Imbalance Active Permanent Fail....................................................................................................................... 28
3.10 Charge FET Permanent Fail.......................................................................................................................................... 28
3.11 Discharge FET Permanent Fail...................................................................................................................................... 28
3.12 Chemical Fuse Permanent Fail......................................................................................................................................28

3.13 AFE Register Permanent Fail........................................................................................................................................ 29
3.14 AFE Communication Permanent Fail.............................................................................................................................29

3.15 PTC Permanent Fail.......................................................................................................................................................29

3.16 Second Level Protection Permanent Fail.......................................................................................................................30
3.17 Instruction Flash (IF) Checksum Permanent Fail...........................................................................................................30
3.18 Open Cell Voltage Connection Permanent Fail..............................................................................................................30
3.19 Data Flash (DF) Permanent Fail.................................................................................................................................... 30



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 3


_Table of Contents_ [www.ti.com](https://www.ti.com)


3.20 Open Thermistor Permanent Fail (TS1, TS2, TS3, TS4)............................................................................................... 30
**4 Advanced Charge Algorithm** ............................................................................................................................................... 33

4.1 Introduction...................................................................................................................................................................... 33
4.2 Charge Temperature Ranges...........................................................................................................................................33
4.3 Voltage Range..................................................................................................................................................................34

4.3.1 RelativeStateofCharge() Range................................................................................................................................ 34
4.4 Charging Current..............................................................................................................................................................35
4.5 Charging Voltage..............................................................................................................................................................36
4.6 Valid Charge Termination................................................................................................................................................. 36
4.7 Charge and Discharge Termination Flags........................................................................................................................36
4.8 Terminate Charge and Discharge Alarms........................................................................................................................ 38
4.9 Precharge.........................................................................................................................................................................38
4.10 Maintenance Charge......................................................................................................................................................39
4.11 Charge Control SMBus Broadcasts................................................................................................................................39
4.12 Charge Disable and Discharge Disable......................................................................................................................... 39
4.13 Charge Inhibit.................................................................................................................................................................40
4.14 Charge Suspend............................................................................................................................................................ 40
4.15 ChargingVoltage() Rate of Change................................................................................................................................ 41
4.16 ChargingCurrent() Rate of Change................................................................................................................................ 41
4.17 Charging Loss Compensation........................................................................................................................................41
**5 Power Modes** .........................................................................................................................................................................43


5.1 Introduction...................................................................................................................................................................... 43

5.2 NORMAL Mode................................................................................................................................................................43

5.2.1 BATTERY PACK REMOVED Mode/System Present Detection................................................................................ 43
5.3 SLEEP Mode....................................................................................................................................................................43

5.3.1 Device Sleep............................................................................................................................................................. 43
5.3.2 IN SYSTEM SLEEP Mode.........................................................................................................................................44
5.3.3 ManufacturerAccess() MAC Sleep............................................................................................................................ 45
5.3.4 Wake Function...........................................................................................................................................................45

5.4 SHUTDOWN Mode.......................................................................................................................................................... 45

5.4.1 Voltage Based Shutdown.......................................................................................................................................... 45
5.4.2 ManufacturerAccess() MAC Shutdown..................................................................................................................... 46
5.4.3 Time Based Shutdown...............................................................................................................................................46
5.4.4 Emergency Shutdown (EMSHUT).............................................................................................................................46
**6 Gauging** ................................................................................................................................................................................. 49

6.1 Gas Gauge Operation...................................................................................................................................................... 49

6.1.1 General......................................................................................................................................................................49
6.1.2 Main Gas-Gauge Registers....................................................................................................................................... 50
6.2 Fuel Gauge Operating Modes..........................................................................................................................................50
6.3 Capacity Learning (FCC Update) and Qualified Discharge............................................................................................. 51
6.4 End-of-Discharge Thresholds and Capacity Correction...................................................................................................52

6.4.1 EDV Discharge Rate and Temperature Compensation............................................................................................. 53
6.5 CEDV Smoothing............................................................................................................................................................. 54
6.6 State-of-Health (SoH).......................................................................................................................................................55
6.7 Battery Trip Point (BTP)................................................................................................................................................... 55
**7 Cell Balancing** ....................................................................................................................................................................... 57

7.1 Introduction...................................................................................................................................................................... 57

7.1.1 Cell Balancing Configuration..................................................................................................................................... 58
**8 LED Display** ...........................................................................................................................................................................59

8.1 Introduction...................................................................................................................................................................... 59

8.1.1 LED Display of State-of-Charge................................................................................................................................ 59
8.1.2 LED Display of PF Error Code...................................................................................................................................59
8.1.3 LED Display on Exit of a Reset................................................................................................................................. 60
8.1.4 LED Display Control Through ManufacturerAccess()................................................................................................60
**9 Lifetime Data Collection** .......................................................................................................................................................61


9.1 Description....................................................................................................................................................................... 61
**10 Device Security** ................................................................................................................................................................... 63

10.1 Introduction.................................................................................................................................................................... 63
10.2 SHA-1 Description..........................................................................................................................................................63
10.3 HMAC Description..........................................................................................................................................................63
10.4 Authentication................................................................................................................................................................ 63


4 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Table of Contents_


10.5 Security Modes.............................................................................................................................................................. 64

10.5.1 FULL ACCESS or UNSEALED to SEALED............................................................................................................ 64

10.5.2 SEALED to UNSEALED.......................................................................................................................................... 64

10.5.3 UNSEALED to FULL ACCESS................................................................................................................................64

**11 Manufacture Production** .....................................................................................................................................................65

11.1 Manufacture Testing....................................................................................................................................................... 65
11.2 Calibration...................................................................................................................................................................... 65


11.2.1 Calibration Data Flash............................................................................................................................................. 66

**12 Device SMBus Address** ......................................................................................................................................................73

**13 SBS Commands** ..................................................................................................................................................................75

13.1 0x00 ManufacturerAccess() and 0x44 ManufacturerBlockAccess().............................................................................. 75

13.1.1 ManufacturerAccess() 0x0000.................................................................................................................................77
13.1.2 ManufacturerAccess() 0x0001 Device Type............................................................................................................77
13.1.3 ManufacturerAccess() 0x0002 Firmware Version....................................................................................................77
13.1.4 ManufacturerAccess() 0x0003 Hardware Version................................................................................................... 77
13.1.5 ManufacturerAccess() 0x0004 Instruction Flash Signature.....................................................................................77
13.1.6 ManufacturerAccess() 0x0005 Static DF Signature................................................................................................ 77
13.1.7 ManufacturerAccess() 0x0009 All DF Signature..................................................................................................... 77
13.1.8 ManufacturerAccess() 0x0010 SHUTDOWN Mode................................................................................................ 77
13.1.9 ManufacturerAccess() 0x0011 SLEEP Mode.......................................................................................................... 78
13.1.10 ManufacturerAccess() 0x001D Fuse Toggle......................................................................................................... 78
13.1.11 ManufacturerAccess() 0x001E PCHG FET Toggle................................................................................................78
13.1.12 ManufacturerAccess() 0x001F CHG FET Toggle.................................................................................................. 78
13.1.13 ManufacturerAccess() 0x0020 DSG FET Toggle.................................................................................................. 78
13.1.14 ManufacturerAccess() 0x0022 FET Control.......................................................................................................... 79
13.1.15 ManufacturerAccess() 0x0023 Lifetime Data Collection........................................................................................79
13.1.16 ManufacturerAccess() 0x0024 Permanent Failure................................................................................................ 79
13.1.17 ManufacturerAccess() 0x0025 Black Box Recorder..............................................................................................79
13.1.18 ManufacturerAccess() 0x0026 Fuse......................................................................................................................79
13.1.19 ManufacturerAccess() 0x0027 LED DISPLAY Enable...........................................................................................79
13.1.20 ManufacturerAccess() 0x0028 Lifetime Data Reset.............................................................................................. 79
13.1.21 ManufacturerAccess() 0x0029 Permanent Fail Data Reset.................................................................................. 79
13.1.22 ManufacturerAccess() 0x002A Black Box Recorder Reset................................................................................... 80
13.1.23 ManufacturerAccess() 0x002B LED TOGGLE...................................................................................................... 80
13.1.24 ManufacturerAccess() 0x002C LED DISPLAY PRESS......................................................................................... 80
13.1.25 ManufacturerAccess() 0x002D CALIBRATION Mode........................................................................................... 80
13.1.26 ManufacturerAccess() 0x002E Lifetime Data Flush.............................................................................................. 80
13.1.27 ManufacturerAccess() 0x002F Lifetime Data SPEED UP Mode........................................................................... 80
13.1.28 ManufacturerAccess() 0x0030 Seal Device.......................................................................................................... 80
13.1.29 ManufacturerAccess() 0x0035 Security Keys........................................................................................................80
13.1.30 ManufacturerAccess() 0x0037 Authentication Key................................................................................................81
13.1.31 ManufacturerAccess() 0x0041 Device Reset........................................................................................................ 81
13.1.32 ManufacturerAccess() 0x0050 SafetyAlert............................................................................................................ 81
13.1.33 ManufacturerAccess() 0x0051 SafetyStatus......................................................................................................... 83
13.1.34 ManufacturerAccess() 0x0052 PFAlert..................................................................................................................85
13.1.35 ManufacturerAccess() 0x0053 PFStatus...............................................................................................................87
13.1.36 ManufacturerAccess() 0x0054 OperationStatus....................................................................................................89
13.1.37 ManufacturerAccess() 0x0055 ChargingStatus.....................................................................................................91
13.1.38 ManufacturerAccess() 0x0056 GaugingStatus......................................................................................................92
13.1.39 ManufacturerAccess() 0x0057 ManufacturingStatus.............................................................................................93
13.1.40 ManufacturerAccess() 0x0058 AFE Register........................................................................................................ 94
13.1.41 ManufacturerAccess() 0x0060 Lifetime Data Block 1............................................................................................95
13.1.42 ManufacturerAccess() 0x0061 Lifetime Data Block 2............................................................................................95
13.1.43 ManufacturerAccess() 0x0062 Lifetime Data Block 3............................................................................................96
13.1.44 ManufacturerAccess() 0x0063 Lifetime Data Block 4............................................................................................96
13.1.45 ManufacturerAccess() 0x0064 Lifetime Data Block 5............................................................................................96
13.1.46 ManufacturerAccess() 0x0070 ManufacturerInfo.................................................................................................. 97
13.1.47 ManufacturerAccess() 0x0071 DAStatus1............................................................................................................ 97
13.1.48 ManufacturerAccess() 0x0072 DAStatus2............................................................................................................ 97
13.1.49 ManufacturerAccess() 0x007A ManufacturerInfo2................................................................................................ 98
13.1.50 ManufacturerAccess() 0x0F00 ROM Mode........................................................................................................... 98



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 5


_Table of Contents_ [www.ti.com](https://www.ti.com)


13.1.51 0x4000–0x5FFF Data Flash Access()................................................................................................................... 98
13.1.52 ManufacturerAccess() 0xF080 Exit Calibration Output Mode............................................................................... 99
13.1.53 ManufacturerAccess() 0xF081 Output CCADC Cal.............................................................................................. 99
13.1.54 ManufacturerAccess() 0xF082 Output Shorted CCADC Cal...............................................................................100
13.2 0x01 RemainingCapacityAlarm()................................................................................................................................. 100
13.3 0x02 RemainingTimeAlarm()........................................................................................................................................100
13.4 0x03 BatteryMode()......................................................................................................................................................101
13.5 0x04 AtRate()............................................................................................................................................................... 102
13.6 0x05 AtRateTimeToFull()..............................................................................................................................................102
13.7 0x06 AtRateTimeToEmpty()......................................................................................................................................... 102
13.8 0x07 AtRateOK()..........................................................................................................................................................102
13.9 0x08 Temperature()......................................................................................................................................................103
13.10 0x09 Voltage()............................................................................................................................................................ 103
13.11 0x0A Current()............................................................................................................................................................ 103
13.12 0x0B AverageCurrent().............................................................................................................................................. 103
13.13 0x0C MaxError().........................................................................................................................................................103
13.14 0x0D RelativeStateOfCharge().................................................................................................................................. 103
13.15 0x0E AbsoluteStateOfCharge()..................................................................................................................................104
13.16 0x0F RemainingCapacity().........................................................................................................................................104
13.17 0x10 FullChargeCapacity()........................................................................................................................................ 104
13.18 0x11 RunTimeToEmpty()............................................................................................................................................104
13.19 0x12 AverageTimeToEmpty().....................................................................................................................................104
13.20 0x13 AverageTimeToFull()......................................................................................................................................... 105
13.21 0x14 ChargingCurrent()............................................................................................................................................. 105
13.22 0x15 ChargingVoltage()............................................................................................................................................. 105
13.23 0x16 BatteryStatus().................................................................................................................................................. 105
13.24 0x17 CycleCount()..................................................................................................................................................... 107
13.25 0x18 DesignCapacity()...............................................................................................................................................107
13.26 0x19 DesignVoltage().................................................................................................................................................107
13.27 0x1A SpecificationInfo()............................................................................................................................................. 107
13.28 0x1B ManufacturerDate()...........................................................................................................................................108
13.29 0x1C SerialNumber()................................................................................................................................................. 108
13.30 0x20 ManufacturerName()......................................................................................................................................... 108
13.31 0x21 DeviceName()................................................................................................................................................... 108
13.32 0x22 DeviceChemistry().............................................................................................................................................108
13.33 0x23 ManufacturerData()........................................................................................................................................... 109
13.34 0x2F Authenticate()....................................................................................................................................................109
13.35 0x3C CellVoltage4()................................................................................................................................................... 109
13.36 0x3D CellVoltage3()................................................................................................................................................... 109
13.37 0x3E CellVoltage2()................................................................................................................................................... 109
13.38 0x3F CellVoltage1()....................................................................................................................................................109
13.39 0x4A BTPDischargeSet()........................................................................................................................................... 109
13.40 0x4B BTPChargeSet()................................................................................................................................................110
13.41 0x4F StateOfHealth()..................................................................................................................................................110
13.42 0x50 SafetyAlert().......................................................................................................................................................110
13.43 0x51 SafetyStatus...................................................................................................................................................... 110
13.44 0x52 PFAlert...............................................................................................................................................................110

13.45 0x53 PFStatus............................................................................................................................................................110
13.46 0x54 OperationStatus................................................................................................................................................. 111
13.47 0x55 ChargingStatus.................................................................................................................................................. 111
13.48 0x56 GaugingStatus................................................................................................................................................... 111
13.49 0x57 ManufacturingStatus.......................................................................................................................................... 111
13.50 0x58 AFE Register......................................................................................................................................................111
13.51 0x60 Lifetime Data Block 1......................................................................................................................................... 111

13.52 0x61 Lifetime Data Block 2.........................................................................................................................................112

13.53 0x62 Lifetime Data Block 3.........................................................................................................................................112

13.54 0x63 Lifetime Data Block 4.........................................................................................................................................112

13.55 0x64 Lifetime Data Block 5.........................................................................................................................................112

13.56 0x70 ManufacturerInfo................................................................................................................................................112

13.57 0x71 DAStatus1..........................................................................................................................................................112

13.58 0x72 DAStatus2..........................................................................................................................................................113


6 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Table of Contents_


**14 Data Flash Values** ..............................................................................................................................................................115


14.1 Data Formats................................................................................................................................................................115


14.1.1 Unsigned Integer....................................................................................................................................................115
14.1.2 Integer....................................................................................................................................................................115
14.1.3 Floating Point.........................................................................................................................................................115
14.1.4 Hex.........................................................................................................................................................................116
14.1.5 String......................................................................................................................................................................116
14.2 Settings.........................................................................................................................................................................116

14.2.1 Configuration..........................................................................................................................................................116
14.2.2 Fuse.......................................................................................................................................................................125

14.2.3 BTP........................................................................................................................................................................128

14.2.4 Protection.............................................................................................................................................................. 128

14.2.5 Permanent Failure................................................................................................................................................. 131

14.2.6 AFE........................................................................................................................................................................134

14.2.7 ZVCHG Exit Threshold.......................................................................................................................................... 134
14.3 Manufacturing.............................................................................................................................................................. 134

14.3.1 Manufacturing Status Init.......................................................................................................................................134
14.4 Advanced Charging Algorithm..................................................................................................................................... 135

14.4.1 Temperature Ranges............................................................................................................................................. 135
14.4.2 Low Temp Charging...............................................................................................................................................136
14.4.3 Standard Temp Charging.......................................................................................................................................137
14.4.4 High Temp Charging..............................................................................................................................................137
14.4.5 Rec Temp Charging...............................................................................................................................................138
14.4.6 Pre-Charging......................................................................................................................................................... 138
14.4.7 Maintenance Charging.......................................................................................................................................... 138
14.4.8 Voltage Range....................................................................................................................................................... 139
14.4.9 Termination Config.................................................................................................................................................139
14.4.10 Charging Rate of Change....................................................................................................................................140
14.4.11 Charge Loss Compensation................................................................................................................................ 140
14.4.12 Cell Balancing Config.......................................................................................................................................... 140
14.5 Power........................................................................................................................................................................... 140


14.5.1 Power.................................................................................................................................................................... 140

14.5.2 Shutdown...............................................................................................................................................................141
14.5.3 Sleep..................................................................................................................................................................... 141
14.5.4 Ship....................................................................................................................................................................... 142
14.5.5 Power Off...............................................................................................................................................................142

14.5.6 Manual FET Control.............................................................................................................................................. 142
14.6 LED Support.................................................................................................................................................................143

14.6.1 LED Config............................................................................................................................................................ 143
14.7 System Data.................................................................................................................................................................145

14.7.1 Manufacturer Info.................................................................................................................................................. 145
14.7.2 Static DF Signature............................................................................................................................................... 145
14.7.3 All DF Signature.................................................................................................................................................... 145
14.8 Lifetimes.......................................................................................................................................................................145


14.8.1 Voltage...................................................................................................................................................................145
14.8.2 Current...................................................................................................................................................................146

14.8.3 Temperature.......................................................................................................................................................... 147
14.8.4 Safety Events........................................................................................................................................................ 147
14.8.5 Charging Events.................................................................................................................................................... 150
14.8.6 Power Events........................................................................................................................................................ 151
14.8.7 Cell Balancing........................................................................................................................................................151
14.8.8 Time.......................................................................................................................................................................151

14.9 Protections................................................................................................................................................................... 152

14.9.1 CUV—Cell Undervoltage.......................................................................................................................................152
14.9.2 COV—Cell Overvoltage.........................................................................................................................................153
14.9.3 OCC1—Overcurrent In Charge 1.......................................................................................................................... 154
14.9.4 OCC2—Overcurrent In Charge 2.......................................................................................................................... 154
14.9.5 OCC—Overcurrent In Charge Recovery............................................................................................................... 154
14.9.6 OCD1—Overcurrent In Discharge 1......................................................................................................................154
14.9.7 OCD2—Overcurrent In Discharge 2......................................................................................................................155
14.9.8 OCD—Overcurrent In Discharge Recovery...........................................................................................................155



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 7


_Table of Contents_ [www.ti.com](https://www.ti.com)


14.9.9 AOLD—Overload in Discharge..............................................................................................................................155
14.9.10 ASCC—Short Circuit In Charge.......................................................................................................................... 156
14.9.11 ASCD—Short Circuit in Discharge.......................................................................................................................157
14.9.12 OTC—Overtemperature in Charge......................................................................................................................157
14.9.13 OTD—Overtemperature in Discharge................................................................................................................. 158
14.9.14 OTF—Overtemperature FET...............................................................................................................................158
14.9.15 UTC—Under Temperature in Charge.................................................................................................................. 159
14.9.16 UTD—Under Temperature in Discharge..............................................................................................................159
14.9.17 HWD—Host Watchdog........................................................................................................................................ 159
14.9.18 PTO—Precharge mode Time Out....................................................................................................................... 159
14.9.19 CTO—Fast Charge Mode Time Out.................................................................................................................... 160
14.9.20 OC—Overcharge.................................................................................................................................................160
14.9.21 CHGV—ChargingVoltage.................................................................................................................................... 161
14.9.22 CHGC—ChargingCurrent....................................................................................................................................161
14.9.23 PCHGC—Pre-ChargingCurrent...........................................................................................................................162
14.10 Permanent Fail...........................................................................................................................................................162

14.10.1 SUV—Safety Cell Undervoltage..........................................................................................................................162
14.10.2 SOV—Safety Cell Overvoltage............................................................................................................................162
14.10.3 SOCC—Safety Overcurrent in Charge................................................................................................................163
14.10.4 SOCD—Safety Overcurrent in Discharge........................................................................................................... 163
14.10.5 SOT—Overtemperature Cell............................................................................................................................... 163
14.10.6 SOTF—Overtemperature FET............................................................................................................................ 164
14.10.7 Open Thermistor—NTC Thermistor Failure........................................................................................................ 164
14.10.8 VIMR—Voltage Imbalance At Rest......................................................................................................................164
14.10.9 VIMA—Voltage Imbalance Active........................................................................................................................165
14.10.10 CFET—CHG FET Failure..................................................................................................................................165

14.10.11 DFET—DFET Failure.........................................................................................................................................166

14.10.12 FUSE—FUSE Failure........................................................................................................................................166

14.10.13 AFER—AFE Register........................................................................................................................................ 166
14.10.14 AFEC—AFE Communication............................................................................................................................ 167

14.10.15 2LVL—2nd Level OV......................................................................................................................................... 167
14.10.16 OPNCELL—Open Cell Connection................................................................................................................... 167
14.11 PF Status....................................................................................................................................................................167


14.11.1 Device Status Data.............................................................................................................................................. 167

14.11.2 Device Voltage Data............................................................................................................................................ 171
14.11.3 Device Current Data............................................................................................................................................ 172

14.11.4 Device Temperature Data.................................................................................................................................... 172
14.11.5 AFE Regs.............................................................................................................................................................173
14.12 Black Box................................................................................................................................................................... 175

14.12.1 Safety Status....................................................................................................................................................... 175
14.12.2 PF Status.............................................................................................................................................................176
14.13 Gas Gauging.............................................................................................................................................................. 176

14.13.1 CEDV Profile 1.................................................................................................................................................... 176
14.13.2 CEDV Cfg............................................................................................................................................................ 178
14.13.3 CEDV Smoothing Config..................................................................................................................................... 179
14.13.4 Current Thresholds..............................................................................................................................................179

14.13.5 Design................................................................................................................................................................. 180
14.13.6 Cycle....................................................................................................................................................................180
14.13.7 FD........................................................................................................................................................................180

14.13.8 FC........................................................................................................................................................................181

14.13.9 TD........................................................................................................................................................................181

14.13.10 TC......................................................................................................................................................................182

14.13.11 State...................................................................................................................................................................182
14.14 SBS Configuration......................................................................................................................................................182

14.14.1 Data..................................................................................................................................................................... 182
14.15 Data Flash Summary................................................................................................................................................. 185
**15 AFE Threshold and Delay Settings** ................................................................................................................................. 199

15.1 Overload in Discharge Protection (AOLD)................................................................................................................... 199
15.2 Short Circuit in Charge (ASCC)................................................................................................................................... 199
15.3 Short Circuit in Discharge (ASCD1 and ASCD2)......................................................................................................... 200
**A Sample Filter Settings** ........................................................................................................................................................203


8 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Table of Contents_


**B Glossary** ..............................................................................................................................................................................205
**C Revision History** .................................................................................................................................................................207



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 9


_Table of Contents_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


10 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Read This First_

#### _Preface_

### **_Read This First_**


**About This Manual**


This manual discusses the modules and peripherals of the BQ4050 device, and how each is used to build a
complete battery pack gas gauge and protection solution. See the _[BQ4050 CEDV Gas Gauge and Protection](https://www.ti.com/lit/pdf/SLUSC67)_
_[Solution for 1-Series to 4-Series Cell Li-Ion Battery Packs Data Sheet](https://www.ti.com/lit/pdf/SLUSC67)_ for electrical specifications.


**Notational Conventions**


The following notation is used if SBS commands and data flash values are mentioned within a text block:


 - SBS commands: _italics_ with parentheses and no breaking spaces, for example, _RemainingCapacity()_ .

 - Data Flash: _italics_, **bold**, and breaking spaces; for example, _**Design Capacity**_ .

 - Register Bits and Flags: _italics_ and brackets; for example, _[TDA]_ Data

 - Flash Bits: _italics_ and **bold** ; for example, _**[LED1]**_

 - Modes and states: ALL CAPITALS; for example, UNSEALED


The reference format for SBS commands is: SBS:Command Name(Command No.): Manufacturer Access(MA
No.)[Flag]; for example:


SBS:Voltage(0x09), or SBS:ManufacturerAccess(0x00): Seal Device(0x0020)


**Trademarks**

All trademarks are the property of their respective owners.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 11


_Read This First_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


12 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Introduction_

#### _Chapter 1_
### **_Introduction_**


**1.1**


The BQ4050 device provides a feature-rich gas gauging solution for 1-series cell to 4-series cell battery-pack
applications. The device has extended capabilities, including:


 - Fully Integrated 1-Series, 2-Series, 3-Series, and 4-Series Li-Ion or Li-Polymer Cell Battery Pack Manager
and Protection

 - Compensated End-of-Discharge Voltage (CEDV) Technology Accurately Measures Available Charge in Li-Ion
and Li-Polymer Batteries

 - High Side N-CH Protection FET Drive

 - Integrated Cell Balancing While Charging or At Rest

 - Low Power Modes

– LOW POWER

– SLEEP

 - Full Array of Programmable Protection Features

–
Voltage
– Current

–
Temperature

–
Charge Timeout
– CHG/DSG FETs

– Cell Imbalance

 - Sophisticated Charge Algorithms

– JEITA

–
Advanced Charging Algorithm

 - Diagnostic Lifetime Data Monitor

 - Black Box Event Recorder

 - Supports Two-Wire SMBus v1.1 Interface

 - SHA-1 Authentication

 - Ultra-Compact Package: 32-Lead QFN



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 13


_Introduction_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


14 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Protections_

#### _Chapter 2_
### **_Protections_**


**2.1 Introduction**


The BQ4050 device provides recoverable protection. When the protection is triggered, charging and/or
discharging is disabled. This is indicated by the _OperationStatus()[XCHG]_ = 1 when charging is disabled, and/or
the _OperationStatus()[XDSG]_ = 1 when discharging is disabled. Once the protection is recovered, charging and
discharging resume. All protection items can be enabled or disabled under _**Settings:Enabled Protections A**_,
_**Settings:Enabled Protections B**_, _**Settings:Enabled Protections C**_, and _**Settings:Enabled Protections D**_ .


When the protections and permanent fails are triggered, the _BatteryStatus()[TCA][TDA][FD][OCA][OTA]_ is set
according to the type of safety protections. A summary of the set conditions of the various alarms flags is
available in Section 4.8.


**2.2 Cell Undervoltage Protection**


The device can detect cell undervoltage in batteries and protect cells from damage by preventing further
discharge.










|Status|Condition|Action|
|---|---|---|
|Normal|Min cell voltage1..4 >**_CUV:Threshold_**|_SafetyAlert()[CUV]_ = 0<br>_BatteryStatus()[TDA]_ = 0|
|Alert|Min cell voltage1..4 ≤**_CUV:Threshold_**|_SafetyAlert()[CUV]_ = 1<br>_BatteryStatus()[TDA]_ = 1|
|Trip|Min cell voltage1..4 ≤**_CUV:Threshold_** for**_CUV:Delay_** duration|_SafetyAlert()[CUV]_ = 0<br>_SafetyStatus()[CUV]_ = 1<br>_BatteryStatus()[FD]_ = 1,_[TDA]_ = 0<br>_OperationStatus()[XDSG]_ = 1|
|Recovery|Condition 1:<br>_SafetyStatus()[CUV]_ = 1 AND<br>Min cell voltage1..4 ≥**_CUV:Recovery_** AND<br>**_Protection Configuration[CUV_RECOV_CHG]_** = 0|_SafetyStatus()[CUV]_ = 0<br>_BatteryStatus()[FD]_ = 0,_[TDA]_ = 0<br>_OperationStatus()[XDSG]_ = 0|
|Recovery|OR Condition 2:<br>_SafetyStatus()[CUV]_ = 1 AND<br>Min cell voltage1..4 ≥**_CUV:Recovery_** AND<br>**_Protection Configuration[CUV_RECOV_CHG]_** = 1 AND<br>Charging detected (that is,_BatteryStatus()[DSG]_ = 0)|OR Condition 2:<br>_SafetyStatus()[CUV]_ = 1 AND<br>Min cell voltage1..4 ≥**_CUV:Recovery_** AND<br>**_Protection Configuration[CUV_RECOV_CHG]_** = 1 AND<br>Charging detected (that is,_BatteryStatus()[DSG]_ = 0)|



**2.3 Cell Overvoltage Protection**


The device can detect cell overvoltage in batteries and protect cells from damage by preventing further charging.


**Note**


The protection detection threshold may be influenced by the temperature settings of the advanced
charging algorithm and the measured temperature.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 15


_Protections_ [www.ti.com](https://www.ti.com)




















|Status|Condition|Action|
|---|---|---|
|Normal,<br>_ChargingStatus()[UT] or [LT]_ = 1|Max cell voltage1..4 <**_COV:Threshold Low Temp_**|_SafetyAlert()[COV]_ = 0|
|Normal,<br>_ChargingStatus()[STL] or [STH]_ = 1|Max cell voltage1..4 <**_COV:Threshold Standard Temp_**|Max cell voltage1..4 <**_COV:Threshold Standard Temp_**|
|Normal,<br>_ChargingStatus()[RT]_ = 1|Max cell voltage1..4 <**_COV:Threshold Rec Temp_**|Max cell voltage1..4 <**_COV:Threshold Rec Temp_**|
|Normal,<br>_ChargingStatus()[HT] or [OT]_ = 1|Max cell voltage1..4 <**_COV:Threshold High Temp_**|Max cell voltage1..4 <**_COV:Threshold High Temp_**|
|Alert,<br>_ChargingStatus()[UT] or [LT]_ = 1|Max cell voltage1..4 ≥**_COV:Threshold Low Temp_**|_SafetyAlert()[COV]_ = 1<br>_BatteryStatus()[TCA]_ = 1|
|Alert,<br>_ChargingStatus()[STL] or [STH]_ = 1|Max cell voltage1..4 ≥**_COV:Threshold Standard Temp_**|Max cell voltage1..4 ≥**_COV:Threshold Standard Temp_**|
|Alert,<br>_ChargingStatus()[RT]_ = 1|Max cell voltage1..4 ≥**_COV:Threshold Rec Temp_**|Max cell voltage1..4 ≥**_COV:Threshold Rec Temp_**|
|Alert,<br>_ChargingStatus()[HT] or [OT]_ = 1|Max cell voltage1..4 ≥**_COV:Threshold High Temp_**|Max cell voltage1..4 ≥**_COV:Threshold High Temp_**|
|Trip,<br>_ChargingStatus()[UT] or [LT]_ = 1|Max cell voltage1..4 ≥**_COV:Threshold Low Temp_** for**_COV:Delay_**<br>duration|_SafetyAlert()[COV]_ = 0<br>_SafetyStatus()[COV]_ = 1<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 1|
|Trip,<br>_ChargingStatus()[STL] or [STH]_ = 1|Max cell voltage1..4 ≥**_COV:Threshold Standard Temp_** for<br>**_COV:Delay_** duration|_SafetyAlert()[COV]_= 0<br>_SafetyStatus()[COV]_ = 1<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 1|
|Trip,<br>_ChargingStatus()[RT]_ = 1|Max cell voltage1..4_≥_ **_COV:Threshold Rec Temp_** for**_COV:Delay_**<br>duration|Max cell voltage1..4_≥_ **_COV:Threshold Rec Temp_** for**_COV:Delay_**<br>duration|
|Trip,<br>_ChargingStatus()[HT] or [OT]_ = 1|Max cell voltage1..4 ≥**_COV:Threshold High Temp_** for**_COV:Delay_**<br>duration|Max cell voltage1..4 ≥**_COV:Threshold High Temp_** for**_COV:Delay_**<br>duration|
|Recovery,<br>_ChargingStatus()[UT] or [LT]_ = 1|_SafetyStatus()[COV]_ = 1 AND<br>Max cell voltage1..4 ≤**_COV:Recovery Low Temp_**|_SafetyStatus()[COV]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|
|Recovery,<br>_ChargingStatus()[STL] or [STH]_ = 1|_SafetyStatus()[COV]_ = 1 AND<br>Max cell voltage1..4 ≤**_COV:Recovery Standard Temp_**|_SafetyStatus()[COV]_ = 1 AND<br>Max cell voltage1..4 ≤**_COV:Recovery Standard Temp_**|
|Recovery,<br>_ChargingStatus()[RT]_ = 1|_SafetyStatus()[COV]_ = 1 AND<br>Max cell voltage1..4 ≤**_COV:Recovery Rec Temp_**|_SafetyStatus()[COV]_ = 1 AND<br>Max cell voltage1..4 ≤**_COV:Recovery Rec Temp_**|
|Recovery,<br>_ChargingStatus()[HT] or [OT]_ = 1|_SafetyStatus()[COV]_ = 1 AND<br>Max cell voltage1..4 ≤**_COV:Recovery High Temp_**|_SafetyStatus()[COV]_ = 1 AND<br>Max cell voltage1..4 ≤**_COV:Recovery High Temp_**|



**2.4 Overcurrent in Charge Protection**


The device has two independent overcurrent in charge protections that can be set to different current and delay
thresholds to accommodate different charging behaviors.










|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ <**_OCC1:Threshold_**|_SafetyAlert()[OCC1]_ = 0|
|Normal|_Current()_ <**_OCC2:Threshold_**|_SafetyAlert()[OCC2]_ = 0|
|Alert|_Current()_ ≥**_OCC1:Threshold_**|_SafetyAlert()[OCC1]_ = 1<br>_BatteryStatus()[TCA]_ = 1|
|Alert|_Current()_ ≥**_OCC2:Threshold_**|_SafetyAlert()[OCC2]_ = 1<br>_BatteryStatus()[TCA]_ = 1|
|Trip|_Current()_ continuous ≥**_OCC1:Threshold_** for**_OCC1:Delay_** duration|_SafetyAlert()[OCC1]_ = 0<br>_SafetyStatus()[OCC1]_ = 1<br>_BatteryStatus()[TCA]_ = 0<br>Charging is not allowed.<br>_OperationStatus()[XCHG]_ = 1|
|Trip|_Current()_ continuous ≥**_OCC2:Threshold_** for**_OCC2:Delay_** duration|_SafetyAlert()[OCC2]_ = 0<br>_SafetyStatus()[OCC2]_ = 1<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 1|
|Recovery|_SafetyStatus()[OCC1]_ = 1 AND<br>_Current()_ continuous ≤**_OCC:Recovery Threshold_** for<br>**_OCC:Recovery Delay_** time|_SafetyStatus()[OCC1]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|
|Recovery|_SafetyStatus()[OCC2]_ = 1 AND<br>_Current()_ continuous ≤**_OCC:Recovery Threshold_** for<br>**_OCC:Recovery Delay_** time|_SafetyStatus()[OCC2]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|



16 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Protections_


**2.5 Overcurrent in Discharge Protection**


The device has two independent overcurrent in discharge protections that can be set to different current and
delay thresholds to accommodate different load behaviors.










|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ >**_OCD1:Threshold_**|_SafetyAlert()[OCD1]_ = 0|
|Normal|_Current()_ >**_OCD2:Threshold_**|_SafetyAlert()[OCD2]_ = 0|
|Alert|_Current()_ ≤**_OCD1:Threshold_**|_SafetyAlert()[OCD1]_ = 1<br>_BatteryStatus()[TDA]_ = 1|
|Alert|_Current()_ ≤**_OCD2:Threshold_**|_SafetyAlert()[OCD2]_ = 1<br>_BatteryStatus()[TDA]_ = 1|
|Trip|_Current()_ continuous ≤**_OCD1:Threshold_** for**_OCD1:Delay_** duration|_SafetyAlert()[OCD1]_ = 0<br>_SafetyStatus()[OCD1]_ = 1<br>_BatteryStatus()[TDA]_ = 0<br>_OperationStatus()[XDSG]_ = 1|
|Trip|_Current()_ continuous ≤**_OCD2:Threshold_** for**_OCD2:Delay_** duration|_SafetyAlert()[OCD2]_ = 0<br>_SafetyStatus()[OCD2]_ = 1<br>_BatteryStatus()[TDA]_ = 0<br>_OperationStatus()[XDSG]_ = 1|
|Recovery|_SafetyStatus()[OCD1]_ = 1 AND<br>_Current()_ continuous ≥**_OCD:Recovery Threshold_** for<br>**_OCD:Recovery Delay_** time|_SafetyStatus()[OCD1]_ = 0<br>_BatteryStatus()[TDA]_ = 0<br>_OperationStatus()[XDSG]_ = 0|
|Recovery|_SafetyStatus()[OCD2]_ = 1 AND<br>_Current()_ continuous ≥**_OCD:Recovery Threshold_** for<br>**_OCD:Recovery Delay_** time|_SafetyStatus()[OCD2]_ = 0<br>_BatteryStatus()[TDA]_ = 0<br>_OperationStatus()[XDSG]_ = 0|



**2.6 Hardware-Based Protection**


The BQ4050 device has three main hardware-based protections—AOLD, ASCC, and ASCD1,2—with adjustable
current and delay time. Setting _**AFE Protection Configuration[RSNS]**_ divides the threshold value in half. The
_**Threshold**_ settings are in mV; therefore, the actual current that triggers the protection is based on the R SENSE
used in the schematic design.


In addition, setting the _**AFE Protection Configuration[SCDDx2]**_ bit provides an option to double all of the
SCD1,2 delay times for maximum flexibility towards the application's needs.


For details on how to configure the AFE hardware protection, refer to the tables in _Chapter 15_ .


All of the hardware-based protections provide a Trip/Latch Alert/Recovery protection. The latch feature stops the
FETs from toggling on and off continuously on a persistent faulty condition.


In general, when a fault is detected after the _**Delay**_ time, both CHG and DSG FETs will be disabled (Trip stage),
and an internal fault counter will be incremented (Alert stage). Since both FETs are off, the current will drop to 0
mA. After _**Recovery**_ time, the CHG and DSG FETs will be turned on again (Recovery stage).


If the alert is caused by a current spike, the fault count will be decremented after _**Counter Dec Delay**_ time. If
this is a persistent faulty condition, the device will enter the Trip stage after _**Delay**_ time, and repeat the Trip/Latch
Alert/Recovery cycle. The internal fault counter is incremented every time the device goes through the Trip/Latch
Alert/Recovery cycle. Once the internal fault counter hits the _**Latch Limit**_, the protection enters a Latch stage
and the fault will only be cleared through the Latch Reset condition.


The Trip/Latch Alert/Recovery/Latch stages are documented in each of the following hardware-based protection
sections.


The recovery condition for removable pack ( _**[NR]**_ = 0) is based on the transition on the PRES pin, while the
recovery condition for embedded pack ( _**[NR]**_ = 1) is based on the _**Reset**_ time.


**2.6.1 Overload in Discharge Protection**


The device has a hardware-based overload in discharge protection with adjustable current and delay.


|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ > (**_OLD Threshold[3:0]_**/RSENSE)|_SafetyAlert()[AOLDL]_ = 0, if OLDL counter = 0|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 17


_Protections_ [www.ti.com](https://www.ti.com)















|Status|Condition|Action|
|---|---|---|
|Trip|_Current()_ continuous ≤ (**_OLD Threshold[3:0]_**/<br>RSENSE) for**_OLD Threshold[7:4]_** duration|_SafetyStatus()[AOLD]_ = 1<br>_OperationStatus()[XDSG]_ = 1<br>Increment AOLDL counter|
|Recovery|_SafetyStatus()[AOLD]_ = 1 for**_OLD:Recovery_** time|_SafetyStatus()[AOLD]_ = 0<br>_OperationStatus()[XDSG]_ = 0 if_SafetyStatus()[AOLDL]_ = 0.|
|Latch Alert|AOLDL counter > 0|_SafetyAlert()[AOLDL]_ = 1<br>Decrement AOLDL counter by one after each**_OLD:Counter Dec Delay_**<br>period|
|Latch Trip|AOLDL counter ≥**_OLD:Latch Limit_**|_SafetyAlert()[AOLDL]_ = 0<br>_SafetyStatus()[AOLDL]_ = 1<br>_OperationStatus()[XDSG]_ = 1|
|Latch Reset (**_[NR]_** = 0)|_SafetyStatus()[AOLDL]_ = 1 AND<br>**_DA Configuration[NR]_** =0 AND<br>Low-high-low transition on~~PRES~~ pin|_SafetyStatus()[AOLDL]_ = 0<br>Reset AOLDL counter<br>_OperationStatus()[XDSG]_ = 0 if_SafetyStatus()[AOLD]_ = 0.|
|Latch Reset (**_[NR]_** = 1)|_SafetyStatus()[AOLDL]_ = 1 AND<br>**_DA Configuration[NR]_** = 1 for**_OLD:Reset_** time|_SafetyStatus()[AOLDL]_ = 0<br>Reset AOLDL counter<br>_OperationStatus()[XDSG]_ = 0 if_SafetyStatus()[AOLD]_ = 0.|


**2.6.2 Short Circuit in Charge Protection**





The device has a hardware based short circuit in charge protection with adjustable current and delay.











|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ < (**_SCC Threshold[2:0]_**/RSENSE)|_SafetyAlert()[ASCCL]_ = 0, if ASCCL counter = 0|
|Trip|_Current()_ continuous ≥ (**_SCC Threshold[2:0]_**/<br>RSENSE) for**_SCC Threshold[7:4]_** duration|_SafetyStatus()[ASCC]_ = 1<br>_BatteryStatus()[TCA]_ = 1<br>_OperationStatus()[XCHG]_ = 1<br>increment ASCCL counter|
|Recovery|_SafetyStatus()[ASCC]_ = 1 for**_SCC:Recovery_** time|_SafetyStatus()[ASCC]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0 if_SafetyStatus()[ASCCL]_ = 0.|
|Latch Alert|ASCCL counter > 0|_SafetyAlert()[ASCCL]_ = 1<br>Decrement ASCCL counter by one after each**_SCC:Counter Dec Delay_**<br>period|
|Latch Trip|ASCCL counter ≥**_SCC:Latch Limit_**|_SafetyAlert()[ASCCL]_ = 0<br>_SafetyStatus()[ASCCL]_ = 1<br>_OperationStatus()[XCHG]_ = 1|
|Latch Reset (**_[NR]_** = 0)|_SafetyStatus()[ASCCL]_ = 1 AND<br>**_DA Configuration[NR]_** =0 AND<br>Low-high-low transition on~~PRES~~ pin|_SafetyStatus()[ASCCL]_ = 0<br>_OperationStatus()[XCHG]_ = 0 if_SafetyStatus()[ASCC]_ = 0.|
|Latch Reset (**_[NR]_** = 1)|_SafetyStatus()[ASCCL]_ = 1 AND<br>**_DA Configuration[NR]_** = 1 for**_SCC:Reset_** time|_SafetyStatus()[ASCCL]_ = 0<br>_OperationStatus()[XCHG]_ = 0 if_SafetyStatus()[ASCC]_ = 0.|


**2.6.3 Short Circuit in Discharge Protection**



The device has a hardware based short circuit in discharge protection with adjustable current and delay.














|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ > (**_SCD1 Threshold[2:0]_**/RSENSE) AND<br>_Current()_ > (**_SCD2 Threshold[2:0]_**/RSENSE)|_SafetyAlert()[ASCDL]_ = 0 if ASCDL counter = 0|
|Trip|_Current()_ continuous ≤ (**_SCD1 Threshold[2:0]_**/RSENSE) <br>for**_SCD1 Threshold[7:4]_** duration<br>OR<br>_Current()_ continuous ≤ (**_SCD2 Threshold[2:0]_**/RSENSE) <br>for**_SCD2 Threshold[7:4]_** duration|_SafetyStatus()[ASCD]_ = 1<br>_OperationStatus()[XDSG]_ = 0<br>Increment ASCDL counter|
|Recovery|_SafetyStatus()[ASCD]_ = 1 for**_SCD:Recovery_** time|_SafetyStatus()[ASCD]_ = 0<br>_OperationStatus()[XDSG]_ = 0 if_SafetyStatus()[ASCDL]_ = 0.|
|Latch Alert|ASCDL counter > 0|_SafetyAlert()[ASCDL]_ = 1<br>Decrement ASCDL counter by one after each**_SCD:Counter Dec_**<br>**_Delay_** period|
|Latch Trip|SCD counter ≥**_SCD:Latch Limit_**|_SafetyStatus()[ASCD]_ = 0<br>_SafetyStatus()[ASCDL]_ = 1<br>_OperationStatus()[XDSG]_ = 1|



18 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Protections_







|Status|Condition|Action|
|---|---|---|
|Latch Reset (**_[NR]_** = 0)|_SafetyStatus()[ASCDL]_ = 1 AND<br>**_DA Configuration[NR]_** =0 AND<br>Low-high-low transition on~~PRES~~ pin|_SafetyStatus()[ASCDL]_ = 0<br>_OperationStatus()[XDSG]_ = 0 if_SafetyStatus()[ASCD]_ = 0.|
|Latch Reset (**_[NR]_** = 1)|_SafetyStatus()[ASCCL]_ = 1 AND<br>**_DA Configuration[NR]_** = 1 for**_SCD:Reset_** time|_SafetyStatus()[ASCDL]_ = 0<br>_OperationStatus()[XDSG]_ = 0 if_SafetyStatus()[ASCD]_ = 0.|


**2.7 Temperature Protections**





The device provides overtemperature and undertemperature protections based on Cell Temperature
measurement and FET temperature measurements. The Cell Temperature based protections are further divided
into a protection-in-charging direction and discharging directions. This section describes in detail each of the
protection functions.


For temperature reporting, the device supports a maximum of four external thermistors and one internal
temperature sensor. Unused temperature sensors must be disabled by clearing the corresponding flag in
_**Settings:Temperature Enable[TS4][TS3][TS2][TS1][TSInt]**_ .


Each of the external thermistors and the internal temperature sensor can be set up individually as a source for
Cell Temperature or FET Temperature reporting. Setting the corresponding flag to 1 in _**Settings:Temperature**_
_**Mode[TS4 Mode][TS3 Mode][TS2 Mode][TS1 Mode][TSInt Mode]**_ configures that temperature sensor to
report for FET Temperature. Clearing the corresponding flag sets that temperature sensor to report for Cell
Temperature. The _**Settings:DA Configuration[FTEMP][CTEMP]**_ allows users to use the maximal (setting the
corresponding flag to 0) or the average (setting the corresponding flag to 1) of the source temperature sensors
for Cell Temperature and FET Temperature reporting.


The _Temperature()_ command returns the Cell Temperature measurement. The MAC and extended command
_DAStatus2()_ also returns the temperature measurement from the internal temperature sensor, the external
thermistors TS1, TS2, TS3, and TS4, and the Cell and FET Temperatures.


The Cell Temperature based overtemperature and undertemperature safety provide protections in charge and
discharge conditions. The battery pack is considered in CHARGE mode when _BatteryStatus()[DSG]_ = 0, where
_Current()_ - _**Chg Current Threshold**_ . The overtemperature and undertemperature in charging protections are
active in this mode. The _BatteryStatus()[DSG]_ is set to 1 in a NON-CHARGE mode condition, which includes
RELAX and DISCHARGE modes. The overtemperature and undertemperature in discharge protections are
active in these two modes. See Section 6.2 for detailed descriptions of the gas gauge modes.


**2.8 Overtemperature in Charge Protection**


The device has an overtemperature protection for cells under charge.



|Status|Condition|Action|
|---|---|---|
|Normal|_Temperature()_ _<_ **_OTC:Threshold_** OR not charging|_SafetyAlert()[OTC]_ = 0|
|Alert|_Temperature()_ _≥_ **_OTC:Threshold_** AND charging|_SafetyAlert()[OTC]_ = 1<br>_BatteryStatus()[TCA]_ = 1|
|Trip|_Temperature()_ ≥**_OTC:Threshold_** AND<br>Charging for**_OTC:Delay_** duration|_SafetyAlert()[OTC]_ = 0<br>_SafetyStatus()[OTC]_ = 1<br>_BatteryStatus()[OTA]_ = 1<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 1 if**_FET Options[OTFET]_** = 1.|
|Recovery|_SafetyStatus()[OTC]_ AND<br>_Temperature()_ ≤**_OTC:Recovery_**|_SafetyStatus()[OTC]_ = 0<br>_BatteryStatus()[OTA]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|


**2.9 Overtemperature in Discharge Protection**





The device has an overtemperature protection for cells in DISCHARGE or RELAX state (that is, non-charging
state with _BatteryStatus[DSG]_ = 1).


|Status|Condition|Action|
|---|---|---|
|Normal|_Temperature()_ _<_ **_OTD:Threshold_** OR charging|_SafetyAlert()[OTD]_ = 0|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 19


_Protections_ [www.ti.com](https://www.ti.com)











|Status|Condition|Action|
|---|---|---|
|Alert|_Temperature()_ _≥_ **_OTD:Threshold_** AND<br>Not charging (that is,_BatteryStatus[DSG]_ = 1)|_SafetyAlert()[OTD]_ = 1<br>_BatteryStatus()[TDA]_ = 1|
|Trip|_Temperature()_ ≥**_OTD:Threshold_** AND<br>Not charging (that is,_BatteryStatus[DSG]_ = 1) for**_OTD:Delay_**<br>duration|_SafetyAlert()[OTD]_ = 0<br>_SafetyStatus()[OTD]_ = 1<br>_BatteryStatus()[OTA]_ = 1<br>_OperationStatus()[XDSG]_ = 1 if**_FET Options[OTFET]_** = 1.<br>_BatteryStatus()[TDA]_ = 0|
|Recovery|_SafetyStatus()[OTD]_ AND<br>_Temperature()_ ≤**_OTD:Recovery_**|_SafetyStatus()[OTD]_ = 0<br>_BatteryStatus()[OTA]_ = 0<br>_OperationStatus()[XDSG]_ = 0<br>_BatteryStatus()[TDA]_ = 0|


**2.10 Overtemperature FET Protection**



The device has an overtemperature protection to limit the FET temperature.



|Status|Condition|Action|
|---|---|---|
|Normal|FET Temperature in_DAStatus2()_ _<_ **_OTF:Threshold_**|_SafetyAlert()[OTF]_ = 0|
|Alert|FET Temperature in_DAStatus2()_ _≥_ **_OTF:Threshold_**|_SafetyAlert()[OTF]_ = 1<br>_BatteryStatus()[TDA]_ = 1,_[TCA]_ = 1|
|Trip|FET Temperature in_DAStatus()_ ≥**_OTF:Threshold_** for<br>**_OTF:Delay_** duration|_SafetyAlert()[OTF]_ = 0<br>_SafetyStatus()[OTF]_ = 1<br>_BatteryStatus()[OTA]_ = 1<br>_BatteryStatus()[TDA]_ = 0,_[TCA]_ = 0<br>_OperationStatus()[XCHG][XDSG]_ = 1,1 if**_FET Options[OTFET]_** = 1|
|Recovery|_SafetyStatus()[OTF]_ AND<br>FET Temperature in_DAStatus2()_ ≤**_OTF:Recovery_**|_SafetyStatus()[OTF_ = 0<br>_BatteryStatus()[OTA]_ = 0<br>_BatteryStatus()[TDA]_ = 0,_[TCA]_ = 0<br>_OperationStatus()[XCHG][XDSG]_ = 0,0|


**2.11 Undertemperature in Charge Protection**





The device has an undertemperature protection for cells in charge direction.



|Status|Condition|Action|
|---|---|---|
|Normal|_Temperature()_ >**_UTC:Threshold_** OR not charging|_SafetyAlert()[UTC]_ = 0|
|Alert|_Temperature()_ ≤**_UTC:Threshold_** AND charging|_SafetyAlert()[UTC]_ = 1|
|Trip|_Temperature()_ ≤**_UTC:Threshold_** AND<br>Charging for**_UTC:Delay_** duration|_SafetyAlert()[UTC]_ = 0<br>_SafetyStatus()[UTC]_ = 1<br>_OperationStatus()[XCHG]_ = 1|
|Recovery|_SafetyStatus()[UTC]_ AND<br>_Temperature()_ ≥**_UTC:Recovery_**|_SafetyStatus()[UTC]_ = 0<br>_OperationStatus()[XCHG]_ = 0|


**2.12 Undertemperature in Discharge Protection**





The device has an undertemperature protection for cells in DISCHARGE or RELAX state (that is, non-charging
state with _BatteryStatus[DSG]_ = 1).









|Status|Condition|Action|
|---|---|---|
|Normal|_Temperature()_ >**_UTD:Threshold_** OR charging|_SafetyAlert()[UTD]_ = 0|
|Alert|_Temperature()_ _≤_ **_UTD:Threshold_** AND<br>Not charging (that is,_BatteryStatus[DSG]_ = 1)|_SafetyAlert()[UTD]_ = 1|
|Trip|_Temperature()_ ≤**_UTD:Threshold_** AND<br>Not charging (that is,_BatteryStatus[DSG]_ = 1) for**_UTD:Delay_**<br>duration|_SafetyAlert()[UTD]_ = 0<br>_SafetyStatus()[UTD]_ = 1<br>_OperationStatus()[XDSG]_ = 1|
|Recovery|_SafetyStatus()[UTD]_ AND<br>_Temperature()_ ≥**_UTD:Recovery_**|_SafetyStatus()[UTD]_ = 0<br>_OperationStatus()[XDSG]_ = 0|


**2.13 SBS Host Watchdog Protection**



The device can check periodic communication over SBS and prevent usage of the battery pack if no valid
communication is detected.


20 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Protections_

|Status|Condition|Action|
|---|---|---|
|Trip|No valid SBS transaction for**_HWD:Delay_** duration|_SafetyStatus()[HWD]_ = 1<br>_OperationStatus()[XCHG]_ = 1|
|Recovery|Valid SBS transaction detected|_SafetyStatus()[HWD]_ = 0<br>_OperationStatus()[XCHG]_ = 0|



**2.14 Precharge Timeout Protection**


The device can measure the precharge time and stop charging if it exceeds the adjustable period.
















|Status|Condition|Action|
|---|---|---|
|Enable|_Current()_ >**_PTO:Charge Threshold_** AND<br>_ChargingStatus()[PV]_ = 1|Start PTO timer<br>_SafetyAlert()[PTOS]_ = 0|
|Suspend or Recovery|_Current()_ <**_PTO:Suspend Threshold_**|Stop PTO timer<br>_SafetyAlert()[PTOS]_ = 1|
|Trip|PTO timer >**_PTO:Delay_**|Stop PTO timer<br>_SafetyStatus()[PTO]_ = 1<br>_BatteryStatus()[TCA]_ = 1<br>_OperationStatus()[XCHG]_ = 1|
|Reset|_SafetyStatus()[PTO]_ = 1 AND<br>**_DA Configuration[NR]_** = 0 AND<br>(Discharge by an amountof**_PTO:Reset_** OR<br>low-high-low transition on~~PRES~~)|Stop and reset PTO timer<br>_SafetyAlert()[PTOS]_ = 0<br>_SafetyStatus()[PTO]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|
|Reset|_SafetyStatus()[PTO]_ = 1 AND<br>**_DA Configuration[NR]_** = 1 AND<br>(Discharge by an amount of**_PTO:Reset_**)|Stop and reset PTO timer<br>_SafetyAlert()[PTOS]_ = 0<br>_SafetyStatus()[PTO]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|



**2.15 Fast Charge Timeout Protection**


The device can measure the charge time and stop charging if it exceeds the adjustable period.


















|Status|Condition|Action|
|---|---|---|
|Enable|_Current()_ >**_CTO:Charge Threshold_** AND<br>(_ChargingStatus()[LV]_ = 1 OR<br>_ChargingStatus()[MV]_ = 1 OR<br>_ChargingStatus()[HV]_ = 1)|Start CTO timer<br>_SafetyAlert()[CTOS]_ = 0|
|Suspend or Recovery|_Current()_ <**_CTO:Suspend Threshold_**|Stop CTO timer<br>_SafetyAlert()[CTOS]_ = 1|
|Trip|CTO time >**_CTO:Delay_**|Stop CTO timer<br>_SafetyStatus()[CTO]_ = 1<br>_OperationStatus()[XCHG]_ = 1|
|Reset|_SafetyStatus()[CTO]_ = 1 AND<br>**_DA Configuration[NR]_** = 0 AND<br>(Discharge by an amountof**_CTO:Reset_** OR<br>low-high-low transition on~~PRES~~)|Stop and reset CTO timer<br>_SafetyAlert()[CTOS]_ = 0<br>_SafetyStatus()[CTO]_ = 0<br>_OperationStatus()[XCHG]_ = 0|
|Reset|_SafetyStatus()[CTO]_ = 1 AND<br>**_DA Configuration[NR]_** = 1 AND<br>(Discharge by an amount of**_CTO:Reset_**)|Stop and reset CTO timer<br>_SafetyAlert()[CTOS]_ = 0<br>_SafetyStatus()[CTO]_ = 0<br>_OperationStatus()[XCHG]_ = 0|



**2.16 Overcharge Protection**


The device can prevent continuing charging if the pack is charged in excess over _FullChargeCapacity()_ .



|Status|Condition|Action|
|---|---|---|
|Normal|_RemainingCapacity()_ <_FullChargeCapacity()_|_SafetyAlert()[OC]_ = 0|
|Alert|_RemainingCapacity()_ ≥_FullChargeCapacity()_ AND<br>Internal charge counter > 0|_SafetyAlert()[OC]_ = 1<br>_BatteryStatus()[TCA]_ = 1|
|Trip|_RemainingCapacity()_ ≥_FullChargeCapacity()_ AND<br>Internal charge counter ≥**_OC:Threshold_**|_SafetyAlert()[OC]_ = 0<br>_SafetyStatus()[OC]_ = 1<br>_BatteryStatus()[TCA]_ = 0,_[OCA]_ = 1 if the device is in charge state<br>(that is,_BatteryStatus[DSG]_ = 0).<br>_OperationStatus()[XCHG]_ = 1|


[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_



_BQ4050_ 21



Copyright © 2022 Texas Instruments Incorporated


_Protections_ [www.ti.com](https://www.ti.com)










|Status|Condition|Action|
|---|---|---|
|Recovery,<br>**_[NR]_** = 0|_SafetyStatus()[OC]_ = 1 AND<br>**_DA Configuration[NR]_** = 0 AND<br>(Low-high-low transition on~~PRES~~ pin)|_SafetyStatus()[OC]_ = 0<br>_BatteryStatus()[TCA]_ = 0,_[OCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|
|Recovery<br>**_[NR]_** = 1|Condition 1:<br>_SafetyStatus()[OC]_ = 1 AND<br>**_DA Configuration[NR]_** = 1 AND<br>continuous discharge of**_Recovery_**|_SafetyStatus()[OC]_ = 0<br>_BatteryStatus()[TCA]_ = 0,_[OCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|
|Recovery<br>**_[NR]_** = 1|OR Condition 2:<br>_SafetyStatus()[OC]_ = 1 AND<br>**_DA Configuration[NR]_** = 1 AND<br>_RelativeStateOfCharge() <_ **_OC:RSOC Recovery_**|OR Condition 2:<br>_SafetyStatus()[OC]_ = 1 AND<br>**_DA Configuration[NR]_** = 1 AND<br>_RelativeStateOfCharge() <_ **_OC:RSOC Recovery_**|



**2.17 OverChargingVoltage() Protection**


The device can stop charging if it measures a difference between the requested _ChargingVoltage()_ and the
delivered voltage from the charger. This feature only operates when the device is in CHARGE mode.


**Note**


_ChargingVoltage()_ will be set to 0 mV when the protection is tripped. The _ChargingVoltage()_ for the
recovery is the intended or targeted Charging Voltage, not the 0 mV that was set due to the trip of
protection.










|Status|Condition|Action|
|---|---|---|
|Normal|Pack pin voltage in_DAStatus1()_ <_ChargingVoltage()_ +<br>**_CHGV:Threshold_** × Number of series cells|_SafetyAlert()[CHGV]_ = 0|
|Alert|Pack pin voltage in_DAStatus1()_ ≥_ChargingVoltage()_ +<br>**_CHGV:Threshold_** × Number of series cells|_SafetyAlert()[CHGV]_ = 1<br>_BatteryStatus()[TCA]_ = 1|
|Trip|Pack pin voltage in_DAStatus1()_ continuous ≥<br>_ChargingVoltage()_ +<br>**_CHGV:Threshold_** × Number of series cells for**_CHGV:Delay_**<br>period|_SafetyAlert()[CHGV]_ = 0<br>_SafetyStatus()[CHGV]_ = 1<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 1|
|Recovery|_SafetyStatus()[CHGV]_ = 1 AND<br>Pack pin voltage in_DAStatus1()_ ≤<br>intended_ChargingVoltage()_ +**_CHGV Recovery_** × Number of<br>series cells|_SafetyStatus()[CHGV]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|



**2.18 OverChargingCurrent() Protection**


The device can stop charging if it measures a difference between the requested _ChargingCurrent()_ and the
delivered current from the charger. This protection is designed to recover by a discharge event; therefore,
_**CHGC:Recovery**_ should be set to a negative value in data flash.










|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ <_ChargingCurrent()_ +**_CHGC:Threshold_**|_SafetyAlert()[CHGC]_ = 0|
|Alert|_Current()_ ≥_ChargingCurrent()_ +**_CHGC:Threshold_**|_SafetyAlert()[CHGC]_ = 1<br>_BatteryStatus()[TCA]_ = 1|
|Trip|_Current()_ continuous ≥_ChargingCurrent()_ +<br>**_CHGC:Threshold_**for**_CHGC:Delay_** period|_SafetyAlert()[CHGC]_ = 0<br>_SafetyStatus()[CHGC]_ = 1<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 1|
|Recovery|_SafetyStatus()[CHGC]_ = 1 AND<br>_Current()_ ≤**_CHGC:Recovery Threshold_** for**_CHGC:Recovery_**<br>**_Delay_** time|_SafetyStatus()[CHGC]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|



**2.19 OverPreChargingCurrent() Protection**


The device can stop charging if it measures a difference between the requested _ChargingCurrent()_ and the
delivered current from the charger during precharge. This protection is designed to recover by a discharge event;
therefore, _**PCHGC:Recovery**_ should be set to a negative value in data flash.


22 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Protections_










|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ <_ChargingCurrent()_ +**_PCHGC:Threshold_** AND<br>_ChargingStatus()[PV]_ = 1|_SafetyAlert()[PCHGC]_ = 0|
|Alert|_Current()_ ≥_ChargingCurrent()_ +**_PCHGC:Threshold_** AND<br>_ChargingStatus()[PV]_ = 1|_SafetyAlert()[PCHGC]_ = 1<br>_BatteryStatus()[TCA]_ = 1|
|Trip|_Current()_ continuous ≥_ChargingCurrent()_ +<br>**_PCHGC:Threshold_**for**_PCHGC:Delay_** period AND<br>_ChargingStatus()[PV]_ = 1|_SafetyAlert()[PCHGC]_ = 0<br>_SafetyStatus()[PCHGC]_ = 1<br>If charging,_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 1|
|Recovery|_SafetyStatus()[PCHGC]_ = 1 AND<br>_Current()_ ≤**_PCHGC:Recovery Threshold_** for<br>**_PCHGC:Recovery Delay_** time|_SafetyStatus()[PCHGC]_ = 0<br>_BatteryStatus()[TCA]_ = 0<br>_OperationStatus()[XCHG]_ = 0|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 23


_Protections_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


24 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Permanent Fail_

#### _Chapter 3_
### **_Permanent Fail_**


**3.1 Introduction**


The device can permanently disable the use of the battery pack in case of a severe failure. The permanent
failure checks, except for IFC and DFW, can be individually enabled or disabled by setting the appropriate bit
in _**Settings:Enabled PF A**_, _**Settings:Enabled PF B**_, _**Settings:Enabled PF C**_, and _**Settings:Enabled PF D**_ . All
permanent failure checks, except for IFC and DFW, are disabled until _ManufacturingStatus()[PF]_ is set. When
any _PFStatus()_ bit is set, the device enters PERMANENT FAIL mode and the following actions are taken in

sequence:


1. Precharge, charge, and discharge FETs are turned off.
2. _OperationStatus()[PF]_ = 1, _[XCHG]_ = 1, _[XDSG]_ = 1
3. The following SBS data is changed: _BatteryStatus()[TCA]_ = 1, _BatteryStatus()[TDA]_ = 1, _ChargingCurrent()_ =
0, and _ChargingVoltage()_ = 0.
4. A backup of the internal AFE hardware registers are written to data flash: _**AFE Interrupt Status**_, _**AFE**_
_**FET Status**_, _**AFE RXIN**_, _**AFE Latch Status**_, _**AFE Interrupt Enable**_, _**AFE FET Control**_, _**AFE RXIEN**_, _**AFE**_
_**RLOUT**_, _**AFE RHOUT**_, _**AFE RHINT**_, _**AFE Cell Balance**_, _**AFE AD/CC Control**_, _**AFE ADC Mux**_, _**AFE LED**_
_**Output**_, _**AFE State Control**_, _**AFE LED/Wake Control**_, _**AFE Protection Control**_, _**AFE OCD**_, _**AFE SCC**_, _**AFE**_
_**SCD1**_, and _**AFE SCD2**_ .
5. The black box data of the last three _SafetyStatus()_ changes leading up to PF with the time difference is
written into the black box data flash along with the 1 [st] _PFStatus()_ value.
6. The following SBS values are preserved in data flash for failure analysis:

   - _SafetyAlert()_

   - _SafetyStatus()_

   - _PFAlert()_

   - _PFStatus()_

   - _OperationStatus()_

   - _ChargingStatus()_

   - _GaugingStatus()_

   - Voltages in _DAStatus1()_

   - _Current()_

   - TSINT, TS1, TS2, TS3, and TS4 from _DAStatus2()_

   - Cell DOD0 and passed charge
7. Data flash writing is disabled (except to store subsequent _PFStatus()_ flags).
8. The FUSE pin is driven high if configured for specific failures and _Voltage()_ is above _**Min Blow Fuse**_
_**Voltage**_ or there is a CHG FET (CFETF) or DSG FET (DFETF) failure. The FUSE pin will remain asserted
until the _**Fuse Blow Timeout**_ expired.


**Note**


If _**[PACK_FUSE]**_ = 0, _Voltage()_ is used to check for _**Min Blow Fuse Voltage**_, indicating the fuse is
connected to the BAT side.


If _**[PACK_FUSE]**_ = 1 (that is, Fuse is connected to the PACK side and is required to have a charger
connected in order to blow the fuse), then the pack voltage is used to check for _**Min Blow Fuse**_
_**Voltage**_ threshold.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 25


_Permanent Fail_ [www.ti.com](https://www.ti.com)


While the device is in PERMANENT FAIL mode, any new _SafetyAlert()_, _SafetyStatus()_, _PFAlert()_, and _PFStatus()_
flags that are set are added to the permanent fail log. Any new _PFStatus()_ flags that occur during PERMANENT
FAIL mode can trigger the FUSE pin. In addition, new _PFStatus()_ flags are recorded in the Black Box Recorder
2 [nd] and 3 [rd] PF Status entries.


**3.1.1 Black Box Recorder**


The Black Box Recorder maintains the last three updates of _SafetyStatus()_ in memory. When entering
PERMANENT FAIL mode, this information is written to data flash together with the first three updates of
_PFStatus()_ after the PF event.



![](sluuaq3a.pdf-25-1.png)















time


**Note**


This information is useful in failure analysis, and can provide a full recording of the events and
conditions leading up to the permanent failure.


If there were less than three safety events before PF, then some information will be left blank.


**3.2 Safety Cell Undervoltage Permanent Fail**


The device can permanently disable the battery in the case of severe undervoltage in any of the cells.



|Status|Condition|Action|
|---|---|---|
|Normal|Min cell voltage1..4 >**_SUV:Threshold_**|_PFAlert()[SUV]_ = 0<br>_BatteryStatus()[TDA]_ = 0|
|Alert|Min cell voltage1..4 ≤**_SUV:Threshold_**|_PFAlert()[SUV]_ = 1<br>_BatteryStatus()[TDA]_ = 1|
|Trip|Min cell voltage1..4 continuous ≤**_SUV:Threshold_** for**_SUV:Delay_**<br>duration|_PFAlert()[SUV]_ = 0<br>_PFStatus()[SUV]_ = 1<br>_BatteryStatus()[FD]_ = 1|


**3.2.1 SUV Check Option**





When _**Protection Configuration[SUV_MODE]**_ is set, the SUV PF check only applies when the gauge wakes
up from shutdown. The CHG and DSG FETs are disabled for the duration of the test ( _**SUV:Delay**_ ) to prevent an
applied charge voltage from masking a copper deposition condition.


**3.3 Safety Cell Overvoltage Permanent Fail**


The device can permanently disable the battery in the case of severe overvoltage in any of the cells.






|Status|Condition|Action|
|---|---|---|
|Normal|Max cell voltage1..4 <**_SOV:Threshold_**|_PFAlert()[SOV]_ = 0|
|Alert|Max cell voltage1..4 ≥**_SOV:Threshold_**|_PFAlert()[SOV]_ = 1<br>_BatteryStatus()[TCA]_ = 1|
|Trip|Max cell voltage1..4 continuous ≥**_SOV:Threshold_** for**_SOV:Delay_**<br>duration|_PFAlert()[SOV]_ = 0<br>_PFStatus()[SOV]_ = 1|



26 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Permanent Fail_


**3.4 Safety Overcurrent in Charge Permanent Fail**


The device can permanently disable the battery in the case of severe overcurrent in charge state.







|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ <**_SOCC:Threshold_**|_PFAlert()[SOCC]_ = 0|
|Alert|_Current()_ ≥**_SOCC:Threshold_**|_PFAlert()[SOCC]_ = 1<br>_BatteryStatus()[TCA]_ = 1<br>_BatteryStatus()[OCA]_ = 1|
|Trip|_Current()_ ≥**_SOCC:Threshold_** for**_SOCC:Delay_** duration|_PFAlert()[SOCC]_ = 1<br>_PFStatus()[SOCC]_ = 1|


**3.5 Safety Overcurrent in Discharge Permanent Fail**


The device can permanently disable the battery in the case of severe overcurrent in discharge or RELAX state.

|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ >**_SOCD:Threshold_**|_PFAlert()[SOCD]_ = 0|
|Alert|_Current()_ ≤**_SOCD:Threshold_**|_PFAlert()[SOCC]_ = 1<br>_BatteryStatus()[TDA]_ = 1|
|Trip|_Current()_ ≤**_SOCD:Threshold_** for**_SOCD:Delay_** duration|_PFAlert()[SOCC]_ = 1<br>_PFStatus()[SOCC]_ = 1|



**3.6 Safety Overtemperature Cell Permanent Fail**


The device can permanently disable the battery pack in case of severe overtemperature of the cells
detected using the external TS1...4 temperature sensor(s), which are configured to report as cell temperature,
_Temperature()_ . The _Temperature()_ measurement configuration is done by setting the corresponding flag in
_**Temperature Mode**_ and _**DA Configuration[CTEMP]**_ .



|Status|Condition|Action|
|---|---|---|
|Normal|_Temperature()_ <**_SOT:Threshold_**|_PFAlert()[SOT]_ = 0|
|Alert|_Temperature()_ ≥**_SOT:Threshold_**|_PFAlert()[SOT]_ = 1<br>_BatteryStatus()[OTA]_ = 1|
|Trip|_Temperature()_ continuous ≥**_SOT:Threshold_** for**_SOT:Delay_**<br>duration|_PFAlert()[SOT]_ = 0<br>_PFStatus()[SOT]_ = 1<br>_BatteryStatus()[OTA]_ = 1|


**3.7 Safety Overtemperature FET Permanent Fail**





The device can permanently disable the battery pack in case of severe overtemperature on the power FET.
The temperature sensor(s) can be configured to report as FET Temperature in _DAStatus2()_ by setting the
corresponding flag in _**Temperature Mode**_ and _**DA Configuration[FTEMP]**_ .



|Status|Condition|Action|
|---|---|---|
|Normal|FET Temperature in_DAStatus2()_ <**_SOTF:Threshold_**|_PFAlert()[SOTF]_ = 0|
|Alert|FET Temperature in_DAStatus2()_ _≥_ **_SOTF:Threshold_**|_PFAlert()[SOTF]_ = 1<br>_BatteryStatus()[OTA]_ = 1|
|Trip|FET Temperature in_DAStatus2()_ continuous ≥**_SOTF:Threshold_**<br>for**_SOTF:Delay_** duration|_PFAlert()[SOTF]_ = 0<br>_PFStatus()[SOTF]_ = 1<br>_BatteryStatus()[OTA]_ = 1|


**3.8 Voltage Imbalance At Rest Permanent Fail**





The device can permanently disable the battery pack in case of a voltage difference between the cells in a stack
while at rest.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 27


_Permanent Fail_ [www.ti.com](https://www.ti.com)








|Status|Condition|Action|
|---|---|---|
|Normal|Max cell voltage1..4 <**_VIMR:Check Voltage_** OR<br>|_Current()_| >**_VIMR:Check Current_** OR<br>Max cell voltage1..4 – Min cell voltage1..4 <**_VIMR:Delta_**<br>**_Threshold_**|_PFAlert()[VIMR]_ = 0|
|Alert|(Max cell voltage1..4 ≥**_VIMR:Check Voltage_** AND<br>|_Current()_| <**_VIMR:Check Current)_** for**_VIMR:Duration_** AND<br>Max cell voltage1..4 – Min cell voltage1..4 ≥**_VIMR:Delta_**<br>**_Threshold_**|_PFAlert()[VIMR]_ = 1|
|Trip|(Max cell voltage1..4 ≥**_VIMR:Check Voltage_** AND<br>|_Current()_| <**_VIMR:Check Current_**) for**_VIMR:Duration_** AND<br>Max cell voltage1..4 – Min cell voltage1..4 ≥**_VIMR:Delta_**<br>**_Threshold_** for**_VIMR:Delta Delay_**|_PFAlert()[VIMR]_ = 0<br>_PFStatus()[VIMR]_ = 1|



**3.9 Voltage Imbalance Active Permanent Fail**


The device can permanently disable the battery pack in case of a voltage difference between the cells in a stack
while active.








|Status|Condition|Action|
|---|---|---|
|Normal|Max cell voltage1..4 <**_VIMA:Check Voltage_** OR<br>_Current()_ <**_VIMA:Check Current_** OR<br>Max cell voltage1..4 – Min cell voltage1..4 <**_VIMA:Delta_**<br>**_Threshold_**|_PFAlert()[VIMA]_ = 0|
|Alert|Max Cell voltage ≥**_VIMA:Check Voltage_** AND<br>_Current()_ >**_VIMA:Check Current_** AND<br>Max cell voltage1..4 – Min cell voltage1..4 ≥**_VIMA:Delta_**<br>**_Threshold_**|_PFAlert()[VIMA]_ = 1|
|Trip|(Max cell voltage1..4 ≥**_VIMA:Check Voltage_** AND<br>_Current()_ >**_VIMA:Check Current_** AND<br>Max cell voltage1..4 – Min cell voltage1..4 ≥**_VIMA:Delta_**<br>**_Threshold)_** for**_VIMA:Delay_**|_PFAlert()[VIMA]_ = 0<br>_PFStatus()[VIMA]_ = 1|



**3.10 Charge FET Permanent Fail**


The device can permanently disable the battery pack in case the charge FET is not working properly.



|Status|Condition|Action|
|---|---|---|
|Normal|CHG FET off AND_Current()_ <**_CFET:OFF Threshold_**|_PFAlert()[CFETF]_ = 0|
|Alert|CHG FET off AND_Current()_ ≥**_CFET:OFF Threshold_**|_PFAlert()[CFETF]_ = 1|
|Trip|CHG FET off AND_Current()_ continuously ≥**_CFET:OFF Threshold_**<br>for**_CFET:OFF Delay_**duration|_PFAlert()[CFETF]_ = 0<br>_PFStatus()[CFETF]_ = 1|


**3.11 Discharge FET Permanent Fail**





The device can permanently disable the battery pack in case the discharge FET is not working properly.



|Status|Condition|Action|
|---|---|---|
|Normal|DSG FET off AND_Current()_ >**_DFET:OFF Threshold_**|_PFAlert()[DFETF]_ = 0|
|Alert|DSG FET off AND_Current()_ ≤**_DFET:OFF Threshold_**|_PFAlert()[DFETF]_ = 1|
|Trip|DSG FET off AND_Current()_ continuously ≤**_DFET:OFF Threshold_**<br>for**_DFET:OFF Delay_** duration|_PFAlert()[DFETF]_ = 0<br>_PFStatus()[DFETF]_ = 1|


**3.12 Chemical Fuse Permanent Fail**





The device can detect a non-working fuse. It cannot disable the battery pack permanently, but can record this
event for analysis.


28 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Permanent Fail_



|Status|Condition|Action|
|---|---|---|
|Normal|FUSE pin = high AND |_Current()_| <**_FUSE:Threshold_**|_PFAlert()[FUSE]_ = 0|
|Alert|FUSE pin = high AND |_Current()_| ≥**_FUSE:Threshold_**|_PFAlert()[FUSE]_ = 1|
|Trip|FUSE pin = high AND |_Current()_| continuous ≥**_FUSE:Threshold_**<br>for**_FUSE:Delay_** duration|_PFAlert()[FUSE]_ = 0<br>_PFStatus()[FUSE]_ = 1|


**3.13 AFE Register Permanent Fail**





The device compares the AFE hardware register periodically with a RAM backup and corrects any errors. If any
errors are found during the check, the device increments the AFE register fail counter. If the comparison fails too
many times, the device disables the pack permanently.







|Status|Condition|Action|
|---|---|---|
|Normal|AFE register fail counter = 0|_PFAlert()[AFER]_ = 0<br>Compare AFE register and RAM backup every<br>**_AFER:Compare Period_**|
|Alert|AFE register fail counter > 0|_PFAlert()[AFER]_ = 1<br>Decrement AFE register fail counter by one after<br>each**_AFER:Delay Period_**<br>Compare AFE register and RAM backup every<br>**_AFER:Compare Period_**|
|Trip|AFE register fail counter ≥**_AFER:Threshold_**|_PFAlert()[AFER]_ = 0<br>_PFStatus()[AFER]_ = 1|


**3.14 AFE Communication Permanent Fail**


The device monitors the internal communication to the AFE hardware and increments the AFE read/write fail
counter on any communication error. If the read or write fails exceed a limit within a configurable timeframe, the
device disables the pack permanently.







|Status|Condition|Action|
|---|---|---|
|Normal|AFE read/write fail counter = 0|_PFAlert()[AFEC]_ = 0|
|Alert|AFE read/write fail counter > 0|_PFAlert()[AFEC]_ = 1<br>Decrement AFE read/write fail counter by one after<br>each**_AFEC:Delay Period_**|
|Trip|Read and Write Fail counter ≥**_AFEC:Threshold_**|_PFAlert()[AFEC]_ = 0<br>_PFStatus()[AFEC]_ = 1|


**3.15 PTC Permanent Fail**


The device can detect overtemperature using a positive temperature coefficient (PTC) resistor connected to the
PTC pin. This protection also works in SHUTDOWN mode.


If the device detects a PTC pin high state, the CHG and DSG FETs are turned off, and the pack is disabled
permanently. For manufacturer testing, the fault state can be reset by a full power cycle of the device.


This is a hardware controlled feature. To enable this feature, the PTCEN pin should be tied to BAT. To disable
this feature, connect the PTCEN pin to ground.



|Status|Condition|Action|
|---|---|---|
|Normal|Reset AFE and PTC pin = low|_PFStatus()[PTC]_ = 0|
|Trip|PTC pin = high|_PFStatus()[PTC]_ = 1<br>FUSE = high<br>_BatteryStatus()[TCA]_ = 1<br>_BatteryStatus()[TDA]_ = 1|


[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_





_BQ4050_ 29



Copyright © 2022 Texas Instruments Incorporated


_Permanent Fail_ [www.ti.com](https://www.ti.com)


**3.16 Second Level Protection Permanent Fail**


The device can detect an external trigger of the chemical fuse by an external protection circuit such as a
2nd-level protector by monitoring the FUSE pin state.


If the device detects a FUSE pin high state, the CHG and DSG FETs are turned off.


Setting _**Enabled PF C[2LVL]**_ = 0 will not prevent the second level protector from triggering and blowing the fuse,
setting _**[2LVL]**_ = 0 will only prevent the gauge from detecting the fuse state.



|Status|Condition|Action|
|---|---|---|
|Normal|Reset AFE and FUSE pin = low AND<br>No FUSE trigger by firmware|_PFAlert()[2LVL]_ = 0|
|Alert|FUSE pin = high AND<br>No FUSE trigger by firmware|_PFAlert()[2LVL]_ = 1<br>Reset AFE FUSE bit|
|Trip|FUSE pin continuously high for**_2LVL:Delay_** period AND<br>No FUSE trigger by firmware|_PFAlert()[2LVL]_ = 0<br>_PFStatus()[2LVL]_ = 1|


**3.17 Instruction Flash (IF) Checksum Permanent Fail**





The device can permanently disable the battery if it detects a difference between the stored IF checksum and
the calculated IF checksum only following a device reset.

|Status|Condition|Action|
|---|---|---|
|Normal|Stored and calculated IF checksum match|—|
|Trip|Stored and calculated IF checksum after reset does not match|_PFStatus()[IFC]_ = 1|



**3.18 Open Cell Voltage Connection Permanent Fail**


The device can permanently disable the battery if it detects a difference between the BAT pin voltage and the
sum of the individual cell voltages. _Recommendation_ : Perform BAT pin calibration in production if this protection
is enabled.



|Status|Condition|Action|
|---|---|---|
|Normal||_Voltage()_ – BAT voltage in_DAStatus1()_||_PFAlert()[OPNCELL]_ = 0|
|Alert||_Voltage()_ – BAT voltage in_DAStatus1()_| ≥**_OPNC:Threshold_**|_PFAlert()[OPNCELL]_ = 1|
|Trip||_Voltage()_ – BAT voltage in_DAStatus1()_| continuous ≥<br>**_OPNC:Threshold_** for**_OPNC:Delay_** Period|_PFAlert()[OPNCELL]_ = 0<br>_PFStatus()[OPNCELL]_ = 1|


**3.19 Data Flash (DF) Permanent Fail**





The device can permanently disable the battery in case a data flash write fails.


**Note**


A DF write failure causes the gauge to disable further DF writes.

|Status|Condition|Action|
|---|---|---|
|Normal|Data flash write OK|—|
|Trip|Data flash write not successful|_PFStatus()[DFW]_ = 1|



**3.20 Open Thermistor Permanent Fail (TS1, TS2, TS3, TS4)**


The device can permanently disable the battery if it detects an open thermistor on TS1, TS2, TS3, or TS4. The
state of TS1..4 and the internal temperature sensor is available in _DAStatus2()_ .


30 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Permanent Fail_










|Status|Condition|Action|
|---|---|---|
|Normal,<br>TS1|TS1 Temperature >**_Open Thermistor:Threshold_**<br>OR<br>Internal Temperature ≤ TS1 Temperature +**_Cell Delta_** if<br>**_Temperature Mode[TS1 Mode] = 0_**<br>OR<br>Internal Temperature ≤ TS1 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS1 Mode] = 1_**|_PFAlert()[TS1]_ = 0|
|Normal,<br>TS2|TS2 Temperature >**_Open Thermistor:Threshold_**<br>OR<br>Internal Temperature ≤ TS2 Temperature +**_Cell Delta_** if<br>**_Temperature Mode[TS2 Mode] = 0_**<br>OR<br>Internal Temperature ≤ TS2 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS2 Mode] = 1_**|_PFAlert()[TS2]_ = 0|
|Normal,<br>TS3|TS3 Temperature >**_Open Thermistor:Threshold_**<br>OR<br>Internal Temperature ≤ TS3 Temperature +**_Cell Delta_** if<br>**_Temperature Mode[TS3 Mode] = 0_**<br>OR<br>Internal Temperature ≤ TS3 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS3 Mode] = 1_**|_PFAlert()[TS3]_ = 0|
|Normal,<br>TS4|TS4 Temperature >**_Open Thermistor:Threshold_**<br>OR<br>Internal Temperature ≤ TS4 Temperature +**_Cell Delta_** if<br>**_Temperature Mode[TS4 Mode] = 0_**<br>OR<br>Internal Temperature ≤ TS4 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS4 Mode] = 1_**|_PFAlert()[TS4]_ = 0|
|Alert,<br>TS1|Condition 1:<br>TS1 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS1 Temperature +**_Cell Delta_** if<br>**_Temperature Mode[TS1 Mode] = 0_**|_PFAlert()[TS1]_ = 1|
|Alert,<br>TS1|OR Condition 2:<br>TS1 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS1 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS1 Mode] = 1_**|OR Condition 2:<br>TS1 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS1 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS1 Mode] = 1_**|
|Alert,<br>TS2|Condition 1:<br>TS2 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS2 Temperature +**_Cell Delta_** if<br>**_Temperature Mode[TS2 Mode] = 0_**|_PFAlert()[TS1]_ = 1|
|Alert,<br>TS2|OR Condition 2:<br>TS2 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS2 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS2 Mode] = 1_**|OR Condition 2:<br>TS2 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS2 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS2 Mode] = 1_**|
|Alert,<br>TS3|Condition 1:<br>TS3 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS3 Temperature +**_Cell Delta_** if<br>**_Temperature Mode[TS3 Mode] = 0_**|_PFAlert()[TS1]_ = 1|
|Alert,<br>TS3|OR Condition 2:<br>TS3 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS3 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS3 Mode] = 1_**|OR Condition 2:<br>TS3 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS3 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS3 Mode] = 1_**|
|Alert,<br>TS4|Condition 1:<br>TS4 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS4 Temperature +**_Cell Delta_** if<br>**_Temperature Mode[TS4 Mode] = 0_**|_PFAlert()[TS1]_ = 1|
|Alert,<br>TS4|OR Condition 2:<br>TS4 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS4 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS4 Mode] = 1_**|OR Condition 2:<br>TS4 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS4 Temperature +**_FET Delta_** if<br>**_Temperature Mode[TS4 Mode] = 1_**|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 31


_Permanent Fail_ [www.ti.com](https://www.ti.com)






|Status|Condition|Action|
|---|---|---|
|Trip,<br>TS1|Condition 1:<br>TS1 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS1 Temperature +**_Cell Delta_** for**_Open_**<br>**_Thermistor:Delay_** duration if<br>**_Temperature Mode[TS1 Mode] = 0_**|_PFAlert()[TS1]_ = 0<br>_PFStatus()[TS1]_ = 1|
|Trip,<br>TS1|OR Condition 2:<br>TS1 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS1 Temperature +**_FET Delta_** for<br>**_OpenThermistor:Delay_** duration if<br>**_Temperature Mode[TS1 Mode] = 1_**|OR Condition 2:<br>TS1 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS1 Temperature +**_FET Delta_** for<br>**_OpenThermistor:Delay_** duration if<br>**_Temperature Mode[TS1 Mode] = 1_**|
|Trip,<br>TS2|Condition 1:<br>TS2 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS2 Temperature +**_Cell Delta_** for**_Open_**<br>**_Thermistor:Delay_** duration if<br>**_Temperature Mode[TS2 Mode] = 0_**|_PFAlert()[TS2]_ = 0<br>_PFStatus()[TS2]_ = 1|
|Trip,<br>TS2|OR Condition 2:<br>TS2 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS2 Temperature +**_FET Delta_** for<br>**_OpenThermistor:Delay_** duration if<br>**_Temperature Mode[TS2 Mode] = 1_**|OR Condition 2:<br>TS2 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS2 Temperature +**_FET Delta_** for<br>**_OpenThermistor:Delay_** duration if<br>**_Temperature Mode[TS2 Mode] = 1_**|
|Trip,<br>TS3|Condition 1:<br>TS3 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS3 Temperature +**_Cell Delta_** for**_Open_**<br>**_Thermistor:Delay_** duration if<br>**_Temperature Mode[TS3 Mode] = 0_**|_PFAlert()[TS3]_ = 0<br>_PFStatus()[TS3]_ = 1|
|Trip,<br>TS3|OR Condition 2:<br>TS3 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS3 Temperature +**_FET Delta_** for<br>**_OpenThermistor:Delay_** duration if<br>**_Temperature Mode[TS3 Mode] = 1_**|OR Condition 2:<br>TS3 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS3 Temperature +**_FET Delta_** for<br>**_OpenThermistor:Delay_** duration if<br>**_Temperature Mode[TS3 Mode] = 1_**|
|Trip,<br>TS4|Condition 1:<br>TS4 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS4 Temperature +**_Cell Delta_** for**_Open_**<br>**_Thermistor:Delay_** duration if<br>**_Temperature Mode[TS4 Mode] = 0_**|_PFAlert()[TS4]_ = 0<br>_PFStatus()[TS4]_ = 1|
|Trip,<br>TS4|OR Condition 2:<br>TS4 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS4 Temperature +**_FET Delta_** for<br>**_OpenThermistor:Delay_** duration if<br>**_Temperature Mode[TS4 Mode] = 1_**|OR Condition 2:<br>TS4 Temperature ≤**_Open Thermistor:Threshold_** AND<br>Internal Temperature > TS4 Temperature +**_FET Delta_** for<br>**_OpenThermistor:Delay_** duration if<br>**_Temperature Mode[TS4 Mode] = 1_**|



32 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Advanced Charge Algorithm_

#### _Chapter 4_
### **_Advanced Charge Algorithm_**


**4.1 Introduction**



The device can change the values of _ChargingVoltage()_ and _ChargingCurrent()_ based on _Temperature()_ and
cell voltage1..4 or _RelativeStateofCharge()_ . Its flexible charging algorithm is JEITA compatible and can also
meet other specific cell manufacturer charge requirements. The _ChargingStatus()_ register shows the state of the
charging algorithm.


CVH


CVM


CVL






|LT CCH STL CCH RT CCH STH CCH HT CCH<br>LT CCM STL CCM RT CCM STH CCM HT CCM<br>LT CCL STL CCL RT CCL STH CCL HT CCL<br>PCHG<br>CHG<br>SUSP CHG CHG<br>CHG NORMAL<br>CHG INHIBIT SUSP<br>INHIBIT|Col2|Col3|Col4|Col5|Col6|
|---|---|---|---|---|---|
|CHG<br>SUSP<br>CHG<br>INHIBIT<br>CHG NORMAL<br>CHG<br>INHIBIT<br>CHG<br>SUSP<br>PCHG<br>LT CCH<br>STL CCH<br>STH CCH<br>RT CCH<br>HT CCH<br>LT CCM<br>STL CCM<br>STH CCM<br>RT CCM<br>HT CCM<br>LT CCL<br>STL CCL<br>STH CCL<br>RT CCL<br>HT CCL|LT CCH|STL CCH|RT CCH|STH CCH|STH CCH|
||LT CCM|STL CCM|RT CCM|STH CCM|STH CCM|
|CHG<br>SUSP<br>CHG<br>INHIBIT|LT CCL|STL CCL|RT CCL|STH CCL|STH CCL|
|CHG<br>SUSP<br>CHG<br>INHIBIT|PCHG|PCHG|PCHG|PCHG|PCHG|
|CHG<br>SUSP<br>CHG<br>INHIBIT||CHG N|ORMAL||CHG<br>INHIBIT|



T1 T2 T5 T6 T3 T4

Temperature


**4.2 Charge Temperature Ranges**


The measured temperature is segmented into several temperature ranges. The charging algorithm adjusts
_ChargingCurrent()_ and _ChargingVoltage()_ according to the temperature range. The temperature ranges set in
data flash should adhere to the following format:


_**T1**_ ≤ _**T2**_ ≤ _**T5**_ ≤ _**T6**_ ≤ _**T3**_ ≤ _**T4**_ .



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 33


_Advanced Charge Algorithm_ [www.ti.com](https://www.ti.com)



![](sluuaq3a.pdf-33-1.png)






|Hysteresi|s Temp|
|---|---|
|||


|Hysteresi|s Temp|
|---|---|
|||


|Hysteresi|s Temp|
|---|---|
|||


|Temperatu|ure() > T6|
|---|---|
|||
|||


|Temperatur|re() > T3|
|---|---|
|||
|||


|Temperatu|ure() > T4|
|---|---|
|||
|||








|Col1|Col2|
|---|---|
|_perature()_<br>< **_T1_**|_perature()_<br>< **_T1_**|


|Col1|Col2|
|---|---|
|_perature()_<br>< <br>**_T2_**|_perature()_<br>< <br>**_T2_**|


|Col1|Col2|
|---|---|
|_perature()_<br>< **_T5_**|_perature()_<br>< **_T5_**|


|Col1|Col2|
|---|---|
|_perature()_ <**_T6_** ±<br>**_Hysteresis Temp_**|_perature()_ <**_T6_** ±<br>**_Hysteresis Temp_**|


|Col1|Col2|
|---|---|
|_perature()_  <**_T3_** ±<br>**_Hysteresis Tem_**|_perature()_  <**_T3_** ±<br>**_Hysteresis Tem_**|


|Col1|Col2|
|---|---|
|_perature()_< **_T4_** ±<br>**_Hysteresis Temp_**|_perature()_< **_T4_** ±<br>**_Hysteresis Temp_**|



_**T1**_ _**T2**_ _**T5**_ _**T6**_ _**T3**_ _**T4**_


**4.3 Voltage Range**



_Temperature()_



The measured cell voltage is segmented into several voltage ranges. The charging algorithm adjusts
_ChargingCurrent()_ according to the temperature range and voltage range. The voltage ranges set in data flash
need to adhere to the following format:


_**Charging Voltage Low ≤ Charging Voltage Med ≤ Charging Voltage High ≤ × Temp Charging:Voltage**_


where × is Standard or Rec. Depending on the specific charging profile, the _**Low Temp Charging:Voltage**_ and
_**High Temp Charging:Voltage**_ settings do not necessarily have the highest setting values.


Cell Voltage



_**Charging Voltage**_
_**High**_


_**Charging Voltage**_
_**Medium**_


_**Charging Voltage**_
_**Low**_



![](sluuaq3a.pdf-33-2.png)







**4.3.1 RelativeStateofCharge() Range**


If _**[SOC_CHARGE]**_ in _**Charging Configuration**_ is set, then the voltages threshold control, as described in
Section 4.3, is replaced with _RelativeStateOfCharge()_ control.


34 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Advanced Charge Algorithm_


With this method, the following changes in control transitions occur:


1. [LV] state and _RelativeStateOfCharge()_ - _**Charging SoC Mid**_ ; move to [MV].
2. [MV] state and _RelativeStateOfCharge()_ - _**Charging SoC High**_ ; move to [HV].
3. [MV] state [DSG]=1, and _RelativeStateOfCharge()_ < _**Charging SoC Mid**_ – _**SoC Hysteresis**_ ;
move to [LV].
4. [HV] state [DSG]=1, and _RelativeStateOfCharge()_ < _**Charging SoC High**_ – _**Charging SoC Hysteresis**_ ;
move to [MV].


**Table 4-1.** _**RelativeStateofCharge()**_ **Range**

|Class|Subclass|Name|Type|Min Value|Max Value|Default Value|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charge<br>Algorithm|SOC Range|Charging SoC Mid|U1|0|100|50|%|
|Advanced Charge<br>Algorithm|SOC Range|Charging SoC High|U1|0|100|75|%|
|Advanced Charge<br>Algorithm|SOC Range|Charging SoC Hysteresis|U1|0|100|1|%|



**4.4 Charging Current**


The _ChargingCurrent()_ value changes depending on the detected temperature and voltage per the charging
algorithm.


The _**Charging Configuration[CRATE]**_ flag provides an option to adjust the _ChargingCurrent()_ based on
_FullChargeCapacity()/DesignCapacity()_ .


For example, with _**[CRATE]**_ = 1, if _FullChargeCapacity()_ / _DesignCapacity()_ = 90% and _**Rec Temp Charging:**_
_**Current Med**_ is active per the charging algorithm, the _ChargeCurrent()_ = _**Rec Temp Charging: Current Med**_ ×
90%.


**Note**


Table priority is top to bottom.






|Temp Range|Voltage Range|Condition|Action|
|---|---|---|---|
|Any|Any|_OperationStatus()[XCHG]_ = 1|_ChargingCurrent()_ = 0|
|UT or OT|Any|—|_ChargingCurrent()_ = 0|
|Any|PV|—|_ChargingCurrent()_ =**_Pre-Charging:Current_**|
|Any|LV, MV, or HV|_ChargingStatus()[MCHG]_ = 1|_ChargingCurrent()_ =**_Maintenance Charging:Current_**|
|LT|LV|—|_ChargingCurrent()_ =**_Low Temp Charging:Current_**<br>**_Low_**|
|LT|MV|—|_ChargingCurrent()_ =**_Low Temp Charging:Current_**<br>**_Med_**|
|LT|HV|—|_ChargingCurrent()_ =**_Low Temp Charging:Current_**<br>**_High_**|
|STL or STH|LV|—|_ChargingCurrent()_ =**_Standard Temp_**<br>**_Charging:Current Low_**|
|STL or STH|MV|—|_ChargingCurrent()_ =**_Standard Temp_**<br>**_Charging:Current Med_**|
|STL or STH|HV|—|_ChargingCurrent()_ =**_Standard Temp_**<br>**_Charging:Current High_**|
|RT|LV|—|_ChargingCurrent()_ =**_Rec Temp Charging:Current_**<br>**_Low_**|
|RT|MV|—|_ChargingCurrent()_ =**_Rec Temp Charging:Current_**<br>**_Med_**|
|RT|HV|—|_ChargingCurrent()_ =**_Rec Temp Charging:Current_**<br>**_High_**|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 35


_Advanced Charge Algorithm_ [www.ti.com](https://www.ti.com)






|Temp Range|Voltage Range|Condition|Action|
|---|---|---|---|
|HT|LV|—|_ChargingCurrent()_ =**_High Temp Charging:Current_**<br>**_Low_**|
|HT|MV|—|_ChargingCurrent()_ =**_High Temp Charging:Current_**<br>**_Med_**|
|HT|HV|—|_ChargingCurrent()_ =**_High Temp Charging:Current_**<br>**_High_**|



**4.5 Charging Voltage**


The _ChargingVoltage()_ changes depending on the detected temperature per the charge algorithm.


**Note**


Table priority is top to bottom.

|Temp Range|Condition|Action|
|---|---|---|
|Any|_OperationStatus()[XCHG]_ = 1|_ChargingVoltage()_ = 0|
|UT or OT|—|_ChargingVoltage()_ = 0|
|LT|—|_ChargingVoltage()_ =**_Low Temp Charging:Voltage_** × (**_DA_**<br>**_Configuration[CC1:CC0]_** + 1)|
|STL or STH|—|_ChargingVoltage()_ =**_Standard Temp Charging:Voltage_** × (**_DA_**<br>**_Configuration[CC1:CC0]_** + 1)|
|RT|—|_ChargingVoltage()_ =**_Rec Temp Charging:Voltage_** × (**_DA_**<br>**_Configuration[CC1:CC0]_** + 1)|
|HT|—|_ChargingVoltage()_ =**_High Temp Charging:Voltage_** × (**_DA_**<br>**_Configuration[CC1:CC0]_** + 1)|



**4.6 Valid Charge Termination**


The charge termination condition must be met to enable valid charge termination. The device has the following
actions at charge termination, based on the flags settings:


 - If _**SBS Gauging Configuration[CSYNC]**_ = 1, _RemainingCapacity()_ = _FullChargeCapacity()_ .

 - If _**SBS Gauging Configuration[RSOCL]**_ = 1, _RelativeStateOfCharge()_ and _RemainingCapacity()_ are held at
99% until charge termination occurs. Only on entering charge termination is 100% displayed.

 - If _**SBS Gauging Configuration[RSOCL]**_ = 0, _RelativeStateOfCharge()_ and _RemainingCapacity()_ are not
held at 99% until charge termination occurs. Fractions of % greater than 99% are rounded up to display
100%.








|Status|Condition|Action|
|---|---|---|
|Charging|_GaugingStatus()[DSG]_ = 0|Charge Algorithm active|
|Valid Charge<br>Termination|All of the following conditions must occur for<br>two consecutive 40-s periods:<br>Charging (that is,_BatteryStatus[DSG]_ = 0)<br>AND<br>_AverageCurrent()_ <**_Charge Term Taper_**<br>**_Current_** AND<br>Max cell voltage1..4 +**_Charge Term Voltage_**<br>≥ _ChargingVoltage()_ / number of cells in series<br>AND<br>The accumulated change in capacity ><br>0.25 mAh.|_ChargingStatus()[VCT]_ = 1<br>_ChargingStatus()[MCHG]_ = 1<br>_ChargingVoltage()_ = Charging Algorithm<br>_ChargingCurrent()_ = Charging Algorithm<br>_BatteryStatus()[FC]_ = 1 and_GaugingStatus()[FC]_ = 1 if<br>**_SOCFlagConfig A[FCSETVCT]_** = 1<br>_BatteryStatus()[TCA]_ = 1 and_GaugingStatus()[TCA]_ = 1 if<br>**_SOCFlagConfig B[TCASETVCT]_** = 1|



**4.7 Charge and Discharge Termination Flags**


The _[TC]_ and _[FC]_ bits in _GaugingStatus()_ can be set at charge termination as well as based on RSOC or cell
voltages. If multiple set and clear conditions are selected, then the corresponding flag will be set whenever a


36 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Advanced Charge Algorithm_


valid set or clear condition is met. If both set and clear conditions are true at the same time, the flag will clear.
The same functionality is applied to the _[TD]_ and _[FD]_ bits in _GaugingStatus()_ .


**Note**


_GaugingStatus()[TC][TD][FC][FD]_ are the status flags based on the gauging conditions only. These
flags are set and cleared based on _**SOC Flag Config A**_ and _**SOC Flag Config B**_ .


The _BatteryStatus()[TAC][FC][TDA][FD]_ flags will be set and cleared according to the _BatteryStatus()_

_[TC][FC][TD][FD]_ flags as well as the safety and permanent failure protections status. For more
information, see Section 4.8.


When _GaugingStatus() [FC]_ is set AND _**FET Option[CHGFET] = 1**_, the CHG FET turns off.


The _[FC]_ flag is identical between gauging status and battery status, but not _[TD]_ . The table below summarizes
the various options to set and clear the _[TC]_ and _[FC]_ flags in _GaugingStatus()_ .






|Flag|Set Criteria|Set Condition|Enable|
|---|---|---|---|
|_[TC]_|cell voltage|Max cell voltage1..4 ≥**_TC: Set Voltage_**<br>**_Threshold_**|**_SOC Flag Config A[TCSetV]_** = 1|
|_[TC]_|RSOC|_RelativeStateOfCharge()_ ≥**_T_** **_C: Set % RSOC_**<br>**_Threshold_**|**_SOC Flag Config A[TCSetRSOC]_** = 1|
|_[TC]_|Valid Charge Termination<br>(enable by default)|When_ChargingStatus[VCT]_ = 1|**_SOC Flag Config A[TCSetVCT]_** = 1|
|_[FC]_|cell voltage|Max cell voltage1..4 ≥**_FC: Set Voltage_**<br>**_Threshold_**|**_SOC Flag Config B[FCSetV]_** = 1|
|_[FC]_|RSOC|_RelativeStateOfCharge()_ ≥**_C: Set % RSOC_**<br>**_Threshold_**|**_SOC Flag Config B[FCSetRSOC]_** = 1|
|_[FC]_|Valid Charge Termination<br>(enable by default)|When_ChargingStatus[VCT]_ = 1|**_SOC Flag Config A[FCSetVCT]_** = 1|








|Flag|Clear Criteria|Clear Condition|Enable|
|---|---|---|---|
|_[TC]_|cell voltage|Max cell voltage1..4 ≤**_TC: Clear Voltage_**<br>**_Threshold_**|**_SOC Flag Config A[TCClearV]_** = 1|
|_[TC]_|RSOC (enable by default)|_RelativeStateOfCharge()_ ≤**_TC: Clear % RSOC_**<br>**_Threshold_**|**_SOC Flag Config A[TCClearRSOC]_** = 1|
|_[FC]_|cell voltage|Max cell voltage1..4 ≤**_FC: Clear Voltage_**<br>**_Threshold_**|**_SOC Flag Config B[FCClearV]_** = 1|
|_[FC]_|RSOC (enable by default)|_RelativeStateOfCharge()_ ≤**_FC: Clear % RSOC_**<br>**_Threshold_**|**_SOC Flag Config B[FCClearRSOC]_** = 1|




_[TD]_ and _[FD]_ both have extra conditions. If gauging status _[FD]_ is set then battery status is always set, but
clearing depends also on some safety conditions (CUV/SUV).


The table below summarizes the various options to set and clear the _[TD]_, and _[FD]_ flags in _GaugingStatus()_ .






|Flag|Set Criteria|Set Condition|Enable|
|---|---|---|---|
|_[TD]_|cell voltage|Min cell voltage1..4 ≤**_TD: Set Voltage_**<br>**_Threshold_**|**_SOC Flag Config A[TDSetV]_** = 1|
|_[TD]_|RSOC (enable by default)|_RelativeStateOfCharge()_ < =**_TD: Set %_**<br>**_RSOC Threshold_**|**_SOC Flag Config A[TDSetRSOC]_** = 1|
|_[FD]_|cell voltage|Min cell voltage1..4 ≤**_FD: Set Voltage_**<br>**_Threshold_**|**_SOC Flag Config B[FDSetV]_** = 1|
|_[FD]_|RSOC (enable by default)|_RelativeStateOfCharge()_ < =**_FD: Set %_**<br>**_RSOC Threshold_**|**_SOC Flag Config B[FDSetRSOC]_** = 1|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 37


_Advanced Charge Algorithm_ [www.ti.com](https://www.ti.com)






|Flag|Clear Criteria|Clear Condition|Enable|
|---|---|---|---|
|_[TD]_|cell voltage|Min cell voltage1..4 ≥**_TD: Clear Voltage_**<br>**_Threshold_**|**_SOC Flag Config A[TDClearV]_** = 1|
|_[TD]_|RSOC (enable by default)|_RelativeStateOfCharge()_ ≥**_TD: Clear %_**<br>**_RSOC Threshold_**|**_SOC Flag Config A[TDClearRSOC]_** = 1|
|_[FD]_|cell voltage|Min cell voltage1..4 ≥**_FD: Clear Voltage_**<br>**_Threshold_**|**_SOC Flag Config B[FDClearV_**] = 1|
|_[FD]_|RSOC (enable by default)|_RelativeStateOfCharge()_ ≥**_FD: Clear %_**<br>**_RSOC Threshold_**|**_SOC Flag Config B[FDClearRSOC]_** = 1|



**4.8 Terminate Charge and Discharge Alarms**


When the protections and permanent fails are triggered, the _BatteryStatus()[TCA][TDA][FD][OCA][OTA][FC]_ will
be set according to the type of safety protections. Here is a summary of the set conditions of the various alarms
flags.


_[TCA]_ = 1 if


 _SafetyAlert()[OCC1]_, _[OCC2]_, _[COV]_, _[OTC]_, _[OTF]_, _[OC]_, _[CHGC]_, _[CHGV]_, or _[PCHGC]_ = 1, OR

 - _PFAlert()[SOV] or [SOCC]_ = 1, OR

 - _Any PFStatus()_ = 1, OR

 - _OperationStatus()[PRES]_ = 0, OR

 - _GaugingStatus()[TC]_ = 1 AND in CHARGE mode


[FC] = 1

 - if GaugingStatus()[FC] = 1


_[OCA]_ = 1 if


 - _SafetyStatus()[OC]_ = 1 AND in CHARGE mode


_[TDA]_ = 1 if


 _SafetyAlert()[OCD1]_, _[OCD2]_, _[CUV]_, _[CUVC]_, _[OTD]_, or _[OTF]_ = 1, OR

 - _PFAlert()[SUV]_ or _[SOCD]_ = 1, OR

 - Any _PFStatus()_ = 1, OR

 - _OperationStatus()[PRES]_ = 0

 - _GaugingStatus()[TD]_ = 1 AND in DISCHARGE mode


_[FD]_ = 1 if


 - _SafetyStatus()[CUV]_ = 1, OR

 - _PFStatus()[SUV]_ = 1, OR

 - _GaugingStatus()[FD]_


_[OTA]_ = 1 if


 _SafetyStatus()[OTC]_, _[OTD]_, or _[OTF]_ = 1, OR

 - _PFStatus()[SOT]_ or _[SOTF]_ = 1


**4.9 Precharge**


The gauge enters PRECHARGE mode if,


1. Min cell voltage1..4 < _**Precharge Start Voltage**_, OR
2. Max cell voltage1..4 < _**Charging Voltage Low – Charging Voltage Hysteresis**_ and not in CHARGE mode


Depending on the _**FET Options[PCHG_COMM]**_ settings, the external precharge FET or CHG FET can be used
in PRECHARGE mode. Setting the _**Precharge Start Voltage and Charging Voltage Low**_ = 0 mV disables the
precharge function.


38 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Advanced Charge Algorithm_

|[PCHG_COMM] = 0|[PCHG_COMM] = 1|
|---|---|
|FET USED: external precharge FET|FET USED: CHG FET|



The device also supports 0-V charging using either an external precharge FET or CHG FET. If _**[PCHG_COMM]**_
= 1, the gauge enables the hardware 0-V charging circuit automatically when the battery stack voltage is below
the minimum operation voltage of the device (see the _BQ4050 1-Series to 4-Series Li-Ion Battery Pack Manager_
[data sheet [SLUSC67] for BQ4050 electrical specifications).](https://www.ti.com/lit/pdf/SLUSC67)


**4.10 Maintenance Charge**


Maintenance charge can be configured to provide charge current after charge termination is reached.


If the Overcharge Protection is enabled, _**Enabled Protections C[OC]**_ = 1, extra margin may be needed for
_**OC:Threshold**_ to prevent triggering the OC protection by the maintenance charging.








|Status|Condition|Action|
|---|---|---|
|Set|_ChargingStatus()[IN]_ = 0 AND_ChargingStatus()_<br>_[SU]_ = 0 AND<br>_ChargingStatus()[PV]_ = 0 AND_GaugingStatus()_<br>_[TCA]_ = 1|_ChargingStatus()[MCHG]_ = 1<br>_ChargingVoltage()_ = Charging Algorithm<br>_ChargingCurrent()_ = Charging Algorithm|
|Clear|_ChargingStatus()[IN]_ = 1 OR<br>_ChargingStatus()[SU]_ = 1 OR<br>_ChargingStatus()[PV]_ = 1 OR<br>_GaugingStatus()[TCA]_ = 0|_ChargingStatus()[MCHG]_ = 0<br>_ChargingVoltage()_ = Charging Algorithm<br>_ChargingCurrent()_ = Charging Algorithm|



**4.11 Charge Control SMBus Broadcasts**


If the _**[HPE]**_ bit is enabled, MASTER mode broadcasts to the host address are PEC enabled. If the _**[CPE]**_ bit is
enabled, MASTER mode broadcasts to the smart-charger address are PEC enabled. The _**[BCAST]**_ bit enables
all broadcasts to a host or a smart charger. When the _**[BCAST]**_ bit is enabled, the following broadcasts are sent:


 - _ChargingVoltage()_ and _ChargingCurrent()_ broadcasts are sent to the smart-charger device address (0x12)
every 10 to 60 s.

 - If any of the _[OCA]_, _[TCA]_, _[OTA]_, _[TDA]_, _[RCA]_, _[RTA]_ flags are set, the _AlarmWarning()_ broadcast is sent to
the host device address (0x14) every 10 s. Broadcasts stop when all flags above have been cleared.

 - If any of the _[OCA]_, _[TCA]_, _[OTA]_, _[TDA]_ flags are set, the _AlarmWarning()_ broadcast is sent to a smartcharger device address every 10 s. Broadcasts stop when all flags above have been cleared.


**4.12 Charge Disable and Discharge Disable**


The device can disable charging if certain safety conditions are detected, setting the _OperationStatus()[XCHG]_ =
0.








|Status|Condition|Action|
|---|---|---|
|Normal|_ALL PFStatus()_ = 0 AND_SafetyStatus()[COV]_ =<br>0 AND<br>_SafetyStatus()[OCC1][OCC2]_ = 0,0 AND<br>_SafetyStatus()[ASCC]_ = 0 AND<br>_SafetyStatus()[ASCCL]_ = 0 AND_SafetyStatus()_<br>_[CTO]_ = 0 AND<br>_SafetyStatus()[PTO]_ = 0 AND<br>_OperationStatus()[PRES]_ = 1 AND<br>_GaugingStatus()[TCA]_ = 0 if**_Charging_**<br>**_Configuration[CHGFET]_** = 1|_ChargingVoltage()_ = Charging Algorithm<br>_ChargingCurrent()_ = Charging Algorithm<br>_OperationStatus()[XCHG]_ = 0|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 39


_Advanced Charge Algorithm_ [www.ti.com](https://www.ti.com)








|Status|Condition|Action|
|---|---|---|
|Trip|_ManufacturingStatus()[FET_EN]_ = 0 OR<br>_ANY PFStatus()[]_ = 1 OR<br>_SafetyStatus()[COV]_ = 1 OR<br>_SafetyStatus()[OCC1]_ = 1 OR<br>_SafetyStatus()[OCC2]_ = 1 OR<br>_SafetyStatus()[ASCC]_ = 1 OR<br>_SafetyStatus()[ASCCL]_ = 1 OR<br>_SafetyStatus()[CTO]_ = 1 OR<br>_SafetyStatus()[PTO]_ = 1 OR<br>_SafetyStatus()[HWDF]_ = 1 OR<br>_SafetyStatus()[OC]_ = 1 OR<br>_SafetyStatus()[CHGC]_ = 1 OR<br>_SafetyStatus()[CHGV]_ = 1 OR<br>_SafetyStatus()[PCHGC]_ = 1 OR<br>_SafetyStatus()[UTC]_ = 1 OR<br>_SafetyStatus()[OTC]_ = 1 if**_[OTFET]_** = 1 OR<br>_ChargingStatus()[IN]_ = 1 if**_[CHGIN]_** = 1 OR<br>_ChargingStatus()[SU]_ = 1 if**_[CHGSU]_** = 1 OR<br>_OperationStatus()[SLEEP]_ = 1 if**_[NR]_** = 1 AND<br>**_[SLEEPCHG]_** = 0 OR<br>_OperationStatus()[EMSHUT]_ = 1 OR<br>_OperationStatus()[PRES]_ = 0 OR<br>_GaugingStatus()[TCA]_ = 1 if**_Charging_**<br>**_Configuration[CHGFET]_** = 1|_ChargingVoltage()_ = 0<br>_ChargingCurrent()_ = 0<br>_OperationStatus()[XCHG]_ = 1|



Similarly, the device can disable discharge if any of the following conditions are detected, setting the
_OperationStatus()[XDSG]_ = 1.


 - _ManufacturingStatus()[FET_EN]_ = 0, OR

 - Any _PFStatus()_ set, OR

 - _SafetyStatus()[OCD1]_ or _[OCD2]_ or _[CUV]_ or _[CUVC]_ or _[AOLD]_ or _[AOLDL]_ or _[ASCD]_ or _[ASCDL]_ or _[UTD]_ =
1, OR

 - _SafetyStatus()[OTD]_ or _[OTF]_ = 1 if _**[OTFET]**_ = 1, OR

 - _OperationStatus()[PRES]_ = 0, OR

 - _OperationStatus()[EMSHUT]_ = 1,OR

 - _OperationStatus()[SDM]_ = 1 AND delay time > _**FET Off Time**_, OR

 - _OperationStatus()[SDV]_ = 1 AND low voltage time ≥ _**Shutdown Time**_


**4.13 Charge Inhibit**


The device can inhibit the start of charging at high and low temperatures to prevent damage of the cells. This
feature prevents the start of charging when the temperature is at the inhibit range; therefore, if the device is
already in the charging state when the temperature reaches the inhibit range, a FET action will not take place
even if _**FET Options[CHGIN]**_ = 1.








|Status|Condition|Action|
|---|---|---|
|Normal|_ChargingStatus()[LT]_ = 1 OR<br>_ChargingStatus()[STL]_ = 1 OR<br>_ChargingStatus()[RT]_ = 1 OR<br>_ChargingStatus()[STH]_ = 1|_ChargingStatus()[IN]_ = 0<br>_ChargingVoltage()_ = charging algorithm<br>_ChargingCurrent()_ = charging algorithm|
|Trip|Not charging AND_(ChargingStatus()[HT]_ = 1<br>OR<br>_ChargingStatus()[OT]_ = 1 OR<br>_ChargingStatus()[UT]_ = 1|_ChargingStatus()[IN]_ = 1<br>_ChargingStatus()[SU]_ = 0<br>_ChargingVoltage()_ = 0<br>_ChargingCurrent()_ = 0<br>_OperationStatus()[XCHG]_ = 1 if**_FET Options[CHGIN]_** = 1.|



**4.14 Charge Suspend**


The device can stop charging at high and low temperatures to prevent damage of the cells.


40 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Advanced Charge Algorithm_


The _ChargingStatus()[SU]_ condition is only active in the CHARGING mode. Once CHARGE SUSPEND is
triggered, the gauge will exit CHARGING mode after _**Chg Relax Time**_ and the CHARGE SUSPEND will change
to CHARGE INHIBIT.







|Status|Condition|Action|
|---|---|---|
|Normal|_ChargingStatus()[LT]_ = 1 OR<br>_ChargingStatus()[STL]_ = 1 OR<br>_ChargingStatus()[RT]_ = 1 OR<br>_ChargingStatus[STH]_ = 1 OR<br>_ChargingStatus()[HT]_ = 1|_ChargingStatus()[SU]_ = 0<br>_ChargingVoltage()_ = charging algorithm<br>_ChargingCurrent()_ = charging algorithm|
|Trip|_ChargingStatus()[UT]_ = 1 OR<br>_ChargingStatus()[OT]_ = 1|_ChargingStatus()[SU]_ = 1<br>_ChargingVoltage()_ = 0<br>_ChargingCurrent()_ = 0<br>_OperationStatus()[XCHG]_ = 1 if**_FET Options[CHGSU]_** = 1.|


**4.15 ChargingVoltage() Rate of Change**





The device can slope the value changes from one range to another to avoid jumping between different voltage
ranges. Setting the _**Voltage Rate**_ to 1 disables this feature because the _ChargingVoltage()_ changes in one step.
The gauge will not apply any voltage stepping if _**Voltage Rate**_ is set to 1.


**Note**


The host needs to read _ChargingVoltage()_ at least once a second during charging to adjust the
charger accordingly.



|Status|Condition|Action|
|---|---|---|
|Trip|_ChargingVoltage()_ Change|_ChargingStatus()[CVR]_ = 1<br>_ChargingVoltage()_ = Old + n × (New – Old)/**_Voltage Rat_**e, where<br>Old = present_ChargingVoltage()_<br>New = the target_ChargingVoltage()_ that the device is going to change<br>to n = 1..**_Voltage Rate_**, increment in steps of one per second.|


**4.16 ChargingCurrent() Rate of Change**





The device can slope the value changes from one range to another to avoid jumping between different current
ranges. Setting the _**Current Rate**_ to 1 disables this feature because the _ChargingCurrent()_ changes in one step.
The gauge will not do any current stepping if _**Current Rate**_ is set to 1.


**Note**


The host needs to read _ChargingCurrent()_ at least once a second during charging to adjust the
charger accordingly.



|Status|Condition|Action|
|---|---|---|
|Trip|_ChargingCurrent()_ Change|_ChargingStatus()[CCR]_ = 1<br>_ChargingCurrent()_ = Old + n × (New – Old)/**_Current Rate_**, where<br>Old = present_ChargingCurrent()_<br>New = the target_ChargingCurrent()_ that the device will change to n =<br>1..**_Current Rate_**, increment in steps of 1 per second.|


**4.17 Charging Loss Compensation**





The device can modify _ChargingVoltage()_ and _ChargingCurrent()_ to compensate losses caused by the FETs,
the fuse, and the sense resistor by measuring the cell voltages directly and adjusting _ChargingCurrent()_ and
_ChargingVoltage()_ accordingly.


In CONSTANT CURRENT mode, the device can increase the _ChargingVoltage()_ value to compensate the drop
losses. This feature can be enabled by setting _**Configuration[CCC]**_ = 1 and configuring the _**CCC Current**_
_**Threshold**_ .



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 41


_Advanced Charge Algorithm_ [www.ti.com](https://www.ti.com)


**Note**


The host must read _ChargingVoltage()_ and/or _ChargingCurrent()_ at least once a second during
charging to adjust the charger accordingly.







|Status|Condition|Action|
|---|---|---|
|Normal|_Current()_ >**_CCC Current Threshold_** AND<br>_Voltage()_ = Charging algorithm voltage|_ChargingStatus()[CCC]_ = 0<br>_ChargingVoltage()_ = Charging Algorithm|
|Active|_Current()_ >**_CCC Current Threshold_** AND<br>_Voltage()_ < Charging algorithm voltage|_ChargingStatus()[CCC]_ = 1<br>_ChargingVoltage()_ = Charging Algorithm + (_PackVoltage()_ –_Voltage()_)|
|Limit|(Pack pin voltage in_DAStatus1()_ –_Voltage()_) ><br>**_CCC Voltage Threshold_**|_ChargingVoltage()_ = Charging Algorithm +**_CCC Voltage Threshold_**|


42 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Power Modes_

#### _Chapter 5_
### **_Power Modes_**


**5.1 Introduction**


To enhance battery life, the BQ4050 supports several power modes to minimize power consumption during
operation.


**5.2 NORMAL Mode**


In NORMAL mode, the device takes voltage, current, and temperature readings every 250 ms, performs
protection and gauging calculations, updates SBS data, and makes status decisions at 1-s intervals. Between
these periods of activity, the device is in a reduced power state.


If the [NR] bit is set, the PRES input can be left floating, as it is not monitored.


**5.2.1 BATTERY PACK REMOVED Mode/System Present Detection**

_**5.2.1.1 System Present**_


PRES is sampled four times per second, and if PRES is high for 4 samples (one second), the
_OperationStatus[PRES]_ flag is cleared. If PRES is low for 4 samples (one second), the _OperationStatus [PRES]_
flag is set, indicating the system is present (the battery is inserted). If the _**[NR]**_ bit is set, the PRES input is
ignored and can be left floating.


_**5.2.1.2 Battery Pack Removed**_


The BQ4050 detects the BATTERY PACK REMOVED mode if the _**[NR]**_ bit is set to 0 AND the PRES input is
high ( _[PRES]_ = 0).


On entry to the BATTERY PACK REMOVED mode, the _[TCA]_ and _[TDA]_ flags are set, _ChargingCurrent()_ and
_ChargingVoltage()_ are set to 0, the CHG and DSG FETs are turned off, and the Precharge FET is turned off (if
used).


Polling of the PRES pin continues at a rate of once every 1 s.


The BQ4050 exits the BATTERY PACK REMOVED state if the _**[NR]**_ flag is set to 0 AND the PRES input is low
( _[PRES]_ = 1). When this occurs, the _[TCA]_ and _[TDA]_ flags are reset.


**5.3 SLEEP Mode**


**5.3.1 Device Sleep**


When the sleep conditions are met, the device goes into SLEEP mode with periodic wake-ups for voltage,
temperature, and current measurements to reduce power consumption.


_OperationStatus()[SLPAD]_ is set when the gauge wakes to measure voltage and temperature. Similarly, the

_[SLPCC]_ is set when the gauge wakes for current measurement. In general, it is not possible to read these flags
because an SMBus communication will wake up the gauge.


The device returns to NORMAL mode if any exit sleep condition is met.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 43


_Power Modes_ [www.ti.com](https://www.ti.com)








|Status|Condition|Action|
|---|---|---|
|Activate|SMBus low for**_Bus Timeout_** (1) if<br>**_[IN_SYSTEM_SLEEP]_** = 0, or no communication for<br>**_Bus Timeout_** if**_[IN_SYSTEM_SLEEP]_** = 1 AND<br>**_DA Config[SLEEP]_** = 1(1) AND<br>|_Current()_| ≤**_Sleep Current_** AND<br>**_Voltage Time_** > 0 AND<br>(_OperationStatus()[PRES]_ = 0 OR<br>**_DA Config[NR]_** = 1) AND<br>_OperationStatus()[SDM]_ = 0 AND<br>No_PFAlert()_ bits set AND(5)<br>No_PFStatus()_ bits set AND<br>No_SafetyAlert()_ bits set AND(5)<br>No [AOLD], [AOLDL], [ASCC], [ASCCL], [ASCD],<br>[ASCDL] set in_SafetyStatus()_|Turn off CHG FET and PCHG FET if**_DA_**<br>**_Configuration[SLEEPCHG]_** = 0.(3)<br>Device goes to sleep.<br>Device wakes up every**_Sleep:Voltage Time_** period to measure<br>voltage and temperature.<br>Device wakes up every**_Sleep:Current Time_** period to measure<br>current.|
|Exit|SMBus connected(1)OR<br>SMBus command received(2) OR<br>**_DA Config[SLEEP]_** = 1(1) OR<br>|_Current()_| >**_Sleep Current_** OR<br>Wake comparator activates(4) OR<br>**_Voltage Time_** = 0 OR<br>(_OperationStatus()[PRES]_ = 1 AND<br>**_DA Config[NR]_** = 0) OR<br>_OperationStatus()[SDM]_ = 1 OR<br>_PFAlert()_ bits set OR<br>_PFStatus()_ bits set OR<br>_SafetyAlert()_ bits set OR<br>_[AOLD], [AOLDL], [ASCC], [ASCCL], [ASCD],_<br>_[ASCDL]_ set in_SafetyStatus()_|Return to NORMAL mode|



(1) _**DA Config[SLEEP]**_ and SMBus low are not checked if the _ManufacturerAccess()_ SLEEP mode command is used to enter SLEEP
mode.
(2) Wake on SMBus command is only possible when the gas gauge is put to sleep using the _ManufacturerAccess(_ ) SLEEP mode
command or _**[IN_SYSTEM_SLEEP]**_ is enabled with _**Bus Timeout**_ = 0. Otherwise, the gas gauge wakes on an SMBus connection
(clock or data high).
(3) For _**[NR]**_ = 0, the CHG FET and PCHG FET remains on in SLEEP mode if _**[SLEEPCHG]**_ = 1, but if the battery pack is removed from
the system, the CHG FET is off because the system present takes higher priority than _**[SLEEPCHG]**_ .
(4) The wake comparator threshold is set through _**Power.WakeComparator[WK1,WK0]**_ (see Section 5.3.4).
(5) _SafetyAlert()[PTO]_, _[PTOS]_, _[CTO]_, _[CTOS]_ or _PFAlert()_ _[OC]_ will not prevent the gauge to enter SLEEP mode.


**5.3.2 IN SYSTEM SLEEP Mode**


The device provides an option for removable packs (that is, _**DA Config[NR]**_ = 0) to enter SLEEP mode
in-system. When the _**DA Config[IN_SYSTEM_SLEEP]**_ = 1, the device will enter SLEEP mode even if the
_OperationStatus()[PRES] = 1_ . This option ignores the PRES pin status only. All the other sleep conditions must
be met for the device to enter SLEEP mode.


In the IN SYSTEM SLEEP mode, it is possible to read the _[SLPAC]_ and _[SLPCC]_ flags if _**[IN_SYSTEM_SLEEP]**_
= 1 and _**Bus Timeout**_ = 0. This setting allows the gauge to enter SLEEP mode with active communication in

progress.


**Note**


Setting the _**Bus Timeout**_ = 0 with _**[IN_SYTEM_SLEEP]**_ can be used for testing purposes, but it is
not recommended to set the _**Bus Timeout**_ = 0 in the field. If _**Bus Timeout**_ = 0, the device's sleep
and wake conditions are strictly controlled by current detection. If the host system performs a low
load operation periodically (for example, wireless detection in a tablet application), this small load
current may be missed, introducing an error into remaining capacity tracking. Having a non-zero
_**Bus Timeout**_ setting enables the gauge to wake up by a communication and capture the current
measurement.


44 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Power Modes_


**5.3.3 ManufacturerAccess() MAC Sleep**


The SLEEP MAC command can override the requirement for bus low to enter sleep. In this case, the BQ4050
clock and data high condition is ignored for sleep to exit, though sleep will also exit if there is any further SMBus
communication. The device can be sent to sleep with _ManufacturerAccess()_ if specific sleep entry conditions are
met.


**5.3.4 Wake Function**


The device can exit SLEEP mode if enabled by the presence of a voltage across SRP and SRN. The voltage
threshold needed for the device to wake from SLEEP mode is programmed in _**Power:Wake Comparator**_ . This
allows the gauge to wake up quickly in response to a higher current detection. Otherwise, the gauge only wakes
up every _**Sleep Current Time**_ to detect if | _Current()_ | is > Sleep Current.


**Reserved (Bits 7–4, 1–0):** Reserved. Do not use.


**WK1,0 (Bits 3–2):** Wake Comparator Threshold

|WK1|WK0|Voltage|
|---|---|---|
|0|0|±0.625 mV|
|0|1|±1.25 mV|
|1|0|±2.5 mV|
|1|1|±5 mV|



**5.4 SHUTDOWN Mode**


**5.4.1 Voltage Based Shutdown**


To minimize power consumption and to avoid draining the battery, the device can be configured to shut down
at a programmable stack voltage threshold. This function also works in PERMANENT FAILURE mode. When
the device is in PERMANENT FAILURE mode, the parameters _**PF Shutdown Voltage**_ and _**PF Shutdown Time**_
configure the shutdown threshold.






|Status|Condition|Action|
|---|---|---|
|Enable|Min cell voltage <**_Shutdown Voltage_**|_OperationStatus()[SDV]_ = 1|
|Trip|Min cell voltage continuous <**_Shutdown Voltage_**<br>for**_Shutdown Time_**|Turn DSG FET off|
|Shutdown|Voltage at PACK pin <**_Charger Present_**<br>**_Threshold_**|Send device into SHUTDOWN mode|
|Exit|Voltage at PACK pin > VSTARTUP|_OperationStatus()[SDV]_ = 0<br>Return to NORMAL mode|



**Table 5-1. PF Shutdown Voltage**

|Class|Subclass|Name|Format|Size in Bytes|Min Value|Max Value|Default Value|Unit|
|---|---|---|---|---|---|---|---|---|
|Power|Shutdown|PF Shutdown<br>Voltage|Int|2|0|32767|1750|mV|



**Table 5-2. PF Shutdown Time**


|Class|Subclass|Name|Format|Size in Bytes|Min Value|Max Value|Default Value|Unit|
|---|---|---|---|---|---|---|---|---|
|Power|Shutdown|PF Shutdown<br>Time|Unsigned Int|1|0|255|10|s|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 45


_Power Modes_ [www.ti.com](https://www.ti.com)


**Note**


The device goes through a full reset when exiting from SHUTDOWN mode, which means the device
will re-initialize. On power up, the gauge will check some special memory locations. If the memory
checksum is incorrect, or if the gauge or the AFE watchdog has been triggered, the gauge will do a full
reset.


The memory checksum is good; for example, in a case of a short power glitch, the gauge will do
a partial reset. The initialization is faster in a partial reset, and certain memory data will not be
re-initialized (for example, all SBS registers, last known FET state, last ADC and CC readings, and so
on), and so a partial reset is usually transparent to the host.


**5.4.2 ManufacturerAccess() MAC Shutdown**


In SHUTDOWN mode, the device turns off the FETs after _**FET Off Time**_, and then shuts down to minimize
power consumption after _**Delay**_ time. Both _**FET Off Time**_ and _**Delay**_ time are referenced to the time the gauge
receives the command. Thus, the _**Delay**_ time must be set longer than the _**FET Off Time**_ . The device returns
to NORMAL mode when voltage at PACK pin > V STARTUP . The device can be sent to this mode with the
_ManufacturerAccess() Shutdown_ command. Charger voltage must not be present for the device to enter SHIP
SHUTDOWN mode.


**Note**


If the gauge is unsealed and the MAC _Shutdown()_ command is sent twice in a row, the gauge will
execute the shutdown sequence immediately and skip the normal delay sequence.


**5.4.3 Time Based Shutdown**


The device can be configured to shut down after staying in SLEEP mode without communication for a preset
time interval specified in the _**Auto Ship Time**_ . Setting the _**PowerConfig[AUTO_SHIP_EN]**_ = 1 enables this
feature. Any communication to the device will restart the timer. When the timer reaches the Auto Ship Time,
the time based shutdown effectively triggers the MAC shutdown command to start the shutdown sequence. The
device returns to NORMAL mode when voltage at PACK pin > V STARTUP .


**5.4.4 Emergency Shutdown (EMSHUT)**


The EMERGENCY SHUTDOWN function provides an option to disable the battery power to the system by
opening up both CHG and DSG FETs before removing an embedded battery pack. There are two ways to enter
the EMERGENCY SHUTDOWN state:


1. Use an external signal (for example, a push-button switch) to detect a low-level threshold signal on the
SHUTDN pin.
2. Send a Manual FET Control (MFC) sequence to _ManufacturerAccess()_ .


When the gauge is in the EMERGENCY SHUTDOWN state, the _OperationStatus()[EMSHUT]_ = 1.


_**5.4.4.1 Enter Emergency Shutdown Through SHUTDN**_


When a high-to-low transition on the SHUTDN pin is detected with a debounce delay of about 1 s for the low
level threshold, the gauge will turn off both CHG and DSG FETs immediately. This entry method only applies if

_**[NR]**_ = 1 and _**DA Configuration[EMSHUT]**_ = 1. If _**[NR]**_ = 0, the SHUTDN pin will restore to the regular system
present detection.


_**5.4.4.2 Enter Emergency Shutdown Through MFC**_


Alternately, sending a Manual FET Control (MFC) sequence using the steps below also puts the gauge to the
EMERGENCY SHUTDOWN state. This entry method applies to _**NR]**_ = 0 and _**[NR]**_ = 1.


1. Send word 0x207C to _ManufacturerAccess()_ (0x00) to enable the MFC.
2. Within 4 s, send word 0x043D to _ManufacturerAccess()_ (0x00) to turn off CHG and DSG FETs.
3. The CHG and DSG FETs will be off after _**MFC Delay**_ .


46 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Power Modes_


_**5.4.4.3 Exit Emergency Shutdown**_


Regardless of which EMSHUT entry method is used, the gauge can exit the EMSHUT mode by turning on the
CHG and DSG FETs with the following conditions:


 - A high-to-low transition on the SHUTDN pin is detected with a debounce delay of 1 s for the low level
threshold. For example, a push button is pressed again.

 - Send word 0x23A7 to _ManufacturerAccess()_ (0x00).


In addition to these exit conditions, if the gauge enters EMSHUT (via a push-button, for example), it can exit the
EMSHUT mode after a shutdown restore timeout defined by the _**Timeout**_ parameter.


For the case of _**[NR]**_ = 0, a battery insertion will also exit the EMERGENCY SHUTDOWN mode.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 47


_Power Modes_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


48 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Gauging_

#### _Chapter 6_
### **_Gauging_**


**6.1 Gas Gauge Operation**


**6.1.1 General**


The operational overview in Figure 6-1 illustrates the gas operation of the BQ4050.



![](sluuaq3a.pdf-48-1.png)



**Inputs**


**Main Counters and**

**Capacity Reference (FCC)**


**Outputs**



















**Qualified** **Register**
**Transfer** **(DCR)**


**Temperature, Other Data**





**(RC)**





**Capacity**
**(FCC)**

![](sluuaq3a.pdf-48-2.png)


**Two-Wire**

**Serial Port**



**Chip-Controlled**
**Available Charge**
**LED Display**



**Figure 6-1. BQ4050 Operational Overview**


The BQ4050 accumulates the measured quantities of charge and discharge and estimates self-discharge of the
battery. The BQ4050 compensates the charge current measurement for temperature and state-of-charge of the
battery. The BQ4050 also adjusts the self-discharge estimation based on temperature.


The main charge counter _RemainingCapacity()_ (RM) represents the available capacity or energy in the battery
at any given time. The BQ4050 adjusts RM for charge, self-discharge, and other compensation factors. The
information in the RM register is accessible through the SMBus interface and is also represented through the
LED display.


The _FullChargeCapacity()_ (FCC) register represents the initial or last measured full discharge of the battery. It
is used as the battery full-charge reference for relative capacity indication. The BQ4050 updates FCC after the



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 49


_Gauging_ [www.ti.com](https://www.ti.com)


battery undergoes a qualified discharge from nearly full to a low battery level. FCC is accessible through the
SMBus interface.


The Discharge Count Register (DCR) is a non-accessible register that tracks discharge of the battery. The
BQ4050 uses the DCR register to update the FCC register if the battery undergoes a qualified discharge from
nearly full to a low battery level. In this way, the BQ4050 learns the true discharge capacity of the battery under
system use conditions.


**6.1.2 Main Gas-Gauge Registers**


**RemainingCapacity() (RM)**


RM represents the remaining capacity in the battery. The BQ4050 computes RM in units of either mAh or 10
mWh depending on the selected mode. See _BatteryMode()_ for units configuration.


RM counts up during charge to a maximum value of FCC and down during discharge and self-discharge to
a minimum of 0. In addition to charge and self-discharge compensation, the BQ4050 calibrates RM at three
low-battery-voltage thresholds, EDV2, EDV1, and EDV0 and three programmable midrange thresholds VOC25,
VOC50, and VOC75. This provides a voltage-based calibration to the RM counter.


**DesignCapacity() (DC)**


DC is the user-specified battery full capacity. It is calculated from _Design Capacity_ and is represented in units of
mAh or 10 mWh. It also represents the full-battery reference for the absolute display mode.


**FullChargeCapacity() (FCC)**


FCC is the last measured discharge capacity of the battery. It is represented in units of either mAh or 10 mWh,
depending on the selected mode. On initialization, the BQ4050 sets FCC to the value stored in _Last Measured_
_Discharge (FCC)_ . During subsequent discharges, the BQ4050 updates FCC with the last measured discharge
capacity of the battery. The last measured discharge of the battery is based on the value in the DCR register
after a qualified discharge occurs. Once updated, the BQ4050 writes the new FCC value to data flash in mAh
to _Last Measured Discharge_ . FCC represents the full battery reference for the relative display mode and relative
state of charge calculations.


**Discharge Count Register (DCR)**


The DCR register counts up during discharge, independent of RM. DCR counts discharge activity, battery load
estimation, and self-discharge increment. The BQ4050initializes DCR, at the beginning of a discharge, to FCC
– RM when RM is within the programmed value in Near Full. The DCR initial value of FCC – RM is reduced by
FCC/128 if SC = 1 (Bit 5 in _Gauge Configuration_ ) and is not reduced if SC = 0. DCR stops counting when the
battery voltage reaches the EDV2 threshold on discharge.


**6.2 Fuel Gauge Operating Modes**


During a gauging operation, different features and functions occur based on whether the battery is discharging,
charging, or in a rest state.


Entry and exit of each mode is controlled by data flash parameters in the subclass _Fuel Gauging: Current_
_Thresholds_ section.


 - In RELAX mode or DISCHARGE mode, the _[DSG]_ flag in _CEDVStatus()_ is set.

 - CHARGE mode is entered when _Current_ goes above _**Chg Current Threshold**_ .

 - CHARGE mode is exited and RELAX mode is entered when _Current_ goes below _**Quit Current**_ for a period of
_**Chg Relax Time**_ .

 - DISCHARGE mode is entered when _Current_ goes below _**(–)Dsg Current Threshold**_ .

 - DISCHARGE mode is exited and RELAX mode is entered when _Current_ goes above _**(–)Quit Current**_
threshold for a period of _**Dsg Relax Time**_ .


50 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Gauging_


Current











Chg Current
Threshold


Quit Current


0


(-)Quit Current


Dsg Current
Threshold


**6.2.1**



Time


|RELAX CHARGE DISCHARGE<br>RELAX Mode RELAX Mode<br>Mode Mode Mode<br>Chg Relax<br>Dsg Relax<br>Time<br>Time|Col2|Col3|Col4|Col5|Col6|Col7|Col8|Col9|Col10|
|---|---|---|---|---|---|---|---|---|---|
|RELAX<br>Mode<br>CHARGE<br>Mode<br>Chg Relax<br>Time<br>RELAX Mode<br>DISCHARGE<br>Mode<br>Dsg Relax<br>Time<br>RELAX Mode|RELAX<br>Mode<br>CHARGE<br>Mode<br>Chg Relax<br>Time<br>RELAX Mode<br>DISCHARGE<br>Mode<br>Dsg Relax<br>Time<br>RELAX Mode|||||||||
|||||||||||
|||||||||||
|||||||||||
|||||||||||
|||||||||||
|||||||||||
|||||||||||
|||||||||||
|||||||||||



**Figure 6-2. Fuel Gauge Operating Mode Example**














|Class|Subclass|Name|Format|Size in Bytes|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|
|Fuel<br>Gauging|Current<br>Thresholds|Dsg Current<br>Threshold|Unsigned<br>Integer|2|0|2000|100|mA|
|Fuel<br>Gauging|Current<br>Thresholds|Dsg Relax<br>Time|Unsigned<br>Integer|1|0|255|1|s|
|Fuel<br>Gauging|Current<br>Thresholds|Chg Current<br>Threshold|Unsigned<br>Integer|2|0|2000|50|mA|
|Fuel<br>Gauging|Current<br>Thresholds|Chg Relax<br>Time|Unsigned<br>Integer|1|0|255|60|s|
|Fuel<br>Gauging|Current<br>Thresholds|Quit Current|Unsigned<br>Integer|2|0|1000|10|mA|



**6.3 Capacity Learning (FCC Update) and Qualified Discharge**


The BQ4050 updates FCC with an amount based on the value in DCR if a qualified discharge occurs. The new
value for FCC equals the DCR value plus the programmable nearly full and low battery levels, according to the
following equation:


FCC (new) = DCR (final) = DCR (initial) + Measured Discharge to EDV2 + (FCCx _Battery Low%_ )



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 51


_Gauging_ [www.ti.com](https://www.ti.com)


_Battery Low %_ = (DF value) ÷ 2.56


A qualified discharge occurs if the battery discharges from RM ≥ FCC – Near Full to the EDV2 voltage threshold
with the following conditions:


 - No valid charge activity occurs during the discharge period. A valid charge is defined as a charge of 10 mAh
into the battery.

 - No more than 256 mAh of self-discharge or battery load estimation occurs during the discharge period.

 - The temperature does not drop below the low temperature thresholds programmed in _Learning Low Temp_
during the discharge period.

 - The battery voltage reaches the EDV2 threshold during the discharge period and the voltage is greater than
or equal to the EDV2 threshold minus 256 mV when the BQ4050 detected EDV2.

 - No midrange voltage correction occurs during the discharge period.

 - Current remains ≥3C/32 when EDV2 or _Battery Low %_ level is reached.

 - No overload condition exists when EDV2 threshold is reached or if RM() has dropped to _Battery Low%_ ×
FCC.


The BQ4050 sets VDQ = 1 in pack status when a qualified discharge begins. The BQ4050 sets VDQ = 0 if any
disqualifying condition occurs. FCC cannot be reduced by more than 256 mAh or increased by more than 512
mAh during any single update cycle. The BQ4050 saves the new FCC value to the data flash within 4 seconds of
being updated.


**6.4 End-of-Discharge Thresholds and Capacity Correction**


The BQ4050 monitors the battery for three low-voltage thresholds, EDV0, EDV1, and EDV2. The EDV
thresholds can be programmed for determination based on the overall pack voltage or an individual cell level.
The EDVV bit in _Pack Configuration_ configures the BQ4050 for overall voltage or single-cell EDV thresholds.
If programmed for single cell EDV determination, the BQ4050 determines EDV on the basis of the lowest
single-cell voltage.


Fixed EDV thresholds may be programmed in _EMF/EDV0_, _EDV C0 Factor/EDV1_, and _EDV R0 Factor/EDV2_ in
mV. If the CEDV bit in _Gauge Configuration_ is set, automatic EDV compensation is enabled and the BQ4050
computes the EDV0, EDV1, and EDV2 thresholds based on the values and the battery’s current discharge rate
and temperature.


The BQ4050 disables EDV detection if _Current()_ exceeds the _Overload Current_ threshold programmed in (<DF
value>). The BQ4050 resumes EDV threshold detection after _Current()_ drops below the _Overload Current_
threshold. Any EDV threshold detected is reset after charge is applied and VDQ is cleared after 10 mAh of
charge.


**Table 6-1. State of Charge Based on Low Battery Voltage**

|THRESHOLD|RELATIVE STATE OF CHARGE|
|---|---|
|EDV0|0%|
|EDV1|3%|
|EDV2|Battery Low %|



The BQ4050 uses the EDV thresholds to apply voltage-based corrections to the RM register according to Table
6-1. The performs EDV-based RM adjustments with _Current()_ ≥ C/32. No EDVs are set if _Current()_ ≥ C/32. The
BQ4050 adjusts RM as it detects each threshold. If the voltage threshold is reached before the corresponding
capacity on discharge, the BQ4050 reduces RM to the appropriate amount as shown in Table 6-1.


This reduction occurs only if _Current()_ ≥ C/32 when the EDV threshold is detected. If RM reaches the capacity
level before the voltage threshold is reached on discharge, the BQ4050 prevents RM from decreasing further
until the battery voltage reaches the corresponding threshold only on a full learning cycle discharge. RM is not
held at the associated EDV percentage on a non-learning discharge cycle (VDQ = 0) or if current < C/32. If
_Battery Low_ % is set to zero, EDV1 and EDV0 corrections are disabled.


52 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Gauging_


**6.4.1 EDV Discharge Rate and Temperature Compensation**


If EDV compensation is enabled, the calculates battery voltage to determine EDV0, EDV1, and EDV2 thresholds
as a function of battery capacity, temperature, and discharge load. The general equation for EDV0, EDV1, and
EDV2 calculation is as follows:


EDV0,1,2 = n (EMF • FBL – | ILOAD | • R0 • FTZ)


EMF is a no-load cell voltage higher than the highest cell EDV threshold computed. EMF is programmed in mV
in EMF/EDV1.


ILOAD is the current discharge load magnitude.


n = the number of series cells


FBL is the factor that adjusts the EDV voltage for battery capacity and temperature to match the no-load
characteristics of the battery.


FBL = f (C0, C + C1, T)


C (either 0%, 3%, or Battery Low % for EDV0, EDV1, and EDV2, respectively) and C0 are the capacity related
EDV adjustment factors. C0 is programmed in EDV C0 Factor/EDV1. C1 is the desired residual battery capacity
remaining at EDV0 (RM = 0). The C1 factor is stored in EDV C1 Factor.


T is the current temperature in °K.


R0 • FTZ represents the resistance of a cell as a function of temperature and capacity.


FTZ = f (R1, T0, T, C + C1, TC)


R0 is the first order rate dependency factor stored in EDV R0 Factor/EDV2.


T is the current temperature; C is the battery capacity relating to EDV0, EDV1, and EDV2.


R1 adjusts the variation of impedance with battery capacity. R1 is programmed in EDV R1 Rate Factor.


T0 adjusts the variation of impedance with battery temperature. T0 is programmed in EDV T0 Rate Factor.


TC adjusts the variation of impedance for cold temperatures (T < 23°C) TC is programmed in EDV TC.


Typical values for the EDV compensation factors, based on overall pack voltages for a Li-lon 3s2p 18650 pack,
are as follows:


EMF = 11550/3 [(1)]


T0 = 4475


C0 = 235


C1 = 0


R0 = 5350/3(1)


R1 = 250


TC = 3


(1) = Divided by 3 (number of cells) if cell based compensated EDVs are used.


The graphs in Figure 6-3 show the calculated EDV0, EDV1, and EDV2 thresholds versus capacity using
the typical compensation values for different temperatures and loads for a Li-Ion 3s2p 18650 pack. The
compensation values vary widely for different cell types and manufacturers and must be matched exactly to
the unique characteristics for optimal performance.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 53


_Gauging_ [www.ti.com](https://www.ti.com)

![](sluuaq3a.pdf-53-1.png)


**Figure 6-3. (a) EDV Calculations vs. Capacity for Various Temperatures, (b) EDV Calculations vs.**

**Capacity for Various Loads**


**6.5 CEDV Smoothing**


The BQ4050 device has the ability to smooth the _RemainingCapacity()_ during discharge in order to avoid a
drop in _RelativeStateOfCharge()_ when the EDV thresholds are reached. This feature is enabled by setting the
_**Smoothing Config [SMEN]**_ = 1 and configuring the _**Smoothing Start Voltage**_ and _**Smoothing Delta Voltage**_ .


The smoothing will activate only when all of the following conditions are true:


 - _Current()_ < 0

 - _Voltage()_ < _**Smoothing Start Voltage**_

 - EDV2 has been reached ( _[EDV2]_ = 1) OR ( _Voltage()_ – present EDV2 threshold) < _**Smoothing Delta Voltage**_ .

 - Maximum _Voltage()_ during the previous one minute is less than the maximum _Voltage()_ during the current
minute (that is, "drop rate" is greater than 0).

 - _RemainingCapacity()_ is greater than the capacity at the next EDV point.


While smoothing is active, the "drop rate" is used to estimate the time to the EDV point under the assumption
that the rate is constant (linear). This information is then used to estimate how much current would need to be
applied in order to have _RemainingCapacity()_ reach the expected capacity at the EDV point. The actual _Current()_
is then scaled by the "smoothing current." This will either speed up or slow down the _RemainingCapacity()_
accumulation to reach the EDV threshold at the correct time.


Whenever the _RemainingCapacity()_ accumulation is actively scaled, the _OperationStatus()[SMTH]_ bit will be set.


Smoothing deactivates whenever an EDV threshold is reached until the rate to the next EDV threshold can be
calculated. However, smoothing past the EDV2 point only occurs if the _**Smoothing Config [SMEXT]**_ is set to 1.


To improve smoothing at the end of discharge, the SME0 configuration bit provides additional flexibility. This
is particularly useful when _**FIXED_EDV0**_ is set and the calculated EDV2/EDV1 is lower than EDV0. In this
scenario, the SOC smooths to EDV2, then to EDV1, and then to EDV0, leading to SOC jumps. If the SME0 bit is
set, then the SOC smooths directly to EDV0, leading to a smooth transition to empty.


Table 6-2 shows the available smoothing configurations.


54 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Gauging_


**Table 6-2. Smoothing Configurations**

|SMEN|SMEXT|SME0|Description|
|---|---|---|---|
|0|0|0|No Smoothing|
|0|0|1|No Smoothing|
|0|1|0|No Smoothing|
|0|1|1|No Smoothing|
|1|0|0|Smoothing to EDV2|
|1|0|1|Smoothing to EDV0 if calculated EDV2/EDV1 is less than EDV0.|
|1|1|0|Smoothing to EDV2 ≥ EDV1 ≥ EDV0|
|1|1|1|Smoothing to EDV0 if calculated EDV2/EDV1 is less than EDV0.|



The BQ4050 device can also add smoothing during charging. In situations when the FCC is not updated during a
discharge cycle or on a subsequent charge cycle, if the valid charge termination is reached, RSOC is synced to
100% regardless of the true RSOC. To help in scenarios like these, the device enables the SMOOTHEOCEN bit
(default is enabled).


When enabled, the RSOC value is gradually increased to 100% instead of a sudden jump if the following is true:


1. Battery is charging.
2. Cell Voltage > Taper Voltage
3. Charge Current is decreasing AND is below the _**EOC Smooth Current**_ threshold for _**EOC Smooth Current**_
_**Time.**_


**6.6 State-of-Health (SoH)**


The BQ4050 implements a new state-of-health (SoH) function. Previously, the SoH of a battery was typically
represented by the actual runtime _**FullChargeCapacity/Design Capacity**_ (or FCC/DC). Using the runtime FCC,
however, was not a very good representation for the state-of-health because the runtime FCC reflects the usable
capacity under load. A high current load reduces the runtime FCC. If using just the FCC/DC calculation for SoH,
the SoH under high load will be worse than the SoH under typical load. However, a smaller usable capacity at
high load does not mean the SoH of a battery is degraded. This is the same when FCC is reduced at a lower
temperature.


**6.7 Battery Trip Point (BTP)**


Required for WIN8 OS, the Battery Trip Point (BTP) feature indicates when the RSOC of a battery pack has
depleted to a certain value set in a DF register.


The BTP feature allows a host to program two capacity-based thresholds that govern the triggering of a BTP
interrupt on the BTP_INT pin and the setting or clearing of the _OperationStatus()[BTP_INT]_ on the basis of
_RemainingCapacity()_ . The interrupt is enabled or disabled via _**Settings.Configuration.IO Config[BTP_EN]**_ .
Similarly, the polarity of the interrupt is configurable based on the value set in _**Settings.Configuration.IO**_
_**Config[BTP_POL]**_ .


 - _OperationStatus()[BTP_INT]_ is set when:

–
Current > 0 and RemCap > “clear” threshold (“charge set threshold”). This threshold is initialized at reset
from _**Settings.BTP.Init Charge Set**_ .

–
Current ≤ 0 and RemCap < “set” threshold (“discharge set threshold”). This threshold is initialized at reset
from _**Settings.BTP.Init Discharge Set**_ .

 - When _OperationStatus()[BTP_INT]_ is set, if _**Settings.Configuration.IO Config[BTP_EN]**_ is set, then the
BTP_INT pin output is asserted.
– If _**Settings.Configuration.IO Config[BTP_POL]**_ is set, it will assert high; otherwise, it will assert low.

 - When either _BTPDischargeSet()_ or _BTPChargeSet()_ commands are received, _OperationStatus()[BTP_INT]_
will clear and the pin will be de-asserted. The new threshold is written to either _BTPDischargeSet()_ or
_BTPChargeSet()_ .

 - At reset, the pin is set to the de-asserted state.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 55


_Gauging_ [www.ti.com](https://www.ti.com)


– If _**[BTP_POL]**_ is changed, one of the BTP commands must be reset or sent to “clear" the state.


56 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Cell Balancing_

#### _Chapter 7_
### **_Cell Balancing_**


**7.1 Introduction**


Cell balancing in the BQ4050 device is accomplished by connecting an external parallel bypass load to each cell
of the associated AFE, and enabling the bypass load depending on each cell's charge state. The bypass load
is typically formed by a P-CH MOSFET and a resistor connected in series across each battery cell. The filter
resistors that connect the cell tabs to VC1~VC15 pins of the associated AFE are required to be 1 kΩ.


Using this circuit, the BQ4050 balances the cells during charge by enabling the bypass around those cells
above the threshold set in _**Cell Balance Threshold**_ if the maximum difference in cell voltages exceeds the value
programmed in _**Cell Balance Min**_ . During cell balancing, the BQ4050 measures the cell voltages at an interval
set in _**Cell Balance Interval**_ .


The cell(s) to be balanced are prioritized by highest cell voltage but the BQ4050 will not try to balance adjacent
cells. If adjacent cells need to be balanced, the BQ4050 will alternate between the highest and next-highest
adjacent cells until they are balanced.


On the basis of the cell voltages, the BQ4050 either selects the appropriate cell to discharge or adjusts the cell
balance threshold up by the value programmed in _**Cell Balance Window**_ when all cells exceed the cell balance
threshold or the highest cell exceeds the cell balance threshold by the cell balance window.


[More in-depth details and data on this cell balancing algorithm can be found in: http://www.ti.com/lit/slva155.](http://www.ti.com/lit/slva155)



**Cell**

**Balance**

**Threshold**



|t<br>S<br>REG<br>Hi|gh|er Cell Vo|lta|Cell<br>Balance<br>Interval<br>By<br>ge<br>L|Col6|Col7|B<br>e<br>l Voltage<br>tage|C<br>ala<br>Mi|ell<br>nce<br>n.|Col11|Col12|Col13|Col14|
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
|**REG**<br>**tS**<br>**Hi**|**gh**|**er Cell Vo**|**lta**|**Cell**<br>**Balan**~~**ce**~~<br>**Interval**<br>**ge**<br>**L**<br>**By**|**ow**<br>**pa**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|
|**REG**<br>**tS**<br>**Hi**|**gh**|**er Cell Vo**|**lta**|**Cell**<br>**Balan**~~**ce**~~<br>**Interval**<br>**ge**<br>**L**<br>**By**|**ow**<br>**pa**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|||||
|**REG**<br>**tS**<br>**Hi**|**gh**|**er Cell Vo**|**lta**|**Cell**<br>**Balan**~~**ce**~~<br>**Interval**<br>**ge**<br>**L**<br>**By**|**ow**<br>**pa**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**|**Middle Cel**<br>**er Cell Vol**<br>**ss is Activ**||||**Cell**<br>**Balance**<br>**Window**|||


**Figure 7-1. Cell Balancing**





Cell balancing only occurs when charging current is detected, and on non-adjacent cells at the same time. The
cell balance threshold is reset to the value in Cell Balance Threshold at the start of every charge cycle. The
threshold is only adjusted once during any balance interval.


The configuration data flash is stored in _**Advanced Charging Algorithms: Cell Balancing Config.**_



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 57


_Cell Balancing_ [www.ti.com](https://www.ti.com)


**7.1.1 Cell Balancing Configuration**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Charge Algorithm|Cell Balancing Config|Cell Balance Threshold|I2|0|5000|3900|mV|
|Charge Algorithm|Cell Balancing Config|Cell Balance Window|I2|0|5000|100|mV|
|Charge Algorithm|Cell Balancing Config|Cell Balance Min|U1|0|255|40|mV|
|Charge Algorithm|Cell Balancing Config|Cell Balance Interval|U1|0|255|20|s|



**7.1.2**


For more details, see Section 14.4.12.

|Class|Subclass|Name|Format|Size in Bytes|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|
|Settings|Configuration|Balancing<br>Configuration|Hex|1|0x00|0xFF|0x01|—|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD RSVD RSVD RSVD RSVD CB


**RSVD (Bits 7–1)** : Reserved


**CB (Bit 0)** : Cell balancing


1 = Enabled (default)


0 = Disabled


58 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _LED Display_

#### _Chapter 8_
### **_LED Display_**


**8.1 Introduction**


The BQ4050 device has an LED display that shows various status information when a high-to-low transition of
the DISP pin is detected. The LED display is disabled if _SafetyStatus[CUV]_ or _[CUVC]_ = 1 or if the device is in
SHUTDOWN mode.


**8.1.1 LED Display of State-of-Charge**


When the DISP pin is pressed and a high-to-low transition of the pin is detected, the LED display shows
the state-of-charge for _**LED Hold Time**_ . The state-of-charge can display the _RelativeStateOfCharge()_ or
_AbsoluteStateOfCharge()_ based on the _**[LEDMODE]**_ setting.


The state-of-charge threshold can be set according to the number of LEDs available. The following table shows
an example for data flash setting with 5-LED display.


If _**[LEDCHG]**_ = 1, the LED display will show the state-of-charge during charging when _Current()_ - _**Charge**_
_**Current Threshold**_ .

|Col1|State-of-Charge|Col3|
|---|---|---|
||_Current()_ > 0|_Current()_ ≤ 0|
|LED1|**_CHG Thresh 1_** – 100%|**_DSG Thresh 1_** – 100%|
|LED2|**_CHG Thresh 2_** – 100%|**_DSG Thresh 2_** – 100%|
|LED3|**_CHG Thresh 3_** – 100%|**_DSG Thresh 3_** – 100%|
|LED4|**_CHG Thresh 4_** – 100%|**_DSG Thresh 4_** – 100%|
|LED5|**_CHG Thresh 5_** – 100%|**_DSG Thresh 5_** – 100%|



If _**[LEDRCA]**_ = 1 and the BatteryStatus[RCA] change from 0 to 1, the LED display will also flash with _**LED Flash**_
_**Rate**_ according to the _**CHG Flash Alarm**_ or _**DSG Flash Alarm**_ setting as shown below.

|Col1|State-of-Charge|Col3|
|---|---|---|
||_Current()_ > 0|_Current()_ ≤ 0|
|Flash Alert|0 % –**_CHG Flash Alarm_**|0 % –**_DSG Flash Alarm_**|



**8.1.2 LED Display of PF Error Code**


If _**[LEDPF1, LEDPF0]**_ = 0,1, then the LED display shows each PF code for 2× the _**LED Hold Time**_ after showing
the state-of-charge information.


The following table shows each PF error code. Each code is shown with the lowest to highest priority order.


|PF Flag|Priority|LED3|LED2|LED1|
|---|---|---|---|---|
|No PF|0|**_LED Blink Rate_**|off|off|
|SUV|0|**_LED Blink Rate_**|on|off|
|SOV|1|**_LED Blink Rate_**|**_LED Flash Rate_**|off|
|SOCC|2|**_LED Blink Rate_**|off|on|
|SOCD|3|**_LED Blink Rate_**|on|on|
|SOT|4|**_LED Blink Rate_**|**_LED Flash Rate_**|on|
|Reserved|5|**_LED Blink Rate_**|off|**_LED Flash Rate_**|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 59


_LED Display_ [www.ti.com](https://www.ti.com)

|PF Flag|Priority|LED3|LED2|LED1|
|---|---|---|---|---|
|SOTF|6|**_LED Blink Rate_**|on|**_LED Flash Rate_**|
|Reserved|7|**_LED Blink Rate_**|**_LED Flash Rate_**|**_LED Flash Rate_**|
|Reserved|8|**_LED Blink Rate_**|off|**_LED Blink Rate_**|
|Reserved|9|LED Blink Rate|on|LED Blink Rate|
|CD|10|LED Flash Rate|LED Blink Rate|off|
|VIMR|11|off|**_LED Blink Rate_**|off|
|VIMA|12|on|**_LED Blink Rate_**|off|
|Reserved|13|**_LED Flash Rate_**|**_LED Blink Rate_**|on|
|Reserved|14|off|**_LED Blink Rate_**|on|
|Reserved|15|on|**_LED Blink Rate_**|on|
|CFETF|16|**_LED Flash Rate_**|**_LED Blink Rate_**|**_LED Flash Rate_**|
|DFETF|17|off|**_LED Blink Rate_**|**_LED Flash Rate_**|
|Reserved|18|on|**_LED Blink Rate_**|**_LED Flash Rate_**|
|FUSE|19|**_LED Flash Rate_**|**_LED Blink Rate_**|**_LED Blink Rate_**|
|AFER|20|off|**_LED Blink Rate_**|**_LED Blink Rate_**|
|AFEC|21|on|off|**_LED Blink Rate_**|
|2LVL|22|**_LED Flash Rate_**|off|**_LED Blink Rate_**|
|PTC|23|off|off|**_LED Blink Rate_**|
|IFC|24|on|on|**_LED Blink Rate_**|
|OPNCELL|25|**_LED Flash Rate_**|on|**_LED Blink Rate_**|
|DF|26|off|on|**_LED Blink Rate_**|
|Reserved|27|on|**_LED Flash Rate_**|**_LED Blink Rate_**|
|Open Therm TS1|28|**_LED Flash Rate_**|**_LED Flash Rate_**|**_LED Blink Rate_**|
|Open Therm TS2|29|off|**_LED Flash Rate_**|**_LED Blink Rate_**|
|Open Therm TS3|30|on|**_LED Blink Rate_**|**_LED Blink Rate_**|
|Open Therm TS4|31|**_LED Flash Rate_**|**_LED Blink Rate_**|**_LED Blink Rate_**|



**8.1.3 LED Display on Exit of a Reset**


If the _**[LEDR]**_ = 1 and a reset occurs at the exit of the rest, the LED display shows the state-of-charge for _**LED**_
_**Hold Time**_ . If _**[LEDPF1, LEDPF0]**_ = 0,1, the LED display also shows each of the PF error code for 2 × of the
_**LED Hold Time**_ afterward.


**8.1.4 LED Display Control Through ManufacturerAccess()**


The gauge provides _ManufacturerAccess()_ command (MAC) for testing purpose. The MAC _LED Toggle()_
command can toggle the LED display on and off. The MAC _LED Display Press()_ command can trigger the
LED display and simulate 100% RSOC to demonstrate with all LEDs in actions.


60 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Lifetime Data Collection_

#### _Chapter 9_
### **_Lifetime Data Collection_**


**9.1 Description**


Useful for analysis, the device has extensive capabilities for logging events over the life of the battery. The
Lifetime Data Collection is enabled by setting _ManufacturingStatus()[LF_EN]_ = 1. The data is collected in RAM
and only written to DF under the following conditions to avoid wear out of the data flash:


 - Every 10 hours if RAM content is different from flash.

 - In permanent fail, before data flash updates are disabled.

 - A reset counter increments. The lifetime RAM data is reset; therefore, only the reset counters are updated to
data flash.

 - Before scheduled shutdown

 - Before low voltage shutdown and the voltage is above the _**Valid Update Voltage**_ .


The Lifetime Data stops collecting under following conditions:


 - After permanent fail

 - Lifetime Data Collection is disabled by setting _ManufacturingStatus()[LF_EN]_ = 0.


**9.2**


Total firmware Runtime starts when Lifetime Data is enabled.


 - Voltage

–
Max/Min Cell Voltage Each Cell

–
Max Delta Cell Voltage at any given time (that is, the max cell imbalance voltage)

 - Current

–
Max Charge/Discharge Current

–
Max Average Discharge Current

–
Max Average Discharge Power

 - Safety Events that trigger the _SafetyStatus()_ (The 12 most common are tracked.)

–
Number of Safety Events

–
Cycle Count at Last Safety Event(s)

 - Charging Events

–
Number of Valid Charge Terminations (That is, the number of times _[VCT]_ is set.)

–
Cycle Count at Last Charge Termination

 - Power Events

–
Number of Resets, Partial Resets, and Watchdog Resets
– Number of shutdowns

 - Cell Balancing (This data is stored with a resolution of 2 hours up to a limit of 510 hours.)

–
Cell Balancing Time each Cell

 - Temperature

–
Max/Min Cell Temp

–
Delta Cell Temp (max delta cell temperature across the thermistors that are used to report cell
temperature)

–
Max/Min Int Temp Sensor

–
Max FET Temp

 - Time (This data is stored with a resolution of 2 hours.)



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 61


_Lifetime Data Collection_ [www.ti.com](https://www.ti.com)


– Total runtime

–
Time spent different temperature ranges


62 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Device Security_

#### _Chapter 10_
### **_Device Security_**


**10.1 Introduction**


There are three levels of secured operation within the device. To switch between the levels, different operations
are needed with different keys. The three levels are SEALED, UNSEALED, and FULL ACCESS. The device also
supports SHA-1 HMAC authentication with the host system.


**10.2 SHA-1 Description**


As of March 2012, the latest revision is FIPS 180–4. SHA-1, or secure hash algorithm, is used to compute a
condensed representation of a message or data also known as hash. For messages < 2 [64], the SHA-1 algorithm
produces a 160-bit output called a digest.


In a SHA-1 one-way hash function, there is no known mathematical method of computing the input given, only
the output. The specification of SHA-1, as defined by FIPS 180–4, states that the input consists of 512-bit blocks
with a total input length less than 264 bits. Inputs that do not conform to integer multiples of 512-bit blocks are
padded before any block is input to the hash function. The SHA-1 algorithm outputs the 160-bit digest.


The device generates a SHA-1 input block of 288 bits (total input = 160-bit message + 128-bit key). To complete
the 512-bit block size requirement of the SHA-1 function, the device pads the key and message with a 1,
followed by 159 0s, followed by the 64 bit value for 288 (000...00100100000), which conforms to the pad
requirements specified by FIPS 180–4.


Detailed information about the SHA-1 algorithm can be found here:


1. [http://www.nist.gov/itl/](http://www.nist.gov/itl/)
2. [http://csrc.nist.gov/publications/fips](http://csrc.nist.gov/publications/fips)
3. [www.faqs.org/rfcs/rfc3174.html](http://www.faqs.org/rfcs/rfc3174.html)


**10.3 HMAC Description**


The SHA-1 engine calculates a modified HMAC value. Using a public message and a secret key, the HMAC
output is considered to be a secure fingerprint that authenticates the device used to generate the HMAC.


To compute the HMAC: Let H designate the SHA-1 hash function, M designate the message transmitted to the
device, and KD designate the unique 128-bit Unseal/Full Access/Authentication key of the device. HMAC(M) is
defined as:


H[KD || H(KD || M)], where || symbolizes an append operation.


The message, M, is appended to the unseal/full access/authentication key, KD, and padded to become the input
to the SHA-1 hash. The output of this first calculation is then appended to the unseal/full access/authentication
key, KD, padded again, and cycled through the SHA-1 hash a second time. The output is the HMAC digest
value.


**10.4 Authentication**


1. Generate 160-bit message M using a random number generator that meets approved random number
generators described in FIPS PUB 140–2.
2. Generate SHA-1 input block B1 of 512 bytes (total input = 128-bit authentication key KD + 160-bit message
M + 1 + 159 0s + 100100000).
3. Generate SHA-1 hash HMAC1 using B1.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 63


_Device Security_ [www.ti.com](https://www.ti.com)


4. Generate SHA-1 input block B2 of 512 bytes (total input = 128-bit authentication key KD + 160-bit hash
HMAC1 + 1 + 159 0s + 100100000).
5. Generate SHA-1 hash HMAC2 using B2.
6. With no active _Authentication()_ data waiting, write 160-bit message M to _Authentication()_ in the format:
0xAABBCCDDEEFFGGHHIIJJKKLLMMNNOOPPQQRRSSTT, where AA is LSB.
7. Wait 250 ms, then read _Authentication()_ for HMAC3.
8. Compare host HMAC2 with device HMAC3. If it matches, both host and device have the same key KD and
the device is authenticated.


**10.5 Security Modes**


**10.5.1 FULL ACCESS or UNSEALED to SEALED**


The MAC _Seal Device()_ command instructs the device to limit access to the SBS functions and data flash space,
and sets the _[SEC1][SEC0]_ flags. In SEALED mode, standard SBS functions have access (per the Smart Battery
Data Specification). Most of the extended SBS functions and data flash are not accessible. Refer to Chapter
13 where each command has documented the accessibility information. Once in SEALED mode, the gauge can
never permanently return to UNSEALED or FULL ACCESS modes.


**10.5.2 SEALED to UNSEALED**


SEALED to UNSEALED instructs the device to extend access to the SBS and data flash space and clears
the _[SEC1][SEC0]_ flags. In UNSEALED mode, all data, SBS, and DF have read/write access. Note that
although writing to most of the SBS commands are accepted by the gauge, the written data will be immediately
overwritten by the gauge and the write action is ignored. Unsealing is a two-step command performed by writing
the first word of the unseal key to _ManufacturerAccess() (MAC)_, followed by the second word of the unseal key
to _ManufacturerAccess()_ . The two words must be sent within 4 s. The unseal key can be read and changed
via the _MAC SecurityKey()_ command when in the FULL ACCESS mode. To return to the SEALED mode, either
a hardware reset is needed or the _MAC Seal Device()_ command is needed to transit from FULL ACCESS or
UNSEALED to SEALED.


**10.5.3 UNSEALED to FULL ACCESS**


UNSEALED to FULL ACCESS instructs the device to allow full access to all SBS commands and data flash. The
device is shipped from TI in this mode. The keys for UNSEALED to FULL ACCESS can be read and changed
via the MAC command _SecurityKey()_ when in FULL ACCESS mode. Changing from UNSEALED to FULL
ACCESS is performed by using the _ManufacturerAccess()_ command, by writing the first word of the Full Access
Key to _ManufacturerAccess()_, followed by the second word of the Full Access Key to _ManufacturerAccess()_ . The
two words must be sent within 4 s. In FULL ACCESS mode, the command to go to boot ROM can be sent.


64 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Manufacture Production_

#### _Chapter 11_
### **_Manufacture Production_**


**11.1 Manufacture Testing**


To improve the manufacture testing flow, the gas gauge device allows certain features to be toggled on
or off through _ManufacturerAccess()_ commands; for example, the _PCHG FET()_, _CHG FET()_, _DSG FET()_,
_Lifetime Data Collection()_, _Calibration()_, and so on. Enabling only the feature under test can simplify the test
flow in production by avoiding any feature interference. The _ManufacturerAccess()_ commands that toggle the
_ManufacturingStatus()[CAL_EN]_, _[LT_TEST]_, _[DSG_TEST]_, _[CHG_TEST]_, and _[PCHG_TEST]_ will only set the
RAM data, meaning the conditions set by these commands will be cleared if a reset or seal is issued to
the gauge. The _ManufacturerAccess()_ commands that toggle the _ManufacturingStatus()[LED_EN]_, _[FUSE_EN]_,

_[BBR_EN]_, _[PF_EN]_, and _[LT_EN], [FET_EN], [GAUGE_EN]_ will be updated to data flash and synchronized
between _ManufacturingStatus()_ and _**Mfg Status Init**_ . The _ManufacturingStatus()_ keeps track of the status
(enabled or disabled) of each feature.


The _**Mfg Status Init**_ provides the option to enable or disable individual features for normal operation. Upon a
reset or a seal command, _ManufacturingStatus()_ will be re-loaded from data flash _**Mfg Status Init**_ . This means if
an update is made to _**Mfg Status Init**_ to enable or disable a feature, the gauge will only take the new setting if a
reset or seal command is sent.


**11.2 Calibration**


Refer to the _BQ40zxx Manufacture, Production, and Calibration Application Note_ [(SLUA734) for the detailed](https://www.ti.com/lit/pdf/SLUA734)
calibration procedure.


The device has integrated routines that support calibration of current, voltage, and temperature readings,
accessible after writing 0xF081 or 0xF082 to _ManufacturerAccess()_ when the _ManufacturingStatus()[CAL]_ bit
is ON. While the calibration is active, the raw ADC data is available on _ManufacturerData()_ . The device stops
reporting calibration data on _ManufacturerData()_ if any other MAC commands are sent or the device is reset or
sealed.


**Note**


The _ManufacturingStatus()[CAL]_ bit must be turned OFF after calibration is completed. The
_ManufacturingStatus()[CAL]_ bit is set by default when the _**Manufacturing Status Init**_ is set to zero.
This bit is cleared at reset or after sealing.

|ManufacturerAccess()|Description|
|---|---|
|0x002D|Enables/Disables_ManufacturingStatus()[CAL]_|
|0xF080|Disables raw ADC data output on_ManufacturerData()_|
|0xF081|Outputs raw ADC data of voltage, current, and temperature on_ManufacturerData()_|
|0xF082|Outputs raw ADC data of voltage, current, and temperature on_ManufacturerData()_. This mode enables an internal<br>short on the coulomb counter inputs (SRP, SRN).|



The _ManufacturerData()_ output format is: ZZYYaaAAbbBBccCCddDDeeEEffFFggGGhhHHiiIIjjJJkkKK,


where:


|Value|Format|Description|
|---|---|---|
|ZZ|byte|8-bit counter, increments when raw ADC values are refreshed (every 250 ms)|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 65


_Manufacture Production_ [www.ti.com](https://www.ti.com)







|Value|Format|Description|
|---|---|---|
|YY|byte|Output status<br>_ManufacturerAccess()_ = 0xF081: 1<br>_ManufacturerAccess()_ = 0xF082: 2|
|AAaa|2's comp|Current (coulomb counter)|
|BBbb|2's comp|Cell Voltage 1|
|CCcc|2's comp|Cell Voltage 2|
|DDdd|2's comp|Cell Voltage 3|
|EEee|2's comp|Cell Voltage 4|
|FFff|2's comp|PACK Voltage|
|GGgg|2's comp|BAT Voltage|
|HHhh|2's comp|Cell Current 1|
|IIii|2's comp|Cell Current 2|
|JJjj|2's comp|Cell Current 3|
|KKkk|2's comp|Cell Current 4|


**11.2.1 Calibration Data Flash**

_**11.2.1.1 Voltage**_

|Class|Subclass|Name|Start|Type|Min|Max|Default|Unit|Description|
|---|---|---|---|---|---|---|---|---|---|
|Calibration|Voltage|Cell Gain|0x4000|I2|–32767|32767|12101(1)|—|VC[n]–VC[n–1] gain|
|Calibration|Voltage|PACK Gain|0x4002|U2|0|65535|49669(1)|—|PACK–VSS gain|
|Calibration|Voltage|BAT Gain|0x4004|U2|0|65535|48936(1)|—|BAT–VSS gain|



(1) Setting this value to 0 causes the gauge to use the internal factory calibration default.


_**11.2.1.2 Current**_

|Class|Subclass|Name|Type|Min|Max|Default|Description|
|---|---|---|---|---|---|---|---|
|Calibration|Current|CC Gain|F4|1.00E–001|4.00E+000|3.58422|Coulomb Counter Gain|
|Calibration|Current|Capacity Gain|F4|2.98E+004|1.19E+006|1069035.256|Capacity Gain|



_**11.2.1.3 Current Offset**_


**11.2.1.3.1 CC Offset**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Current Offset|CC Offset|I2|–32767|32767|0|—|



**Description** : Coulomb Counter Offset. This offset is used for _Current()_ and _AverageCurrent()_ measurement.


**11.2.1.3.2 Coulomb Counter Offset Samples**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Current Offset|Coulomb Counter<br>Offset Samples|U2|0|65535|64|—|



**Description** : Coulomb Counter Offset Samples is used for averaging.


66 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Manufacture Production_


**11.2.1.3.3 CC Auto Config**

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|Calibration|Current Offset|CC Auto Config|H1|0x00|0x07|0x00|hex|



7 6 5 4 3 2 1 0



RSVD RSVD RSVD RSVD RSVD OFFSET_

TAKEN


**RSVD (Bits 7–3)** : Reserved. Do not use.


**OFFSET_TAKEN (Bit 2)** : CC Auto offset is taken.


1 = _**CC Auto Offset**_ is updated.


0 = _**CC Auto Offset**_ has not updated.


**AUTO_NESTON (Bit 1)** : NEST Circuit ON



AUTO_
NESTON



AUTO_
CAL_EN



1 = FW automatically manages nested chopping hardware for highest-accuracy current and cell current measurements.


0 = Nested chopping hardware is turned off. Cell current measurement is not optimized for best accuracy.


**AUTO_CAL_EN (Bit 0)** : Auto CC offset calibration enable


1 = FW performs auto CC calibration on entry into SLEEP mode. A min auto CC calibration interval is set to 10 hr to prevent
flash wear out. The result is saved to _**CC Auto Offset**_ .


0 = _**CC Auto Offset**_ calibration is disabled.


**11.2.1.3.4 CC Auto Offset**



|Class|Subclass|Name|Type|Min|Max|Default|Description|
|---|---|---|---|---|---|---|---|
|Calibration|Current Offset|CC Auto<br>Offset|I2|–10000|10000|0|**_CC offset_** collected via**_CC Auto_**<br>**_Calibration_**. This offset is used for cell<br>current measurement and is different than<br>**_CC Offset_**.|


**11.2.1.3.5 Board Offset**





|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Current Offset|Board Offset|I2|–32768|32767|0|—|


**Description** : PCB board offset


_**11.2.1.4 Temperature**_


**11.2.1.4.1 Internal Temp Offset**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Temperature|Internal Temp Offset|I1|–128|127|0|0.1 °C|



**Description** : Internal temperature sensor reading offset


**11.2.1.4.2 External 1 Temp Offset**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Temperature|External 1 Temp Offset|I1|–128|127|0|0.1 °C|



**Description** : TS1 temperature sensor reading offset


**11.2.1.4.3 External 2 Temp Offset**


|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Temperature|External 2 Temp Offset|I1|–128|127|0|0.1 °C|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 67


_Manufacture Production_ [www.ti.com](https://www.ti.com)


**Description** : TS2 temperature sensor reading offset


**11.2.1.4.4 External 3 Temp Offset**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Temperature|External 3 Temp Offset|I1|–128|127|0|0.1 °C|



**Description** : TS3 temperature sensor reading offset


**11.2.1.4.5 External 4 Temp Offset**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Temperature|External 4 Temp Offset|I1|–128|127|0|0.1 °C|



**Description** : TS4 temperature sensor reading offset


_**11.2.1.5 Internal Temp Model**_


**11.2.1.5.1 Int Gain**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Internal Temp<br>Model|Int Gain|I2|–32768|32767|–12143|—|



**Description** : Internal temperature gain


**11.2.1.5.2 Int Base Offset**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Internal Temp<br>Model|Int Base Offset|I2|–32768|32767|6232|—|



**Description** : Internal temperature base offset


**11.2.1.5.3 Int Minimum AD**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Internal Temp<br>Model|Int Minimum AD|I2|–32768|32767|0|—|



**Description** : Minimum AD count used for calculation


68 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Manufacture Production_


**11.2.1.5.4 Int Maximum Temp**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Internal Temp<br>Model|Int Maximum Temp|I2|–32768|32767|6232|0.1 °K|



**Description** : Maximum Temperature boundary


_**11.2.1.6 Cell Temp Model**_


**11.2.1.6.1 Coefficient a1**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Coefficient a1|I2|–32768|32767|–11130|—|



**Description** : Cell Temperature calculation polynomial a1


**11.2.1.6.2 Coefficient a2**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Coefficient a2|I2|–32768|32767|19142|—|



**Description** : Cell Temperature calculation polynomial a2


**11.2.1.6.3 Coefficient a3**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Coefficient a3|I2|–32768|32767|–19262|—|



**Description** : Cell Temperature calculation polynomial a3


**11.2.1.6.4 Coefficient a4**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Coefficient a4|I2|–32768|32767|28203|—|



**Description** : Cell Temperature calculation polynomial a4


**11.2.1.6.5 Coefficient a5**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Coefficient a5|I2|–32768|32767|892|—|



**Description** : Cell Temperature calculation polynomial a5


**11.2.1.6.6 Coefficient b1**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Coefficient b1|I2|–32768|32767|328|—|



**Description** : Cell Temperature calculation polynomial b1


**11.2.1.6.7 Coefficient b2**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Coefficient b2|I2|–32768|32767|–605|—|



**Description** : Cell Temperature calculation polynomial b2



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 69


_Manufacture Production_ [www.ti.com](https://www.ti.com)


**11.2.1.6.8 Coefficient b3**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Coefficient b3|I2|–32768|32767|–2443|—|



**Description** : Cell Temperature calculation polynomial b3


**11.2.1.6.9 Coefficient b4**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Coefficient b4|I2|–32768|32767|4969|—|



**Description** : Cell Temperature calculation polynomial b4


**11.2.1.6.10 Rc0**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Rc0|I2|–32768|32767|11703|Ω|



**Description** : Resistance at 25°C


**11.2.1.6.11 Adc0**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Adc0|I2|–32768|32767|11703|—|



**Description** : ADC reading at 25°C


**11.2.1.6.12 Rpad**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Rpad|I2|–32768|32767|0(1)|Ω|



(1) Setting this value to 0 causes the gauge to use the internal factory calibration default.


**Description** : Pad Resistance (0 to use factory calibration)


**11.2.1.6.13 Rint**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Cell Temp Model|Rint|I2|–32768|32767|0(1)|Ω|



(1) Setting this value to 0 causes the gauge to use the internal factory calibration default.


**Description** : Pull up resistor resistance (0 to use factory calibration)


_**11.2.1.7 FET Temp Model**_


**11.2.1.7.1 Coefficient a1**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Coefficient a1|I2|–32768|32767|–11130|—|



**Description** : FET Temperature calculation polynomial a1


**11.2.1.7.2 Coefficient a2**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Coefficient a2|I2|–32768|32767|19142|—|



**Description** : FET Temperature calculation polynomial a2


70 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Manufacture Production_


**11.2.1.7.3 Coefficient a3**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Coefficient a3|I2|–32768|32767|–19262|—|



**Description** : FET Temperature calculation polynomial a3


**11.2.1.7.4 Coefficient a4**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Coefficient a4|I2|–32768|32767|28203|—|



**Description** : FET Temperature calculation polynomial a4


**11.2.1.7.5 Coefficient a5**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Coefficient a5|I2|–32768|32767|892|—|



**Description** : FET Temperature calculation polynomial a5


**11.2.1.7.6 Coefficient b1**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Coefficient b1|I2|–32768|32767|328|—|



**Description** : FET Temperature calculation polynomial b1


**11.2.1.7.7 Coefficient b2**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Coefficient b2|I2|–32768|32767|–605|—|



**Description** : FET Temperature calculation polynomial b2


**11.2.1.7.8 Coefficient b3**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Coefficient b3|I2|–32768|32767|–2443|—|



**Description** : FET Temperature calculation polynomial b3


**11.2.1.7.9 Coefficient b4**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Coefficient b4|I2|–32768|32767|4969|—|



**Description** : FET Temperature calculation polynomial b4


**11.2.1.7.10 Rc0**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Rc0|I2|–32768|32767|11703|Ω|



**Description** : Resistance at 25°C


**11.2.1.7.11 Adc0**


|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Adc0|I2|–32768|32767|11703|—|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 71


_Manufacture Production_ [www.ti.com](https://www.ti.com)


**Description** : ADC reading at 25°C


**11.2.1.7.12 Rpad**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Rpad|I2|–32768|32767|0(1)|Ω|



(1) Setting this value to 0 causes the gauge to use the internal factory calibration default.


**Description** : Pad Resistance (0 to use factory calibration)


**11.2.1.7.13 Rint**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|FET Temp Model|Rint|I2|–32768|32767|0(1)|Ω|



(1) Setting this value to 0 causes the gauge to use the internal factory calibration default.


**Description** : Pull up resistor resistance (0 to use factory calibration)


_**11.2.1.8 Current Deadband**_


**11.2.1.8.1 Deadband**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Current Deadband|Deadband|U1|0|255|3|mA|



**Description** : Pack-based Deadband to report 0 mA


**11.2.1.8.2 Coulomb Counter Deadband**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Calibration|Current Deadband|Coulomb Counter<br>Deadband|U1|0|255|9|116 nV|



**Description** : Coulomb counter deadband to report 0 charge (This setting should not be modified.)


72 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Device SMBus Address_

#### _Chapter 12_
### **_Device SMBus Address_**


**12.1**


The BQ4050 SMBus address (default 0x16) can be changed. The target address should be programmed in
_**Address**_ and the 2’s complement of that value should be programmed in _**Address Check**_ .


The BQ4050 will check these values upon exit from POR, and if the two data flash values are not valid or the
programmed address is 0x00 or 0xFF, then the device defaults to 0x16.


**Table 12-1. Address**

|Class|Subclass|Name|Format|Size in Bytes|Min Value|Max Value|Default Value|Unit|
|---|---|---|---|---|---|---|---|---|
|Settings|SMBus|Address|Hex|1|0x00|0xFF|0x16|—|



**Table 12-2. Address Check**


|Class|Subclass|Name|Format|Size in Bytes|Min Value|Max Value|Default Value|Unit|
|---|---|---|---|---|---|---|---|---|
|Settings|SMBus|Address<br>Check|Hex|1|0x00|0xFF|0xEA|—|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 73


_Device SMBus Address_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


74 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_

#### _Chapter 13_
### **_SBS Commands_**


**13.1 0x00 ManufacturerAccess() and 0x44 ManufacturerBlockAccess()**


_ManufacturerBlockAccess()_ provides a method of reading and writing data in the Manufacturer Access
System (MAC). This block MAC access method is a new standard for the BQ40zxy family. The MAC
command is sent via _ManufacturerBlockAccess()_ by the SMBus block protocol. The result is returned on
_ManufacturerBlockAccess()_ via an SMBus block read.


Example: Send a MAC _Gauging()_ to enable/disable firmware control of the CHG/DSG/PCHG FETs via
_ManufacturerBlockAccess()_ .


1. With firmware control of the CHG/DSG/PCHG FETs enabled, send _Gauging()_ (0x0022) to
_ManufacturerBlockAccess()._
a. MBus block write. Command = 0x44. Data = 22 00 (Data must be sent in Little Endian.)
2. FET Control is disabled, _ManufacturingStatus()[FET_EN]_ = 0.


Example: Read _HardwareVersion()_ (0x0003) via _ManufacturerBlockAccess()_


1. Send _HardwareVersion()_ to _ManufacturerBlockAccess()._
a. SMBus block write. Command = 0x44. Data sent = 03 00 (Data must be sent in Little Endian.)
2. Read the result from _ManufacturerBlockAccess()_ .
a. SMBus block read. Command = 0x44. Data read = 03 00 00 01 (Each data entity is returned in Little
Endian.)
b. The first 2 bytes, “03 00”, is the MAC command.
c. The second 2 bytes, “00 01”, is the hardware version returning in Little Endian. That is 0x0100,
_HardwareVersion()_ 100.


For backwards compatibility with the BQ30zxy families, sending MAC commands via _ManufacturerAccess()_
(0x00) as well as the returning data on _ManufacturerData()_ are supported in BQ4050. Note that MAC commands
are sent through _ManufacturerAccess()_ (0x00) by an SMBus write word protocol. The result reading from
_ManufacturerData()_ does not include the MAC command.


Example: Send a MAC _Gauging()_ to enable/disable firmware control of the CHG/DSG/PCHG FETs via
_ManufacturerBlockAccess()_ .


1. With firmware control of the CHG/DSG/PCHG FETs enabled, send _Gauging()_ (0x0022) to
_ManufacturerBlockAccess()_ .

a. SMBus word write. Command = 0x00. Data = 00 22
2. FET Control is disabled, _ManufacturingStatus()[FET_EN]_ = 0.


Example: Read _HardwareVersion()_ (0x0003) via _ManufacturerBlockAccess()_


1. Send _HardwareVersion()_ to _ManufacturerBlockAccess()_ .

a. SMBus block write. Command = 0x00. Data sent = 00 03
2. Read the result from _ManufacturerData()._

a. SMBus block read. Command = 0x06. Data read = 00 01
b. That is 0x0100, _HardwareVersion()_ 100.


The _ManufacturerAccess()_ and _ManufacturerBlockAccess()_ are interchangeable. The result can be read from
_ManufacturerData()_ or _ManufacturerBlockAccess()_ regardless of how the MAC command is sent.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 75


_SBS Commands_ [www.ti.com](https://www.ti.com)


**Table 13-1. ManufacturerAccess() Command List**









|Command|Function|Access|Format|Data Read on<br>0x44 or 0x23|Data Read on<br>0x2F|Available in<br>SEALED Mode|Type|Unit|
|---|---|---|---|---|---|---|---|---|
|0x0001|DeviceType|R|Block|Yes|—|Yes|Hex|—|
|0x0002|FirmwareVersion|R|Block|Yes|—|Yes|Hex|—|
|0x0003|HardwareVersion|R|Block|Yes|—|Yes|Hex|—|
|0x0004|IFChecksum|R|Block|Yes|—|Yes|Hex|—|
|0x0005|StaticDFSignature|R|Block|Yes|—|Yes|Hex|—|
|0x0009|AllDFSignature|R|Block|Yes|—|Yes|Hex|—|
|0x0010|ShutdownMode|W|—|—|—|Yes|Hex|—|
|0x0011|SleepMode|W|—|—|—|—|Hex|—|
|0x001D|FuseToggle|W|—|—|—|—|Hex|—|
|0x001E|PrechargeFET|W|—|—|—|—|Hex|—|
|0x001F|ChargeFET|W|—|—|—|—|Hex|—|
|0x0020|DischargeFET|W|—|—|—|—|Hex|—|
|0x0022|FETControl|W|—|—|—|—|Hex|—|
|0x0023|LifetimeDataCollection|W|—|—|—|—|Hex|—|
|0x0024|PermanentFailure|W|—|—|—|—|Hex|—|
|0x0025|BlackBoxRecorder|W|—|—|—|—|Hex|—|
|0x0026|Fuse|W|—|—|—|—|Hex|—|
|0x0028|LifetimeDataReset|W|—|—|—|—|Hex|—|
|0x0029|PermanentFailureData<br>Reset|W|—|—|—|—|Hex|—|
|0x002E|LifetimeDataFlush|W|—|—|—|—|Hex|—|
|0x002F|LifetimeDataSpeedUp<br>Mode|W|—|—|—|—|Hex|—|
|0x002A|BlackBoxRecorderReset|W|—|—|—|—|Hex|—|
|0x002D|CalibrationMode|W|—|—|—|—|Hex|—|
|0x0030|SealDevice|W|—|—|—|—|Hex|—|
|0x0035|SecurityKeys|R/W|Block|Yes|—|—|Hex|—|
|0x0037|AuthenticationKey|R/W|Block|—|Yes|—|Hex|—|
|0x0041|DeviceReset|W|—|—|—|—|Hex|—|
|0x0050|SafetyAlert|R|Block|Yes|—|Yes|Hex|—|
|0x0051|SafetyStatus|R|Block|Yes|—|Yes|Hex|—|
|0x0052|PFAlert|R|Block|Yes|—|Yes|Hex|—|
|0x0053|PFStatus|R|Block|Yes|—|Yes|Hex|—|
|0x0054|OperationStatus|R|Block|Yes|—|Yes|Hex|—|
|0x0055|ChargingStatus|R|Block|Yes|—|Yes|Hex|—|
|0x0056|GaugingStatus|R|Block|Yes|—|Yes|Hex|—|
|0x0057|ManufacturingStatus|R|Block|Yes|—|Yes|Hex|—|
|0x0058|AFERegister|R|Block|Yes|—|Yes|Hex|—|
|0x0060|LifetimeDataBlock1|R|Block|Yes|—|Yes|Mixed|Mixed|
|0x0061|LifetimeDataBlock2|R|Block|Yes|—|Yes|Mixed|Mixed|
|0x0062|LifetimeDataBlock3|R|Block|Yes|—|Yes|Mixed|Mixed|
|0x0070|ManufacturerInfo|R|Block|Yes|—|Yes|Hex|—|
|0x0071|DAStatus1|R|Block|Yes|—|Yes|Mixed|Mixed|
|0x0072|DAStatus2|R|Block|Yes|—|Yes|Mixed|Mixed|
|0x007A|ManufacturerInfo2|R|Block|Yes|—|Yes|Hex|—|
|0x0F00|ROMMode|W|—|—|—|—|Hex|—|
|0xF080|ExitCalibrationOutput|R/W|Block|Yes|—|—|Hex|—|
|0xF081|OutputCCandADCfor<br>Calibration|R/W|Block|Yes|—|—|Hex|—|


76 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


**Table 13-1. ManufacturerAccess() Command List (continued)**









|Command|Function|Access|Format|Data Read on<br>0x44 or 0x23|Data Read on<br>0x2F|Available in<br>SEALED Mode|Type|Unit|
|---|---|---|---|---|---|---|---|---|
|0xF082|OutputShortedCCand<br>ADCforCalibration|R/W|Block|Yes|—|—|Hex|—|


**13.1.1 ManufacturerAccess() 0x0000**


A read word on this command returns the lowest 16 bits of the _OperationStatus()_ data.


**13.1.2 ManufacturerAccess() 0x0001 Device Type**


The device can be checked for the IC part number. The IC part number returns on a subsequent read on
_ManufacturerBlockAccess()_ or _ManufacturerData()_ in the following format: aaAA, where:

|Value|Description|
|---|---|
|AAaa|Device Type|



**13.1.3 ManufacturerAccess() 0x0002 Firmware Version**


The device can be checked for the firmware version of the IC. The firmware revision returns on
_ManufacturerBlockAccess()_ or _ManufacturerData()_ in the following format: ddDDvvVVbbBBTTzzZZRREE,
where:

|Value|Description|
|---|---|
|DDdd|Device Number|
|VVvv|Version|
|BBbb|Build Number|
|TT|Firmware Type|
|ZZzz|Version|
|RR|Reserved|
|EE|Reserved|



**13.1.4 ManufacturerAccess() 0x0003 Hardware Version**


The device can be checked for the hardware version of the IC. The hardware revision returns on a subsequent
read on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .


**13.1.5 ManufacturerAccess() 0x0004 Instruction Flash Signature**


The device can return the instruction flash signature. The IF signature returns on a subsequent read on
_ManufacturerBlockAccess()_ or _ManufacturerData()_ .


**13.1.6 ManufacturerAccess() 0x0005 Static DF Signature**


The device can return the data flash checksum. The signature of all static DF returns on a subsequent read on
_ManufacturerBlockAccess()_ or _ManufacturerData()_ . MSB is set to 1 if the calculated signature does not match
the signature stored in DF.


**13.1.7 ManufacturerAccess() 0x0009 All DF Signature**


The device can return the data flash checksum. The signature of all DF parameters returns on a subsequent
read on _ManufacturerBlockAccess()_ or _ManufacturerData()_ . MSB is set to 1 if the calculated signature does
not match the signature stored in DF. It is normally expected that this signature will change due to updates of
lifetime, gauging, and other information.


**13.1.8 ManufacturerAccess() 0x0010 SHUTDOWN Mode**


To reduce power consumption, the device can be sent to SHUTDOWN mode before shipping. After sending this
command, the _OperationStatus()[SDM]_ = 1, an internal counter will start, the CHG and DSG FETs will be turned
off when the counter reaches _**Ship FET Off Time**_ . When the counter reaches `Ship Delay` time, the device will
enter SHUTDOWN mode if no charger present is detected.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 77


_SBS Commands_ [www.ti.com](https://www.ti.com)


If the device is SEALED, this feature requires the command to be sent twice in a row within 4 seconds (for safety
purposes). If the device is in UNSEALED or FULL ACCESS mode, sending the command the second time will
cancel the delay and enter shutdown immediately.


To wake up the device, a voltage > _**Charger Present Threshold**_ must apply to the PACK pin. The device will
power up and a full reset is applied.


**13.1.9 ManufacturerAccess() 0x0011 SLEEP Mode**


If the sleep conditions are met, the device can be sent to sleep with _ManufacturerAccess()_ .











|Status|Condition|Action|
|---|---|---|
|Enable|0x0011 to_ManufacturerAccess()_|_OperationStatus()[SLEEPM]_ = 1|
|Activate|**_DA Configuration[NR]_** = 0 AND<br>_OperationStatus()[PRES]_ = 0 AND<br>|_Current()_| <**_Power:Sleep Current_**|Turn off CHG FET, DSG FET, PCHG FET<br>Device goes to sleep.<br>Device wakes up every Power**_:Sleep Voltage Time_** period to measure voltage and<br>temperature.<br>Device wakes up every Power**_:Sleep_** **_Current Time_** period to measure current.|
|Activate|**_DA Configuration[NR]_** = 1 AND<br>|_Current()_| <**_Power:Sleep Current_**|Turn off DSG FET, PCHG FET<br>Turn off CHG FET if**_DA Configuration[SLEEPCHG]_** = 0<br>Device goes to sleep.<br>Device wakes up every Power**_:Sleep Voltage Time_** period to measure voltage and<br>temperature.<br>Device wakes up every Power**_:Sleep Current Time_** period to measure current.|
|Exit|**_DA Configuration[NR]_** = 0 AND<br>_OperationStatus()[PRES]_ = 1|_OperationStatus()[SLEEPM]_ = 0<br>Return to NORMAL mode|
|Exit||_Current()_| > Configuration:Sleep Current|_OperationStatus()[SLEEPM]_ = 0<br>Return to NORMAL mode|
|Exit|Wake Comparator trips|_OperationStatus()[SLEEPM]_ = 0<br>Return to NORMAL mode|
|Exit|_SafetyAlert()_ flag or_PFAlert()_ flag set|_OperationStatus()[SLEEPM]_ = 0<br>Return to NORMAL mode|


**13.1.10 ManufacturerAccess() 0x001D Fuse Toggle**


This command manually activates/deactivates the FUSE output to ease testing during manufacturing. If the
_OperationStatus()[FUSE]_ = 0 indicates the FUSE output is low. Sending this command toggles the FUSE output
to be high and the _OperationStatus()[FUSE]_ = 1.


**13.1.11 ManufacturerAccess() 0x001E PCHG FET Toggle**


This command turns on/off the PCHG FET drive function to ease testing during manufacturing. If
the _ManufacturingStatus()[PCHG_TEST]_ = 0, sending this command will turn on the PCHG FET and
the _ManufacturingStatus()[PCHG_TEST]_ = 1 and vice versa. This toggling command is only enabled if
_ManufacturingStatus()[FET_EN]_ = 0, indicating an FW FET control is not active and manual control is allowed. A
reset clears the [PCHG_TEST] flag and turns off the PCHG FET.


**13.1.12 ManufacturerAccess() 0x001F CHG FET Toggle**


This command turns on/off the CHG FET drive function to ease testing during manufacturing. If
the _ManufacturingStatus()[CHG_TEST]_ = 0, sending this command turns on the CHG FET and the
_ManufacturingStatus()[CHG_TEST]_ = 1 and vice versa. This toggling command is only enabled if
_ManufacturingStatus()[FET_EN]_ = 0, indicating an FW FET control is not active and manual control is allowed. A
reset clears the [CHG_TEST] flag and turns off the CHG FET.


**13.1.13 ManufacturerAccess() 0x0020 DSG FET Toggle**


This command turns on/off DSG FET drive function to ease testing during manufacturing. If the
_ManufacturingStatus()[DSG_TEST]_ = 0, sending this command turns on the DSG FET and the
_ManufacturingStatus()[DSG_TEST]_ = 1 and vice versa. This toggling command is only enabled if
_ManufacturingStatus()[FET_EN]_ = 0, indicating an FW FET control is not active and manual control is allowed. A
reset clears the [DSG_TEST] flag and turns off the DSG FET.


78 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


**13.1.14 ManufacturerAccess() 0x0022 FET Control**


This command disables/enables control of the CHG, DSG, and PCHG FET by the firmware. The initial setting is
loaded from _**Mfg Status Init[FET_EN]**_ . If the _ManufacturingStatus()[FET_EN]_ = 0, sending this command allows
the FW to control the PCHG, CHG, and DSG FETs and the _ManufacturingStatus()[FET_EN]_ = 1 and vice versa.


In UNSEALED mode, the _ManufacturingStatus()[FET_EN]_ status is copied to _**Mfg Status Init[FET_EN]**_ when
the command is received by the gauge. The device remains on its latest FET control status prior to a reset.


**13.1.15 ManufacturerAccess() 0x0023 Lifetime Data Collection**


This command disables/enables Lifetime Data Collection to help streamline production testing. The initial setting
is loaded from _**Mfg Status Init[LF_EN]**_ . If the _ManufacturingStatus()[LF_EN]_ = 0, sending this command starts
the Lifetime Data Collection and the _ManufacturingStatus()[LF_EN]_ = 1 and vice versa.


In UNSEALED mode, the _ManufacturingStatus()[LF_EN]_ status is copied to _**Mfg Status Init[LF_EN]**_ when the
command is received by the gauge. The device remains on its latest Lifetime Data Collection setting prior to a
reset.


**13.1.16 ManufacturerAccess() 0x0024 Permanent Failure**


This command disables/enables Permanent Failure to help streamline production testing.


The initial setting is loaded from _**Mfg Status Init[PF_EN]**_ . If the _ManufacturingStatus()[PF_EN]_ = 0, sending this
command enables Permanent Failure protections and the _ManufacturingStatus()[PF_EN]_ = 1 and vice versa.


In UNSEALED mode, _ManufacturingStatus()[PF_EN]_ status is copied to _**Mfg Status Init[PF_EN]**_ when the
command is received by the gauge. The device remains on its PF enable/disable setting prior to a reset.


**13.1.17 ManufacturerAccess() 0x0025 Black Box Recorder**


This command enables/disables Black Box Recorder function to help streamline production testing. The initial
setting is loaded from _**Mfg Status Init[BBR_EN]**_ . If the _ManufacturingStatus()[BBR_EN]_ = 0, sending this
command enables the Black Box Recorder and the _ManufacturingStatus()[BBR_EN]_ = 1 and vice versa.


In UNSEALED mode, the _ManufacturingStatus()[BBR_EN]_ status is copied to _**Mfg Status Init[BBR_EN]**_ when
the command is received by the gauge. The device remains on its latest Black Box Recorder enable/disable
setting prior to a reset.


**13.1.18 ManufacturerAccess() 0x0026 Fuse**


This command disables/enables firmware-based fuse activation to ease testing during manufacturing. The initial
setting is loaded from _**Mfg Status Init[FUSE_EN]**_ . If the _ManufacturingStatus()[FUSE_EN]_ = 0, sending this
command allows the FW to control the FUSE output and the _ManufacturingStatus()[FUSE_EN]_ = 1 and vice

versa.


In UNSEALED mode, the _ManufacturingStatus()[FUSE_EN]_ status is copied to _**Mfg Status Init[FUSE_EN]**_
when the command is received by the gauge. The device remains on its latest Fuse Control setting prior to a
reset.


**13.1.19 ManufacturerAccess() 0x0027 LED DISPLAY Enable**


This command enables or disables the LED display function to ease testing during manufacturing. The
initial setting is loaded from _**Mfg Status Init[LED_EN]**_ . If the _ManufacturingStatus()[LED_EN]_ = 0, sending
this command will enable the LED display and the _ManufacturingStatus()[LED_EN]_ = 1 and vice versa. In
UNSEALED mode, the _ManufacturingStatus()[LED_EN]_ status is copied to _**Mfg Status Init[LED_EN]**_ when the
command is received by the gauge. The device remains on its latest setting prior to a reset.


**13.1.20 ManufacturerAccess() 0x0028 Lifetime Data Reset**


Sending this command resets Lifetime Data in data flash to help streamline production testing.


**13.1.21 ManufacturerAccess() 0x0029 Permanent Fail Data Reset**


Sending this command resets PF data in data flash to help streamline production testing.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 79


_SBS Commands_ [www.ti.com](https://www.ti.com)


**13.1.22 ManufacturerAccess() 0x002A Black Box Recorder Reset**


Sending this command resets the Black Box Recorder data in data flash to help streamline production testing.


**13.1.23 ManufacturerAccess() 0x002B LED TOGGLE**


This command toggles the LED display on or off to help streamline testing during manufacturing. When the
LED display is off, the _OperationStatus()[LED]_ = 0. Sending this command turns on all LED displays with
_OperationStatus()[LED]_ set to 1, and vice versa.


**13.1.24 ManufacturerAccess() 0x002C LED DISPLAY PRESS**


This command simulates a low-high-low detection of the DISP pin, activating the LED display according to the
LED Support data flash setting. This command forces RSOC to 100% in order to demonstrate all LEDs in use,
the full speed, and the brightness.


**13.1.25 ManufacturerAccess() 0x002D CALIBRATION Mode**


This command disables/enables entry into CALIBRATION mode. Status is indicated by the
_ManufacturingStatus()[CAL_EN]_ flag. CALIBRATION mode is disabled upon a reset.



|Status|Condition|Action|
|---|---|---|
|Disable|_ManufacturingStatus()[CAL_EN]_ = 1 AND<br>0x002D to_ManufacturerAccess()_|_ManufacturingStatus()[CAL_EN]_ = 0<br>Disable output of ADC and CC raw data on_ManufacturingData()_|
|Enable|_ManufacturingStatus()[CAL_EN]_ = 0 AND<br>0x002D to_ManufacturerAccess()_|_ManufacturingStatus()[CAL_EN]_ = 1<br>Enable output of ADC and CC raw data on_ManufacturingData()_, <br>controllable with 0xF081 and 0xF082 on_ManufacturerAccess()_|


**13.1.26 ManufacturerAccess() 0x002E Lifetime Data Flush**





This command flushes the RAM Lifetime Data to data flash to help streamline evaluation testing.


**13.1.27 ManufacturerAccess() 0x002F Lifetime Data SPEED UP Mode**


For ease of evaluation testing, this command enables a lifetime SPEED UP mode where every 1 s in real
time counts as 2 hours in FW time. When the lifetime SPEED UP mode is enabled, the _ManufacturingStatus()_

_[LT_TEST]_ = 1.


The SPEED UP mode will be disabled if this command is sent again when _[LT_TEST]_ = 1, the MAC
_LifetimeDataReset()_ command is sent, the MAC _SealDevice()_ command is sent, or the device is reset.


**13.1.28 ManufacturerAccess() 0x0030 Seal Device**


This command seals the device for the field, disabling certain SBS commands and access to data flash. See
Table 13-1 and Chapter 13 for details.


When the device is sealed, the _OperationStatus()[SEC1, SEC0]_ = 1,1. All the test features in
_ManufacturingStatus()_ will also be disabled.


**13.1.29 ManufacturerAccess() 0x0035 Security Keys**


This is a read/write command for 2-word UNSEAL and FULL ACCESS keys.


When reading the keys, data can be read from _ManufacturerData()_ or _ManufacturerBlockAccess()_ . The keys are
returned in the following format: aaAAbbBBccCCddDD, where:

|Value|Description|
|---|---|
|AAaa|First word of the UNSEAL key|
|BBbb|Second word of the UNSEAL key|
|CCcc|First word of the FULL ACCESS key|
|DDdd|Second word of the FULL ACCESS key|



The default UNSEAL key is 0x0414 and 0x3672. The default FULL ACCESS key is 0xFFFF and 0xFFFF.


It is highly recommended to change the UNSEAL and FULL ACCESS keys from default.


80 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


The keys can only be changed through the _ManufacturerBlockAccess()_ .


Example: Change UNSEAL key to 0x1234, 0x5678, and leave the FULL ACCESS as default.


Send an SMBus block write with Command = 0x44.


Data = MAC command + New UNSEAL key + New FULL ACCESS KEY


= 35 00 34 12 78 56 FF FF FF FF


**Note**


The first word of the keys cannot be the same. That means an UNSEAL key with 0xABCD 0x1234 and
FULL ACCESS key with 0xABCD 0x5678 are not valid because the first word is the same.


This is because the first word is used as a “detection” for the right command. This also means the first
word cannot be the same as any existing MAC command.


**13.1.30 ManufacturerAccess() 0x0037 Authentication Key**


This command enables the update of the authentication key into the device. The device must be in FULL
ACCESS mode for the authentication key to update.


To update a new authentication key:


 - Send the _AuthenticationKey()_ + the new 128-bit authentication key to _ManufacturerBlockAccess()_, OR

 - Send the _AuthenticationKey()_ to _ManufacturerAccess()_, then send the 128-bit authentication key to
_Authentication()_ .


There is no direct read access to the authentication key. After writing the new authentication to the gauge, the
gauge will generate an all-zero challenge and provide the corresponding response for verification.


To verify the new authentication key:


 - Read the response from _ManufacturerBlockAccess()_ after updating the new authentication key, OR

 - Read the response from _Authentication()_ after updating the new authentication key.


**13.1.31 ManufacturerAccess() 0x0041 Device Reset**


This command resets the device.


**Note**


Command 0x0012 also resets the device (for backwards compatibility with the BQ30zxy device).


**13.1.32 ManufacturerAccess() 0x0050 SafetyAlert**


This command returns the _SafetyAlert()_ flags on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .


31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16


PCH
RSVD RSVD RSVD RSVD UTD UTC CHGV CHGC OC CTOS CTO PTOS PTO RSVD OTF

GC


15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0



ASC
RSVD CUVC OTD OTC



ASC ASC

RSVD
DL CL



ASC AOL

RSVD
CL DL



RSVD OCD2 OCD1 OCC2 OCC1 COV CUV
DL



**RSVD (Bits 31–28):** Reserved. Do not use.


**UTD (Bit 27):** Undertemperature During Discharge


1 = Detected


[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 81


_SBS Commands_ [www.ti.com](https://www.ti.com)


0 = Not Detected


**UTC (Bit 26):** Undertemperature During Charge


1 = Detected


0 = Not Detected


**PCHGC (Bit 25):** Over-Precharge Current


1 = Detected


0 = Not Detected


**CHGV (Bit 24):** Overcharging Voltage


1 = Detected


0 = Not Detected


**CHGC (Bit 23):** Overcharging Current


1 = Detected


0 = Not Detected


**OC (Bit 22):** Overcharge


1 = Detected


0 = Not Detected


**CTOS (Bit 21):** Charge Timeout Suspend


1 = Detected


0 = Not Detected


**CTO (Bit 20):** Charge Timeout


1 = Detected


0 = Not Detected


**PTOS (Bit 19):** Precharge Timeout Suspend


1 = Detected


0 = Not Detected


**PTO (Bit 18):** Precharge Timeout


1 = Detected


0 = Not Detected


**RSVD (Bit 17):** Reserved. Do not use.


**OTF (Bit 16):** Overtemperature FET


1 = Detected


0 = Not Detected


**RSVD (Bit 15):** Reserved. Do not use.


**CUVC (Bit 14):** Cell Undervoltage Compensated


1 = Detected


0 = Not Detected


**OTD (Bit 13):** Overtemperature During Discharge


1 = Detected


0 = Not Detected


**OTC (Bit 12):** Overtemperature During Charge


1 = Detected


0 = Not Detected


**ASCDL (Bit 11):** Short-Circuit During Discharge Latch


1 = Detected


82 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


0 = Not Detected


**RSVD (Bit 10):** Reserved. Do not use.


**ASCCL (Bit 9):** Short-Circuit During Charge Latch


1 = Detected


0 = Not Detected


**RSVD (Bit 8):** Reserved. Do not use.


**AOLDL (Bit 7):** Overload During Discharge Latch


1 = Detected


0 = Not Detected


**RSVD (Bit 6):** Reserved. Do not use.


**OCD2 (Bit 5):** Overcurrent During Discharge 2


1 = Detected


0 = Not Detected


**OCD1 (Bit 4):** Overcurrent During Discharge 1


1 = Detected


0 = Not Detected


**OCC2 (Bit 3):** Overcurrent During Charge 2


1 = Detected


0 = Not Detected


**OCC1 (Bit 2):** Overcurrent During Charge 1


1 = Detected


0 = Not Detected


**COV (Bit 1):** Cell Overvoltage


1 = Detected


0 = Not Detected


**CUV (Bit 0):** Cell Undervoltage


1 = Detected


0 = Not Detected


**13.1.33 ManufacturerAccess() 0x0051 SafetyStatus**


This command returns the _SafetyStatus()_ flags on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .


31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16


PCH
RSVD RSVD RSVD RSVD UTD UTC CHGV CHGC OC RSVD CTO RSVD PTO RSVD OTF

GC


15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0



ASC
RSVD CUVC OTD OTC



ASC ASC

ASCD
DL CL



ASC AOL

ASCC
CL DL



AOLD OCD2 OCD1 OCC2 OCC1 COV CUV
DL



**RSVD (Bits 31–28):** Reserved. Do not use.


**UTD (Bit 27):** Undertemperature During Discharge


1 = Detected


0 = Not Detected


[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 83


_SBS Commands_ [www.ti.com](https://www.ti.com)


**UTC (Bit 26):** Undertemperature During Charge


1 = Detected


0 = Not Detected


**PCHGC (Bit 25):** Over-Precharge Current


1 = Detected


0 = Not Detected


**CHGV (Bit 24):** Overcharging Voltage


1 = Detected


0 = Not Detected


**CHGC (Bit 23):** Overcharging Current


1 = Detected


0 = Not Detected


**OC (Bit 22):** Overcharge


1 = Detected


0 = Not Detected


**RSVD (Bit 21):** Reserved. Do not use.


**CTO (Bit 20):** Charge Timeout


1 = Detected


0 = Not Detected


**RSVD (Bit 19):** Reserved. Do not use.


**PTO (Bit 18):** Precharge Timeout


1 = Detected


0 = Not Detected


**RSVD (Bit 17):** Reserved. Do not use.


**OTF (Bit 16):** Overtemperature FET


1 = Detected


0 = Not Detected


**RSVD (Bit 15):** Reserved. Do not use.


**CUVC (Bit 14):** Cell Undervoltage Compensated


1 = Detected


0 = Not Detected


**OTD (Bit 13):** Overtemperature During Discharge


1 = Detected


0 = Not Detected


**OTC (Bit 12):** Overtemperature During Charge


1 = Detected


0 = Not Detected


**ASCDL (Bit 11):** Short-circuit During Discharge Latch


1 = Detected


0 = Not Detected


**ASCD (Bit 10):** Short-circuit During Discharge


1 = Detected


0 = Not Detected


84 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


**ASCCL (Bit 9):** Short-circuit During Charge Latch


1 = Detected


0 = Not Detected


**ASCC (Bit 8):** Short-circuit During Charge


1 = Detected


0 = Not Detected


**AOLDL (Bit 7):** Overload During Discharge Latch


1 = Detected


0 = Not Detected


**AOLD (Bit 6):** Overload During Discharge


1 = Detected


0 = Not Detected


**OCD2 (Bit 5):** Overcurrent During Discharge 2


1 = Detected


0 = Not Detected


**OCD1 (Bit 4):** Overcurrent During Discharge 1


1 = Detected


0 = Not Detected


**OCC2 (Bit 3):** Overcurrent During Charge 2


1 = Detected


0 = Not Detected


**OCC1 (Bit 2):** Overcurrent During Charge 1


1 = Detected


0 = Not Detected


**COV (Bit 1):** Cell Overvoltage


1 = Detected


0 = Not Detected


**CUV (Bit 0):** Cell Undervoltage


1 = Detected


0 = Not Detected


**13.1.34 ManufacturerAccess() 0x0052 PFAlert**


This command returns the _PFAlert()_ flags on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .


31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16



DFE
TS4 TS3 TS2 TS1 RSVD RSVD OPNC RSVD RSVD 2LVL AFEC AFER FUSE RSVD

TF



CFE


TF



15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0


RSVD RSVD RSVD VIMA VIMR RSVD RSVD RSVD RSVD SOTF RSVD SOT SOCD SOCC SOV SUV


**TS4 (Bit 31):** Open Thermistor–TS4 Failure


1 = Detected


0 = Not Detected


**TS3 (Bit 30):** Open Thermistor–TS3 Failure



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 85


_SBS Commands_ [www.ti.com](https://www.ti.com)


1 = Detected


0 = Not Detected


**TS2 (Bit 29):** Open Thermistor–TS2 Failure


1 = Detected


0 = Not Detected


**TS1 (Bit 28):** Open Thermistor–TS1 Failure


1 = Detected


0 = Not Detected


**RSVD (Bits 27–26):** Reserved. Do not use.


**OPNC (Bit 25):** Open Cell Tab Connection Failure


1 = Detected


0 = Not Detected


**RSVD (Bits 24–23):** Reserved. Do not use.


**2LVL (Bit 22):** Second Level Protector Failure


1 = Detected


0 = Not Detected


**AFEC (Bit 21):** AFE Communication Failure


1 = Detected


0 = Not Detected


**AFER (Bit 20):** AFE Register Failure


1 = Detected


0 = Not Detected


**FUSE (Bit 19):** Chemical Fuse Failure


1 = Detected


0 = Not Detected


**DFETF (Bit 17):** Discharge FET Failure


1 = Detected


0 = Not Detected


**CFETF (Bit 16):** Charge FET Failure


1 = Detected


0 = Not Detected


**RSVD (Bits 15–13)** : Reserved. Do not use.


**VIMA (Bit 12):** Voltage Imbalance While Pack Is Active Failure


1 = Detected


0 = Not Detected


**VIMR (Bit 11):** Voltage Imbalance While Pack Is At Rest Failure


1 = Detected


0 = Not Detected


**RSVD (Bits 10–7):** Reserved. Do not use.


**SOTF (Bit 6):** Safety Overtemperature FET Failure


1 = Detected


0 = Not Detected


**RSVD (Bit 5):** Reserved. Do not use.


86 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


**SOT (Bit 4):** Safety Overtemperature Cell Failure


1 = Detected


0 = Not Detected


**SOCD (Bit 3):** Safety Overcurrent in Discharge


1 = Detected


0 = Not Detected


**SOCC (Bit 2):** Safety Overcurrent in Charge


1 = Detected


0 = Not Detected


**SOV (Bit 1):** Safety Cell Overvoltage Failure


1 = Detected


0 = Not Detected


**SUV (Bit 0):** Safety Cell Undervoltage Failure


1 = Detected


0 = Not Detected


**13.1.35 ManufacturerAccess() 0x0053 PFStatus**


This command returns the _PFStatus()_ flags on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .


31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16



OPN DFE
TS4 TS3 TS2 TS1 RSVD DFW IFC PTC 2LVL AFEC AFER FUSE RSVD
CELL TF



CFE


TF



15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0


RSVD RSVD RSVD VIMA VIMR RSVD RSVD RSVD RSVD SOTF RSVD SOT SOCD SOCC SOV SUV


**TS4 (Bit 31):** Open Thermistor–TS4 Failure


1 = Detected


0 = Not Detected


**TS3 (Bit 30):** Open Thermistor–TS3 Failure


1 = Detected


0 = Not Detected


**TS2 (Bit 29):** Open Thermistor–TS2 Failure


1 = Detected


0 = Not Detected


**TS1 (Bit 28):** Open Thermistor–TS1 Failure


1 = Detected


0 = Not Detected


**RSVD (Bit 27):** Reserved. Do not use.


**DFW (Bit 26):** Data Flash Wearout Failure


1 = Detected


0 = Not Detected


**OPNCELL (Bit 25):** Open Cell Tab Connection Failure


1 = Detected


0 = Not Detected



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 87


_SBS Commands_ [www.ti.com](https://www.ti.com)


**IFC (Bit 24):** Instruction Flash Checksum Failure


1 = Detected


0 = Not Detected


**PTC (Bit 23):** PTC Failure


1 = Detected


0 = Not Detected


**2LVL (Bit 22):** Second Level Protector Failure


1 = Detected


0 = Not Detected


**AFEC (Bit 21):** AFE Communication Failure


1 = Detected


0 = Not Detected


**AFER (Bit 20):** AFE Register Failure


1 = Detected


0 = Not Detected


**FUSE (Bit 19):** Chemical Fuse Failure


1 = Detected


0 = Not Detected


**RSVD (Bit 18):** Reserved. Do not use.


**DFETF (Bit 17):** Discharge FET Failure


1 = Detected


0 = Not Detected


**CFETF (Bit 16):** Charge FET Failure


1 = Detected


0 = Not Detected


**RSVD (Bits 15–13):** Reserved. Do not use.


**VIMA (Bit 12):** Voltage Imbalance While Pack Is Active Failure


1 = Detected


0 = Not Detected


**VIMR (Bit 11):** Voltage Imbalance While Pack At Rest Failure


1 = Detected


0 = Not Detected


**RSVD (Bits 10–7):** Reserved. Do not use.


**SOTF (Bit 6):** Safety Overtemperature FET Failure


1 = Detected


0 = Not Detected


**RSVD (Bit 5):** Reserved. Do not use.


**SOT (Bit 4):** Safety Overtemperature Cell Failure


1 = Detected


0 = Not Detected


**SOCD (Bits 3):** Safety Overcurrent in Discharge


1 = Detected


0 = Not Detected


88 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


**SOCC (Bits 2):** Safety Overcurrent in Charge


1 Detected


0 Not Detected


**SOV (Bit 1):** Safety Cell Overvoltage Failure


1 = Detected


0 = Not Detected


**SUV (Bit 0):** Safety Cell Undervoltage Failure


1 = Detected


0 = Not Detected


**13.1.36 ManufacturerAccess() 0x0054 OperationStatus**


This command returns the _OperationStatus()_ flags on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .


31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16



EM SLP
RSVD RSVD CB
SHUT CC



SLP


AD



SMBL SLEEP

INIT XL
CAL M



CAL_

OFF

SET



AUTO
CAL AUTH LED SDM
CALM



15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0



SLEEP XCHG XDSG PF SS SDV SEC1 SEC0 BTP_

INT



SMOOT
FUSE RSVD PCHG CHG DSG PRES
H



**RSVD (Bits 31–30)** : Reserved. Do not use.


**EMSHUT (Bit 29)** : Emergency Shutdown


1 = Active


0 = Inactive


**CB (Bit 28)** : Cell balancing status


1 = Active


0 = Inactive


**SLPCC (Bit 27)** : CC Measurement in SLEEP mode


1 = Active


0 = Inactive


**SLPAD (Bit 26)** : ADC Measurement in SLEEP mode


1 = Active


0 = Inactive


**SMBLCAL (Bit 25)** : Auto CC calibration when the bus is low. This bit may not be read by the host because the FW will clear it when a
communication is detected.


1 = Auto CC calibration starts



0 = [When the bus is high or communication is detected for the case of]

_**[IN_SYSTEM_SLEEP]**_ = 1.


**INIT (Bit 24)** : Initialization after full reset


1 = Active


0 = Inactive


**SLEEPM (Bit 23)** : SLEEP mode triggered via command


1 = Active


0 = Inactive


**XL (Bit 22)** : 400-kHz SMBus mode


[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 89


_SBS Commands_ [www.ti.com](https://www.ti.com)


1 = Active


0 = Inactive


**CAL_OFFSET (Bit 21)** : Calibration Output (raw CC offset data).


1 = Active when MAC _OutputShortedCCADCCal()_ is sent and the raw shorted CC data for calibration is available.


0 = When the raw shorted CC data for calibration is not available.


**CAL (Bit 20)** : Calibration Output (raw ADC and CC data)


1 = [Active when either the MAC ] _[OutputCCADCCal()]_ [ or ] _[OutputShortedCCADCCal()]_ [ is sent and the raw CC and ADC data for ]
calibration is available.


0 = When the raw CC and ADC data for calibration is not available.


**AUTOCALM (Bit 19):** Auto CC Offset Calibration by MAC _AutoCCOffset()_


1 = The gauge receives the MAC _AutoCCOffset()_ and starts the auto CC offset calibration.


0 = Clear when the calibration is completed.


**AUTH (Bit 18):** Authentication in progress


1 = Active


0 = Inactive


**LED (Bit 17)** : LED Display


1 = LED display is on.


0 = LED display is off.


**SDM (Bit 16):** Shutdown triggered via command


1 = Active


0 = Inactive


**SLEEP (Bit 15):** SLEEP mode conditions met


1 = Active


0 = Inactive


**XCHG (Bit 14):** Charging disabled


1 = Active


0 = Inactive


**XDSG (Bit 13):** Discharging disabled


1 = Active


0 = Inactive


**PF (Bit 12):** PERMANENT FAILURE mode status


1 = Active


0 = Inactive


**SS (Bit 11):** SAFETY mode status


1 = Active


0 = Inactive


**SDV (Bit 10):** Shutdown triggered via low pack voltage


1 = Active


0 = Inactive


**SEC1, SEC0 (Bits 9–8):** SECURITY mode


0, 0 = Reserved


0, 1 = Full Access


1, 0 = Unsealed


1, 1 = Sealed


**BTP_INT (Bit 7)** : Battery Trip Point Interrupt. Setting and clearing this bit depends on various conditions.


90 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


See Section 6.7 for details.


**SMOOTH (Bit 6):** Smoothing active status


1 = Smoothing is active.


0 = Smoothing is inactive.


**FUSE (Bit 5):** Fuse status


1 = Active


0 = Inactive


**RSVD (Bit 4):** Reserved. Do not use.


**PCHG (Bit 3):** Precharge FET status


1 = Active


0 = Inactive


**CHG (Bit 2):** CHG FET status


1 = Active


0 = Inactive


**DSG (Bit 1):** DSG FET status


1 = Active


0 = Inactive


**PRES (Bit 0):** System present low


1 = Active


0 = Inactive


**13.1.37 ManufacturerAccess() 0x0055 ChargingStatus**


This command returns the _ChargingStatus()_ flags on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .


31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16


RSVD RSVD RSVD RSVD RSVD RSVD RSVD RSVD


15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0


TAPER RSVD RSVD RSVD RSVD CCC CVR CCR VCT MCHG SU IN HV MV LV PV


**RSVD (Bits 23–16):** Reserved. Do not use.


**TAPER (Bit 15):** This is set when the Taper voltage condition is satisfied while charging.


1 = Taper voltage condition is satisfied during charge.


0 = Taper voltage condition is not satisfied during charge.


**RSVD (Bits 14–11):** Reserved. Do not use.


**CCC (Bit 10):** Charging Loss Compensation


1 = Active


0 = Inactive


**CVR (Bit 9):** Charging Voltage Rate of Change


1 = Active


0 = Inactive


**CCR (Bit 8):** Charging Current Rate of Change


1 = Active


0 = Inactive



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 91


_SBS Commands_ [www.ti.com](https://www.ti.com)


**VCT (Bit 7):** Charge Termination


1 = Active


0 = Inactive


**MCHG (Bit 6):** Maintenance Charge


1 = Active


0 = Inactive


**SU (Bit 5):** Charge Suspend


1 = Charge suspend active


0 = Charge suspend inactive


**IN (Bit 4):** Charge Inhibit


1 = Active


0 = Inactive


**HV (Bit 3):** High Voltage Region


1 = Active


0 = Inactive


**MV (Bit 2):** Mid Voltage Region


1 = Active


0 = Inactive


**LV (Bit 1):** Low Voltage Region


1 = Active


0 = Inactive


**PV (Bit 0):** Precharge Voltage Region


1 = Active


0 = Inactive


**13.1.38 ManufacturerAccess() 0x0056 GaugingStatus**


This command returns the _GaugingStatus()_ flags on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .


15 14 13 12 11 10 9 8


VDQ EDV2 EDV1 RSVD RSVD FCCX RSVD RSVD


7 6 5 4 3 2 1 0


CF DSG EDV0 BAL_EN TC TD FC FD


**VDQ (Bit 15)** : Discharge Qualified for Learning (based on RU flag)


1 = Detected


0 = Not Detected


**EDV2 (Bit 14):** End-of-Discharge Voltage 2 has been reached.


1 = EDV2 point has been reached during discharge.


0 = EDV2 point has not been reached during discharge.


**EDV1 (Bit 13):** End-of-Discharge Voltage 1 has been reached.


1 = EDV1 point has been reached during discharge.


92 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


0 = EDV1 point has not been reached during discharge.


**RSVD (Bits 12–11):** Reserved. Do not use.


**FCCX (Bit 10)** : When the FCC value is updated on reaching EDV2, then this flag is set (stays on till the end of discharge).


1 = FCC value has been updated.


0 = FCC value has not been updated.


**RSVD (Bits 9–8):** Reserved. Do not use.


**CF (Bit 7):** Condition Flag


1 = _MaxError()_       - Max Error Limit (Condition Cycle Needed)


0 = _MaxError()_ < Max Error Limit (Condition Cycle Not Needed)


**DSG (Bit 6):** Discharge/Relax


1 = Charging Not Detected


0 = Charging Detected


**EDV0 (Bit 5):** End-of-Discharge Voltage 0 has been reached.


1 = EDV0 point is reached during discharge.


0 = EDV0 point is not reached (or not in DISCHARGE mode).


**BAL_EN (Bit 4):** Cell Balancing


1 = Cell balancing is possible if enabled.


0 = Cell balancing is not allowed.


**TC (Bit 3):** Terminate Charge


1 = Detected


0 = Not Detected


**TD (Bit 2):** Terminate Discharge


1 = Detected


0 = Not Detected


**FC (Bits 1):** Fully Charged


1 = Detected


0 = Not Detected


**FD (Bit 0):** Fully Discharged


1 = Detected


0 = Not Detected


**13.1.39 ManufacturerAccess() 0x0057 ManufacturingStatus**


This command returns the _ManufacturingStatus()_ flags on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .


15 14 13 12 11 10 9 8


CAL_EN LT_TEST RSVD RSVD RSVD RSVD LED_EN FUSE_EN


7 6 5 4 3 2 1 0


BBR_EN PF_EN LF_EN FET_EN RSVD DSG_TEST CHG_TEST PCHG_TEST


**CAL_EN (Bit 15):** CALIBRATION mode



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 93


_SBS Commands_ [www.ti.com](https://www.ti.com)


1 = Enabled


0 = Disabled


**LT_TEST (Bit 14)** : LIFETIME SPEED UP mode


1 = Enabled


0 = Disabled


**RSVD (Bits 13–10):** Reserved. Do not use.


**LED_EN (Bit 9)** : LED Display


1 = LED display is on.


0 = LED display is off.


**FUSE_EN (Bit 8):** Fuse Action


1 = Enabled


0 = Disabled


**BBR_EN (Bit 8):** Black Box Recorder


1 = Enabled


0 = Disabled


**PF_EN (Bit 6):** Permanent Failure


1 = Enabled


0 = Disabled


**LF_EN (Bit 5):** Lifetime Data Collection


1 = Enabled


0 = Disabled


**FET_EN (Bit 4):** All FET Action


1 = Enabled


0 = Disabled


**RSVD (Bit 3):** Reserved. Do not use.


**DSG_TEST (Bit 2):** Discharge FET Test


1 = Discharge FET test activated


0 = Disabled


**CHG_TEST (Bit 1):** Charge FET Test


1 = Charge FET test activated


0 = Disabled


**PCHG_TEST (Bit 0):** Precharge FET Test


1 = Precharge FET test activated


0 = Disabled


**13.1.40 ManufacturerAccess() 0x0058 AFE Register**


This command returns the _AFERegister()_ values on _ManufacturerBlockAccess()_ or _ManufacturerData()_ . These
are the AFE hardware registers and are intended for internal debug use only.

|Status|Condition|
|---|---|
|Activate|0x0058 to_ManufacturerAccess()_|



**Action** : Output AFE Register values on _ManufacturerBlockAccess()_ or _ManufacturerData()_ in the following
format: AABBCCDDEEFFGGHHIIJJKKLLMMNNOOPPQQRRSSTTUU where:


94 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_

|Value|Description|
|---|---|
|AA|AFE Interrupt Status. AFE Hardware interrupt status (for example, wake time, push-button, and so on)|
|BB|AFE FET Status. AFE FET status (for example, CHG FET, DSG FET, PCHG FET, FUSE input, and so on)|
|CC|AFE RXIN. AFE I/O port input status|
|DD|AFE Latch Status. AFE protection latch status|
|EE|AFE Interrupt Enable. AFE interrupt control settings|
|FF|AFE Control. AFE FET control enable setting|
|GG|AFE RXIEN. AFE I/O input enable settings|
|HH|AFE RLOUT. AFE I/O pins output status|
|II|AFE RHOUT. AFE I/O pins output status|
|JJ|AFE RHINT. AFE I/O pins interrupt status|
|KK|AFE Cell Balance. AFE cell balancing enable settings and status|
|LL|AFE ADC/CC Control. AFE ADC/CC Control settings|
|MM|AFE ADC Mux Control. AFE ADC channel selections|
|NN|AFE LED Control|
|OO|AFE Control. AFE control on various HW based features|
|PP|AFE Timer Control. AFE comparator and timer control|
|QQ|AFE Protection. AFE protection delay time control|
|RR|AFE OCD. AFE OCD settings|
|SS|AFE SCC. AFE SCC settings|
|TT|AFE SCD1. AFE SCD1 settings|
|UU|AFE SCD2. AFE SCD2 settings|



**13.1.41 ManufacturerAccess() 0x0060 Lifetime Data Block 1**


This command returns the Lifetime Data with the following format:


aaAAbbBBccCCddDDeeEEffFFggGGhhHHiiIIjjJJkkKKllLLmmMMNNOOPPQQRRSS.

|Value|Description|
|---|---|
|AAaa|Cell 1 Max Voltage|
|BBbb|Cell 2 Max Voltage|
|CCcc|Cell 3 Max Voltage|
|DDdd|Cell 4 Max Voltage|
|EEee|Cell 1 Min Voltage|
|FFff|Cell 2 Min Voltage|
|GGgg|Cell 3 Min Voltage|
|HHhh|Cell 4 Min Voltage|
|IIii|Max Delta Cell Voltage|
|JJjj|Max Charge Current|
|KKkk|Max Discharge Current|
|LLll|Max Avg Dsg Current|
|MMmm|Max Avg Dsg Power|
|NN|Max Temp Cell|
|OO|Min Temp Cell|
|PP|Max Delta Cell temp|
|QQ|Max Temp Int Sensor|
|RR|Min Temp Int Sensor|
|SS|Max Temp Fet|



**13.1.42 ManufacturerAccess() 0x0061 Lifetime Data Block 2**


This command returns the Lifetime Data with the following format:


AABBCCDDEEFFGGHH.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 95


_SBS Commands_ [www.ti.com](https://www.ti.com)

|Value|Description|
|---|---|
|AA|No. of Shutdowns|
|BB|No. of Partial Resets|
|CC|No. of Full Resets|
|DD|No. of WDT resets|
|EE|CB Time Cell 1|
|FF|CB Time Cell 2|
|GG|CB Time Cell 3|
|HH|CB Time Cell 4|



**13.1.43 ManufacturerAccess() 0x0062 Lifetime Data Block 3**


This command returns the Lifetime Data with the following format:


aaAAbbBBccCCddDDeeEEffFFggGGhhHH.

|Value|Description|
|---|---|
|AAaa|Total FW Runtime|
|BBbb|Time Spent in UT|
|CCcc|Time Spent in LT|
|DDdd|Time Spent in STL|
|EEee|Time Spent in RT|
|FFff|Time Spent in STH|
|GGgg|Time Spent in HT|
|HHhh|Time Spent in OT|



**13.1.44 ManufacturerAccess() 0x0063 Lifetime Data Block 4**


This command returns the Lifetime Data with the following format:


aaAAbbBBccCCddDDeeEEffFFggGGhhHHllLLmmMMnnNNooOOppPP.

|Value|Description|
|---|---|
|AAaa|No. of COV Events|
|BBbb|Last COV Event|
|CCcc|No. of CUV Events|
|DDdd|Last CUV Event|
|EEee|No. of OCD1 Events|
|FFff|Last OCD1 Event|
|GGgg|No. of OCD2 Events|
|HHhh|Last OCD2 Event|
|IIii|No. of OCC1 Events|
|JJjj|Last OCC1 Event|
|KKkk|No. of OCC2 Events|
|LLll|Last OCC2 Event|
|MMmm|No. of AOLD Events|
|NNnn|Last AOLD Event|
|OOoo|No. of ASCD Events|
|PPpp|Last ASCD Event|



**13.1.45 ManufacturerAccess() 0x0064 Lifetime Data Block 5**


This command returns the Lifetime data with the following format:


aaAAbbBBccCCddDDeeEEffFFggGGhhHHiiIIjjJJ.


96 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_

|Value|Description|
|---|---|
|AAaa|No. of ASCC Events|
|BBbb|Last ASCC Event|
|CCcc|No. of OTC Events|
|DDdd|Last OTC Event|
|EEee|No. of OTD Events|
|FFff|Last OTD Event|
|GGgg|No. of OTF Events|
|HHhh|Last OTF Event|
|IIii|No. Valid Charge Term|
|JJjj|Last Valid Charge Term|



**13.1.46 ManufacturerAccess() 0x0070 ManufacturerInfo**


This command returns ManufacturerInfo on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .






|Status|Condition|Action|
|---|---|---|
|Activate|0x0070 to_ManufacturerAccess()_|Output 32 bytes of ManufacturerInfo on_ManufacturerBlockAccess()_ or<br>_ManufacturerData()_ in the following format: AABBCCDDEEFFGGHHIIJJKKLLMMNN<br>OOPPQQRRSSTTUUVVWWXXVVZZ112233 445566|



**13.1.47 ManufacturerAccess() 0x0071 DAStatus1**


This command returns the Cell Voltages, Pack Voltage, Bat Voltage, Cell Currents, Cell Powers, Power, and
Average Power on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .

|Status|Condition|
|---|---|
|Activate|0x0071 to_ManufacturerBlockAccess()_ or_ManufacturerAccess()_|



**Action** : Output 32 bytes of data on _ManufacturerBlockAccess()_ or _ManufacturerData()_ in the following format:
aaAAbbBBccCCddDDeeEEffFFggGGhhHHiiIIjjJJkkKKllLLmmMMnnNNooOOppPP where:







|Value|Description|Unit|
|---|---|---|
|AAaa|Cell Voltage 1|mV|
|BBbb|Cell Voltage 2|mV|
|CCcc|Cell Voltage 3|mV|
|DDdd|Cell Voltage 4|mV|
|EEee|BAT Voltage. Voltage at the BAT pin. This is different than_Voltage()_, which is the sum of all the cell<br>voltages.|mV|
|FFff|PACK Voltage|mV|
|GGgg|Cell Current 1. Simultaneous current measured during Cell Voltage1 measurement|mA|
|HHhh|Cell Current 2. Simultaneous current measured during Cell Voltage2 measurement|mA|
|IIii|Cell Current 3. Simultaneous current measured during Cell Voltage3 measurement|mA|
|JJjj|Cell Current 4. Simultaneous current measured during Cell Voltage 4 measurement|mA|
|KKkk|Cell Power 1. Calculated using Cell Voltage1 and Cell Current 1 data|mA|
|LLll|Cell Power 2. Calculated using Cell Voltage2 and Cell Current 2 data|cW|
|MMmm|Cell Power 3. Calculated using Cell Voltage3 and Cell Current 3 data|cW|
|NNnn|Cell Power 4. Calculated using Cell Voltage4 and Cell Current 4 data|cW|
|OOoo|Power calculated by_Voltage()_ ×_Current()_|cW|
|PPpp|Average Power|cW|


**13.1.48 ManufacturerAccess() 0x0072 DAStatus2**


This command returns the internal temp sensor, TS1, TS2, TS3, TS4, Cell Temp, and FETTemp on
_ManufacturerBlockAccess()_ or _ManufacturerData()_ .



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 97


_SBS Commands_ [www.ti.com](https://www.ti.com)

|Status|Condition|
|---|---|
|Activate|0x0072 to_ManufacturerBlockAccess()_ or_ManufacturerAccess()_|



**Action** : Output 14 bytes of temperature data values on _ManufacturerBlockAccess()_ or _ManufacturerData()_ in the
following format: aaAAbbBBccCCddDDeeEEffFFggGG where:

|Value|Description|Unit|
|---|---|---|
|AAaa|Int Temperature|0.1°K|
|BBbb|TS1 Temperature|0.1°K|
|CCcc|TS2 Temperature|0.1°K|
|DDdd|TS3 Temperature|0.1°K|
|EEee|TS4 Temperature|0.1°K|
|FFff|Cell Temperature|0.1°K|
|GGgg|FET Temperature|0.1°K|



**13.1.49 ManufacturerAccess() 0x007A ManufacturerInfo2**


This command returns _**ManufacturerInfo2**_ on _ManufacturerBlockAccess()_ or _ManufacturerData()_ .

|Status|Condition|Action|
|---|---|---|
|Activate|0x007A to_ManufacturerAccess()_|Output 32 bytes of ManufacturerInfo2 on<br>_ManufacturerBlockAccess()_ or_ManufacturerData()_ in the<br>following format: AABBCCDDEEFFGGHHIIJJKKLLMMNN<br>OOPPQQRRSSTTUUVVWWXXVVZZ112233 445566|



**13.1.50 ManufacturerAccess() 0x0F00 ROM Mode**


This command sends the device into ROM mode in preparation for firmware re-programming. To enter ROM
mode, the device must be in FULL ACCESS mode. To return from ROM mode to FW mode, issue the SMBus
command 0x08.


**Note**


Command 0x0033 also puts the device in ROM mode (for backwards compatibility with the BQ30zxy
device).


**13.1.51 0x4000–0x5FFF Data Flash Access()**


Accessing data flash (DF) is only supported by the _ManufacturerBlockAccess()_ by addressing the physical
address.


To write to the DF, send the starting address, followed by the DF data block. The DF data block is the intended
revised DF data to be updated to DF. The size of the DF data block ranges from 1 byte to 32 bytes. All individual
data must be sent in Little Endian.


Write to DF example:


Assuming: data1 locates at address 0x4000 and data2 locates at address 0x4002.


Both data1 and data2 are U2 type.


To update data1 and data2, send an SMBus block write with command = 0x44


block = starting address + DF data block


= 0x00 + 0x40 + data1_LowByte + data1_HighByte + data2_LowByte + data2_HighByte


To read the DF, send an SMBus block write to the _ManufacturerBlockAccess(),_ followed by the starting address,
then send an SMBus block read to the _ManufacturerBlockAccess()_ . The return data contains the starting
address followed by 32 bytes of DF data in Little Endian.


Read from DF example:


98 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


Taking the same assuming from the read DF example, to read DF,


a. Send SMBus write block with command 0x44, block = 0x00 + 0x40


b. Send SMBus read block with command 0x44


The returned block = a starting address + 32 bytes of DF data


= 0x00 + 0x40 + data1_LowByte + data1_HighByte + data2_LowByte + data2_HighByte.... data32_LowByte +
data32_HighByte


The gauge supports an auto-increment on the address during a DF read. This greatly reduces the time required
to read out the entire DF. Continue with the read from the DF example. If another SMBus read block is sent with
command 0x44, the gauge returns another 32 bytes of DF data, starting with address 0x4020.


**13.1.52 ManufacturerAccess() 0xF080 Exit Calibration Output Mode**


This command stops the output of calibration data to the _ManufacturerBlockAccess()_ or _ManufacturerData()_
command. Any other MAC command sent to the gauge will also stop the output of the calibration data.








|Status|Condition|Action|
|---|---|---|
|Activate|_ManufacturerBlockAccess()_ OR<br>_ManufacturerData()_ = 1 AND<br>0xF080 to_ManufacturerAccess()_|Stop output of ADC or CC data on_ManufacturerBlockAccess()_ or_ManufacturerData()_|



**13.1.53 ManufacturerAccess() 0xF081 Output CCADC Cal**


This command instructs the device to output the raw values for calibration purposes on
_ManufacturerBlockAccess()_ or _ManufacturerData()_ . All values are updated every 250 ms and the format of each
value is 2's complement, MSB first.

|Status|Condition|
|---|---|
|Disable|_ManufacturingStatus()[CAL]_ = 1 AND<br>0xF080 to_ManufacturerAccess()_|



**Action** : _OperationStatus()[CAL]_ = 0, _[CAL_OFFSET]_ = 0
Stop output of ADC and CC data on _ManufacturerBlockAccess()_ or _ManufacturerData()_

|Status|Condition|
|---|---|
|Enable|0xF081 to_ManufacturerAccess()_|



**Action** : _OperationStatus()[CAL]_ = 1, _[CAL_OFFSET]_ = 0
Outputs the raw CC and AD values on _ManufacturerBlockAccess()_ or _ManufacturerData()_ in the format of
ZZYYaaAAbbBBccCCddDDeeEEffFFggGGhhHHiiIIjjJJkkKK:


|Value|Description|
|---|---|
|ZZ|Rolling 8-bit counter, increments when values are refreshed.|
|YY|Status, 1 when_ManufacturerAccess()_ = 0xF081, 2 when_ManufacturerAccess()_ = 0xF082|
|AAaa|Current (coulomb counter)|
|BBbb|Cell Voltage 1|
|CCcc|Cell Voltage 2|
|DDdd|Cell Voltage 3|
|EEee|Cell Voltage 4|
|FFff|PACK Voltage|
|GGgg|BAT Voltage|
|HHhh|Cell Current 1|
|IIii|Cell Current 2|
|JJjj|Cell Current 3|
|KKkk|Cell Current 4|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 99


_SBS Commands_ [www.ti.com](https://www.ti.com)


**13.1.54 ManufacturerAccess() 0xF082 Output Shorted CCADC Cal**


This command instructs the device to output the raw values for calibration purposes on
_ManufacturerBlockAccess()_ or _ManufacturerData()_ . All values are updated every 250 ms and the format of
each value is 2's complement, MSB first. This mode includes an internal short on the coulomb counter inputs for
measuring offset.

|Status|Condition|
|---|---|
|Disable|_ManufacturingStatus()[CAL]_ = 1 AND<br>0xF080 to_ManufacturerAccess()_|



**Action** : _OperationStatus()[CAL]_ = 0, _[CAL_OFFSET]_ = 0
Stop output of ADC and CC data on _ManufacturerBlockAccess()_ or _ManufacturerData()_

|Status|Condition|
|---|---|
|Enable|0xF081 to_ManufacturerAccess()_|



**Action** : _OperationStatus()[CAL]_ = 1, _[CAL_OFFSET]_ = 1
Outputs the raw CC and AD values on _ManufacturerBlockAccess()_ or _ManufacturerData()_ in the format of
ZZYYaaAAbbBBccCCddDDeeEEffFFggGGhhHHiiIIjjJJkkKK:

|Value|Description|
|---|---|
|ZZ|Rolling 8-bit counter, increments when values are refreshed.|
|YY|Status, 1 when_ManufacturerAccess()_ = 0xF081, 2 when_ManufacturerAccess()_ = 0xF082|
|AAaa|Current (coulomb counter)|
|BBbb|Cell Voltage 1|
|CCcc|Cell Voltage 2|
|DDdd|Cell Voltage 3|
|EEee|Cell Voltage 4|
|FFff|PACK Voltage|
|GGgg|BAT Voltage|
|HHhh|Cell Current 1|
|IIii|Cell Current 2|
|JJjj|Cell Current 3|
|KKkk|Cell Current 4|



**13.2 0x01 RemainingCapacityAlarm()**


This read/write word function sets a low capacity alarm threshold for the cell stack.







|SBS<br>Cmd|Name|Access|Col4|Col5|Proto-<br>col|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x01|_RemainingCapacityAlarm()_|R/W|R/W|R/W|Word|U2|0|700|300|mAh|
|0x01|_RemainingCapacityAlarm()_|R/W|R/W|R/W|Word|U2|0|700|300|10 mWh|


**Note**


If _BatteryMode()[CAPM]_ = 0, then the data reports in mAh.


If _BatteryMode()[CAPM]_ = 1, then the data reports in 10 mWh.


**13.3 0x02 RemainingTimeAlarm()**





This read/write word function sets a low remaining time-to-fully discharge alarm threshold for the cell stack.


100 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_







|SBS<br>Cmd|Name|Access|Col4|Col5|Proto-<br>col|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x02|_RemainingTimeAlarm()_|R/W|R/W|R/W|Word|U2|0|30|10|min|


**13.4 0x03 BatteryMode()**


This read/write word function sets various battery operating mode options.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x03|_BatteryMode()_|R/W|R/W|R/W|Word|H2|0x0000|0xFFFF|—|


15 14 13 12 11 10 9 8


CAPM CHGM AM RSVD RSVD RSVD PB CC


7 6 5 4 3 2 1 0


CF RSVD RSVD RSVD RSVD RSVD PBS ICC


**CAPM (Bit 15):** CAPACITY Mode (R/W)


0 = Report in mA or mAh (default)


1 = Report in 10 mW or 10 mWh


**CHGM (Bit 14):** CHARGER Mode (R/W)


0 = Enable _ChargingVoltage()_ and _ChargingCurrent()_ broadcasts to host and smart battery charger


1 = Disable _ChargingVoltage()_ and _ChargingCurrent()_ broadcasts to host and smart battery charger (default)


**AM (Bit 13):** ALARM Mode (R/W)


0 = Enable AlarmWarning broadcasts to host and smart battery charger (default)


1 = Disable Alarm Warning broadcasts to host and smart battery charger


**RSVD (Bits 12–10):** Reserved. Do not use.


**PB (Bit 9):** Primary Battery


0 = Battery operating in its secondary role (default)


1 = Battery operating in its primary role


**CC (Bit 8):** Charge Controller Enabled (R/W)


0 = Internal charge controller disabled (default)


1 = Internal charge controller enabled


**CF (Bit 7): Condition Flag (R)**


0 = Battery OK


1 = Conditioning cycle requested


**RSVD (Bits 6–2):** Reserved. Do not use.


**PBS (Bit 1):** Primary Battery Support (R)


0 = Function not supported (default)


1 = Primary or Secondary Battery Support


**ICC (Bit 0):** Internal Charge Controller (R)


0 = Function not supported (default)



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 101


_SBS Commands_ [www.ti.com](https://www.ti.com)


1 = Function supported


**13.5 0x04 AtRate()**


This read/write word function sets the value used in calculating _AtRateTimeToFull()_ and _AtRateTimeToEmpty()_ .







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x04|_AtRate()_|R/W|R/W|R/W|Word|I2|–32768|32767|0|mA|
|0x04|_AtRate()_|R/W|R/W|R/W|Word|I2|–32768|32767|0|10 mW|


**Note**


If _BatteryMode()[CAPM]_ = 0, then the data reports in mA.


If _BatteryMode()[CAPM]_ = 1, then the data reports in 10 mW.


**13.6 0x05 AtRateTimeToFull()**


This word read function returns the remaining time-to-fully charge the battery stack.









|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x05|_AtRateTimeToFull()_|R|R|R|Word|U2|0|65535|min|


**Note**


65535 indicates not being charged.


**13.7 0x06 AtRateTimeToEmpty()**


This word read function returns the remaining time-to-fully discharge the battery stack.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x06|_AtRateTimeToEmpty()_|R|R|R|Word|U2|0|65535|min|


**Note**


65535 indicates not being charged.


**13.8 0x07 AtRateOK()**


This read-word function returns a Boolean value that indicates whether the battery can deliver _AtRate()_ for at
least 10 s.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x07|_AtRateOK()_|R|R|R|Word|U2|0|65535|—|


102 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


**Note**


0 = False. The gauge _cannot_ deliver energy for 10 s, based on the discharge rate indicated in
_AtRate()_ .


   - than 0 = True. The gauge _can_ deliver energy for 10 s, based on the discharge rate indicated in
_AtRate()_ .


**13.9 0x08 Temperature()**


This read-word function returns the temperature in units 0.1°K.







|SBS<br>Cmd|Name|Access<br>SE US FA|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**Access**<br>**SE**<br>**US**<br>**FA**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x08|_Temperature()_|R|R|R|Word|U2|0|65535|0.1°K|


**13.10 0x09 Voltage()**


This read-word function returns the sum of the measured cell voltages.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**<br>|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x09|_Voltage()_|R|R|R|Word|U2|0|65535|mV|


**13.11 0x0A Current()**


This read-word function returns the measured current from the coulomb counter. If the input to the device
exceeds the maximum value, the value is clamped at the maximum and does not roll over.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x0A|_Current()_|R|R|R|Word|I2|–32767|32768|mA|


**13.12 0x0B AverageCurrent()**







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x0B|_AverageCurrent()_|R|R|R|Word|I2|–32767|32768|mA|


**13.13 0x0C MaxError()**


This read-word function returns the expected margin of error, in %, in the state-of-charge calculation with a range
of 1 to 100%.







|SBS<br>Cmd|Name|Access|Col4|Col5|Proto-<br>col|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**<br>|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x0C|_MaxError()_|R|R|R|Word|U1|0|100|%|


|Condition|Action|
|---|---|
|Full device reset|_MaxError()_ = 100%|


**13.14 0x0D RelativeStateOfCharge()**


This read-word function returns the predicted remaining battery capacity as a percentage of
_FullChargeCapacity()_ .



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 103


_SBS Commands_ [www.ti.com](https://www.ti.com)







|SBS<br>Cmd|Name|Access<br>SE US FA|Col4|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**US**|**US**|**US**|**US**|**US**|
|0x0D|_RelativeStateOfCharge()_|R|R|Word|U1|0|100|%|


**13.15 0x0E AbsoluteStateOfCharge()**


This read-word function returns the predicted remaining battery capacity as a percentage.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x0E|_AbsoluteStateOfCharge()_|R|R|R|Word|U1|0|100|%|


**13.16 0x0F RemainingCapacity()**


This read-word function returns the predicted remaining battery capacity.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x0F|_RemainingCapacity()_|R|R|R|Word|U2|0|65535|mAh|
|0x0F|_RemainingCapacity()_|R|R|R|Word|U2|0|65535|10 mWh|


**Note**


If _BatteryMode()[CAPM]_ = 0, then the data reports in mAh.


If _BatteryMode()[CAPM]_ = 1, then the data reports in 10 mWh.


**13.17 0x10 FullChargeCapacity()**





This read-word function returns the predicted battery capacity when fully charged. The value returned will not be
updated during charging.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x10|_FullChargeCapacity()_|R|R|R|Word|U2|0|65535|mAh|
|0x10|_FullChargeCapacity()_|R|R|R|Word|U2|0|65535|10 mWh|


**Note**


If _BatteryMode()[CAPM]_ = 0, then the data reports in mAh.


If _BatteryMode()[CAPM]_ = 1, then the data reports in 10 mWh.


**13.18 0x11 RunTimeToEmpty()**





This read-word function returns the predicted remaining battery capacity based on the present rate of discharge.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**<br>|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x11|_RunTimeToEmpty()_|R|R|R|Word|U2|0|65535|min|


**Note**


65535 = Battery is not being discharged.


**13.19 0x12 AverageTimeToEmpty()**


This read-word function returns the predicted remaining battery capacity based on _AverageCurrent()_ .


104 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x12|_AverageTimeToEmpty()_|R|R|R|Word|U2|0|65535|min|


**Note**


65535 = Battery is not being discharged.


**13.20 0x13 AverageTimeToFull()**


This read-word function returns the predicted time-to-full charge based on _AverageCurrent()_ .







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x13|_AverageTimeToFull()_|R|R|R|Word|U2|0|65535|min|


**Note**


65535 = Battery is not being discharged.


**13.21 0x14 ChargingCurrent()**


This read-word function returns the desired charging current.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x14|_ChargingCurrent()_|R|R|R|Word|U2|0|65535|mA|


**Note**


65535 = Request maximum current


**13.22 0x15 ChargingVoltage()**


This read-word function returns the desired charging voltage.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x15|_ChargingVoltage()_|R|R|R|Word|U2|0|65535|mV|


**Note**


65535 = Request maximum voltage


**13.23 0x16 BatteryStatus()**


This read-word function returns various battery status information.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|
|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x16|_BatteryStatus()_|R|R|R|Word|H2|—|—|


15 14 13 12 11 10 9 8


OCA TCA RSVD OTA TDA RSVD RCA RTA



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 105


_SBS Commands_ [www.ti.com](https://www.ti.com)


7 6 5 4 3 2 1 0


INIT DSG FC FD EC3 EC2 EC1 EC0


**OCA (Bit 15)** : Overcharged Alarm


1 = Detected


0 = Not Detected


**TCA (Bit 14)** : Terminate Charge Alarm


1 = Detected


0 = Not Detected


**RSVD (Bit 13)** : Undefined


**OTA (Bit 12)** : Overtemperature Alarm


1 = Detected


0 = Not Detected


**TDA (Bit 11)** : Terminate Discharge Alarm


1 = Detected


0 = Not Detected


**RSVD (Bit 10)** : Undefined


**RCA (Bit 9)** : Remaining Capacity Alarm


1 = _RemainingCapacity()_ < _RemainingCapacityAlarm()_ when in DISCHARGE or RELAX mode


0 = _RemainingCapacity()_ ≥ _RemainingCapacityAlarm()_


**RTA (Bit 8)** : Remaining Time Alarm


1 = _AverageTimeToEmpty()_ < _RemainingTimeAlarm() or_


0 = _AverageTimeToEmpty()_ ≥ _RemainingTimeAlarm()_


**INIT (Bit 7)** : Initialization


1 = Gauge initialization is complete.


0 = Initialization is in progress.


**DSG (Bit 6)** : Discharging or Relax


1 = Battery is in DISCHARGE or RELAX mode.


0 = Battery is in CHARGE mode.


**FC (Bit 5)** : Fully Charged


1 = Battery fully charged when _GaugingStatus()[FC]_ = 1


0 = Battery not fully charged


**FD (Bit 4)** : Fully Discharged


1 = Battery fully depleted


0 = Battery not depleted


**EC3,EC2,EC1,EC0 (Bits 3–0)** : Error Code


0x0 = OK


0x1 = Busy


0x2 = Reserved Command


0x3 = Unsupported Command


0x4 = AccessDenied


0x5 = Overflow/Underflow


106 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


0x6 = BadSize


0x7 = UnknownError


**13.24 0x17 CycleCount()**


This read-word function returns the number of discharge cycles the battery has experienced. The default value is
stored in the data flash value _**Cycle Count**_, which is updated in runtime.







|SBS Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x17|_CycleCount()_|R|R/W|R/W|Word|U2|0|65535|cycles|


**13.25 0x18 DesignCapacity()**


This read-word function returns the theoretical pack capacity. The default value is stored in the data flash value
_**Design Capacity mAh**_ or _**Design Capacity cWh.**_







|SBS Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x18|_DesignCapacity()_|R|R/W|R/W|Word|U2|0|65535|4400|mAh|
|0x18|_DesignCapacity()_|R|R/W|R/W|Word|U2|0|65535|6336|10 mWh|


**Note**


If _BatteryMode()[CAPM]_ = 0, then the data reports in mAh.


If _BatteryMode()[CAPM]_ = 1, then the data reports in 10 mWh.


**13.26 0x19 DesignVoltage()**





This read-word function returns the theoretical pack voltage. The default value is stored in data flash value
_**Design Voltage**_ .







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x19|_DesignVoltage()_|R|R/W|R/W|Word|U2|7000|18000|14400|mV|


**13.27 0x1A SpecificationInfo()**







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|
|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x1A|_SpecificationInfo()_|R|R/W|R/W|Word|H2|0x0000|0xFFFF|


15 14 13 12 11 10 9 8


IPScale IPScale IPScale IPScale VScale VScale VScale VScale


7 6 5 4 3 2 1 0


Version Version Version Version Revision Revision Revision Revision


**IPScale (Bits 15–12):** IP Scale Factor


Not supported by the gas gauge


MUST be set to 0, 0, 0, 0.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 107


_SBS Commands_ [www.ti.com](https://www.ti.com)


**VScale (Bits 11–8):** Voltage Scale Factor


Not supported by the gas gauge


MUST be set to 0, 0, 0, 0.


**Version (Bits 7–4):** Version


0,0,0,1 = Version 1.0


0,0,1,1 = Version 1.1


0,0,1,1 = Version 1.1 with optional PEC support


**Revision (Bits 3–0):** Revision


0,0,0,1 = Version 1.0 and 1.1 (default)


**13.28 0x1B ManufacturerDate()**


This read-word function returns the pack's manufacturer date.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x1B|_ManufacturerDate()_|R|R/W|R/W|Word|U2||65535|0|


**Note**


_ManufacturerDate()_ value in the following format: Day + Month*32 + (Year–1980)*256


**13.29 0x1C SerialNumber()**


This read-word function returns the assigned pack serial number.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x1C|_SerialNumber()_|R|R/W|R/W|Word|H2|0x0000|0xFFFF|0x0001||


**13.30 0x20 ManufacturerName()**


This read-block function returns the pack manufacturer's name.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x20|_ManufacturerName()_|R|R|R|Block|S20+1|—|—|Texas Inst.|ASCII|


**13.31 0x21 DeviceName()**


This read-block function returns the assigned pack name.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x21|_DeviceName()_|R|R|R|Block|S20+1|—|—|BQ4050|ASCII|


**13.32 0x22 DeviceChemistry()**


This read-block function returns the battery chemistry used in the pack.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x22|_DeviceChemistry()_|R|R|R|Block|S4+1|—|—|LION|ASCII|


108 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


**13.33 0x23 ManufacturerData()**


This read-block function returns _**ManufacturerInfo**_ by default. The command also returns a response to MAC
command in order to maintain compatibility of the MAC system in BQ30zxy family.







|SBS Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x23|_ManufacturerData()_|R|R|R|Block|Mixed|—|—|—|


**13.34 0x2F Authenticate()**


This read/write block function provides SHA-1 authentication to send the challenge and read the response in the
default mode. It is also used to input a new authentication key when the MAC _AuthenticationKey()_ is used.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Unit|
|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x2F|_Authenticate()_|R/W|R/W|R/W|Block|H20+1|—|—|—|


**13.35 0x3C CellVoltage4()**


This read-word function returns the Cell 4 voltage.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x3C|_CellVoltage4()_|R|R|R|Word|U2|—|65535|0|mV|


**13.36 0x3D CellVoltage3()**


This read-word function returns the Cell 3 voltage.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x3D|_CellVoltage3()_|R|R|R|Word|U2|—|65535|0|mV|


**13.37 0x3E CellVoltage2()**


This read-word function returns the Cell 2 voltage.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x3E|_CellVoltage2()_|R|R|R|Word|U2|—|65535|0|mV|


**13.38 0x3F CellVoltage1()**


This read-word function returns the Cell 1 voltage.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x3F|_CellVoltage1()_|R|R|R|Word|U2|—|65535|0|mV|


**13.39 0x4A BTPDischargeSet()**


This read/write word command updates the BTP set threshold for discharge mode for the next BTP interrupt,
de-asserts the present BTP interrupt, and clears the _OperationStatus()[BTP_INT]_ bit.








|SBS<br>Cmd|Name|Access|Col4|Col5|Format|Size in<br>Bytes|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x4A|_BTPDischargeSet()_|R/W|R/W|R/W|Signed Int|2|—|65535|150|mAh|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 109


_SBS Commands_ [www.ti.com](https://www.ti.com)


**13.40 0x4B BTPChargeSet()**


The read/write word command updates the BTP set threshold for charge mode for the next BTP interrupt,
de-asserts the present BTP interrupt, and clears the _OperationStatus()[BTP_INT]_ bit.







|SBS<br>Cmd|Name|Access|Col4|Col5|Format|Size in<br>Bytes|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x4B|_BTPChargeSet()_|R/W|R/W|R/W|Signed Int|2|—|65535|175|mAh|


**13.41 0x4F StateOfHealth()**


This read-word command returns the state-of-health (SoH) information of the battery in percentage of design
capacity and design energy.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x4F|_StateOfHealth()_|—|R|R|Word|U2|0|100|—|%|


**13.42 0x50 SafetyAlert()**


This command returns the _SafetyAlert()_ flags. For a description of each bit flag, see the _ManufacturerAccess()_
version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x50|_SafetyAlert()_|—|R|R|Block|H4|0x0000000<br>0|0xFFFFFF<br>FF|—|—|


**13.43 0x51 SafetyStatus**





This command returns the _SafetyStatus()_ flags. For a description of each bit flag, see the _ManufacturerAccess()_
version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x51|_SafetyStatus()_|—|R|R|Block|H4|0x0000000<br>0|0xFFFFFF<br>FF|—|—|


**13.44 0x52 PFAlert**





This command returns the _PFAlert()_ flags. For a description of each bit flag, see the _ManufacturerAccess()_
version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x52|_PFAlert()_|—|R|R|Block|H4|0x0000000<br>0|0xFFFFFF<br>FF|—|—|


**13.45 0x53 PFStatus**





This command returns the _PFStatus()_ flags. For a description of each bit flag, see the _ManufacturerAccess()_
version of the same command in Section 13.1.










|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x53|_PFStatus()_|—|R|R|Block|H4|0x0000000<br>0|0xFFFFFF<br>FF|—|—|



110 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


**13.46 0x54 OperationStatus**


This command returns the _OperationStatus()_ flags. For a description of each bit flag, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**<br>|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x54|_OperationStatus()_|—|R|R|Block|H4|0x0000000<br>0|0xFFFFFF<br>FF|—|—|


**13.47 0x55 ChargingStatus**





This command returns the _ChargingStatus()_ flags. For a description of each bit flag, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x55|_ChargingStatus()_|—|R|R|Block|H4|0x0000000<br>0|0xFFFFFF<br>FF|—|—|


**13.48 0x56 GaugingStatus**





This command returns the _GaugingStatus()_ flags. For a description of each bit flag, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x56|_GaugingStatus()_|—|R|R|Block|H4|0x0000000<br>0|0xFFFFFF<br>FF|—|—|


**13.49 0x57 ManufacturingStatus**





This command returns the _ManufacturingStatus()_ flags. For a description of each bit flag, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x57|_ManufacturingStatus()_|—|R|R|Block|H4|0x0000000<br>0|0xFFFFFF<br>FF|—|—|


**13.50 0x58 AFE Register**





This command returns a snapshot of the AFE register settings. For a description of returned data values, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x58|_AFERegister()_|—|R|R|Block|—|—|—|—|—|


**13.51 0x60 Lifetime Data Block 1**


This command returns the first block of Lifetime Data. For a description of returned data values, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.








|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x60|_LifeTimeDataBlock1()_|—|R|R|Block|—|—|—|—|—|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 111


_SBS Commands_ [www.ti.com](https://www.ti.com)


**13.52 0x61 Lifetime Data Block 2**


This command returns the second block of Lifetime Data. For a description of returned data values, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x61|_LifeTimeDataBlock2()_|—|R|R|Block|—|—|—|—|—|


**13.53 0x62 Lifetime Data Block 3**


This command returns the third block of Lifetime Data. For a description of returned data values, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x62|_LifeTimeDataBlock3()_|—|R|R|Block|—|—|—|—|—|


**13.54 0x63 Lifetime Data Block 4**


This command returns the third block of Lifetime Data. For a description of returned data values, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x63|_LifeTimeDataBlock4()_|—|R|R|Block|—|—|—|—|—|


**13.55 0x64 Lifetime Data Block 5**


This command returns the third block of Lifetime Data. For a description of returned data values, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x64|_LifeTimeDataBlock5()_|—|R|R|Block|—|—|—|—|—|


**13.56 0x70 ManufacturerInfo**


This command returns manufacturer information. For a description of returned data values, see the
_ManufacturerAccess()_ version of the same command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x70|_ManufacturerInfo()_|R|R/W|R/W|Block|—|—|—|—|—|


**13.57 0x71 DAStatus1**


This command returns the Cell Voltages, Pack Voltage, Bat Voltage, Cell Currents, Cell Powers, Power, and
Average Power. For a description of returned data values, see the _ManufacturerAccess()_ version of the same
command in Section 13.1.







|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x71|_DAStatus1()_|—|R|R|Block|—|—|—|—|—|


112 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _SBS Commands_


**13.58 0x72 DAStatus2**


This command returns the internal temp sensor, TS1, TS2, TS3, TS4, Cell Temp, and FETTemp. For a
description of returned data values, see the _ManufacturerAccess()_ version of the same command in Section
13.1.








|SBS<br>Cmd|Name|Access|Col4|Col5|Protocol|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|---|---|---|
|**SBS**<br>**Cmd**|**Name**|**SE**|**US**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|**FA**|
|0x72|_DAStatus2()_|—|R|R|Block|—|—|—|—|—|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 113


_SBS Commands_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


114 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_

#### _Chapter 14_
### **_Data Flash Values_**


**14.1 Data Formats**


**14.1.1 Unsigned Integer**


Unsigned integers are stored without changes as 1-byte, 2-byte, or 4-byte values in Little Endian byte order.


0


U1

MSB


0 1



U2

LSB



U2

MSB



0 1 2 3



U4 L

LSB


**14.1.2 Integer**



U4 L

MSB



U4 H

LSB



U4 H

MSB



Integer values are stored in 2's-complement format in 1-byte, 2-byte, or 4-byte values in Little Endian byte order.


0


I1

MSB


0 1



I2

LSB



I2

MSB



0 1 2 3



I4 L

LSB



I4 L

MSB



I4 H

LSB



I4 H

MSB



**14.1.3 Floating Point**


Floating point values are stored using the IEEE754 Single Precision 4-byte format in Little Endian byte order.


0 1 2 3


Exp[0] +
Fract [0–7] Fract [8–15] Sign + Exp[1–7]
Fract[16–22]


Where:



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 115


_Data Flash Values_ [www.ti.com](https://www.ti.com)


Exp: 8-bit exponent stored with an offset bias of 127. The values 00 and FF have unique meanings.


Fract: 23-bit fraction. If the exponent is > 0, then the mantissa is 1.fract. If the exponent is zero, then the
mantissa is 0.fract.


The floating point value depends on the unique cases of the exponent:

 - If the exponent is FF and the fraction is zero, this represents +/– infinity.

 - If the exponent is FF and the fraction is non-zero this represents "not a number" (NaN).

 - If the exponent is 00 then the value is a subnormal number represented by (–1) [sign] × 2 [–126] × 0.fraction.

 - Otherwise, the value is a normalized number represented by (–1) [sign] × 2 [(exponent – 127)] × 1.fraction.


**14.1.4 Hex**


Bit register definitions are stored in unsigned integer format.


**14.1.5 String**


String values are stored with length byte first, followed by a number of data bytes defined with the length byte.


0 1 . . . N


Length Data0 . . . DataN


**14.2 Settings**


**14.2.1 Configuration**

_**14.2.1.1 FET Options**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|FET Options|H1|0x00|0xFF|0x20|Hex|



7 6 5 4 3 2 1 0


PACK_FUSE SLEEPCHG CHGFET CHGIN CHGSU OTFET RSVD PCHG_COMM


**PACK_FUSE (Bit 7):** Source of voltage to check for _**Min Blow Fuse Voltage**_


1 = Pack+ voltage


0 = Battery stack voltage


**SLEEPCHG (Bit 6):** CHG FET enabled during sleep


1 = CHG FET remains on during sleep


0 = CHG FET off during sleep (default)


**CHGFET (Bit 5):** FET action on setting of _GaugeStatus()[TC]_


1 = Charging and Precharging disabled, FET off


0 = FET active (default)


**CHGIN (Bit 4):** FET action in CHARGE INHIBIT mode


1 = Charging and Precharging disabled, FETs off


0 = FET active (default)


**CHGSU (Bit 3):** FET action in CHARGE SUSPEND mode


1 = Charging and Precharging disabled, FETs off


0 = FET active (default)


**OTFET (Bit 2):** FET action in OVERTEMPERATURE mode


1 = CHG and DSG FETs will be turned off for overtemperature conditions


0 = No FET action for overtemperature condition (default)


**RSVD (Bit 1):** Reserved. Do not use.


116 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**PCHG_COMM (Bit 0):** Precharge FET selection


1 = CHG FET


0 = PCHG FET (default)


_**14.2.1.2 SBS Gauging Configuration**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|SBS Gauging Configuration|H1|0x00|0xFF|0x04|Hex|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD RSVD RSVD LOCK0 RSVD RSOCL


**RSVD (Bits 7–3):** Reserved. Do not use.


**LOCK0 (Bit 2):** Keep _RemainingCapacity()_ and _RelativeStateOfCharge()_ jumping back during relaxation after 0 was reached during
discharge.


1 = Enabled (default)


0 = Disabled


**RSVD (Bit 1):** Reserved. Do not use.


**RSOCL (Bit 0)** : _RelativeStateOfCharge()_ and _RemainingCapacity()_ behavior at end of charge


1 = Held at 99% until valid charge termination. On entering valid charge termination, updates to 100%


0 = Actual value shown (default)


_**14.2.1.3 SBS Configuration**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|SBS Configuration|H1|0x7F|0xFF|0x20|Hex|



7 6 5 4 3 2 1 0


RSVD RSVD BLT1 BLT0 XL HPE CPE BCAST


**RSVD (Bit 7):** Reserved. Do not use.


**RSVD (Bit 6):** Reserved. Do not use.


**BLT1 (Bit 5):** Bus low timeout


0,0 = No SBS bus low timeout


0,1 = 1-s SBS bus low timeout


1,0 = 2-s SBS bus low timeout (default)


1,1 = 3-s SBS bus low timeout


**BLT0 (Bit 4):** Bus low timeout


0,0 = No SBS bus low timeout


0,1 = 1-s SBS bus low timeout


1,0 = 2-s SBS bus low timeout (default)


1,1 = 3-s SBS bus low timeout


**XL (Bit 3):** Enable 400-kHz COM mode


1 = 400-kHz bus speed


0 = Normal SBS bus speed (default)


**HPE (Bit 2):** PEC on host communication



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 117


_Data Flash Values_ [www.ti.com](https://www.ti.com)


1 = Enabled


0 = Disabled (default)


**CPE (Bit 1):** PEC on charger broadcast


1 = Enabled


0 = Disabled (default)


**BCAST (Bit 0):** Enable alert and charging broadcast from device to host


1 = Enabled


0 = Disabled (default)


_**14.2.1.4 Power Config**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|Power Config|H1|0x00|0x01|0x00|Hex|



7 6 5 4 3 2 1 0


AUTO_SHIP_E
RSVD RSVD RSVD RSVD RSVD RSVD RSVD
N


**RSVD (Bits 7–1):** Reserved. Do not use.


**AUTO_SHIP_EN (Bit 0):** _Automatically Shut Down for Shipment_


1 = Enable auto shutdown after the device is in SLEEP mode without communication for a set period of time.


0 = Disable auto shutdown feature


_**14.2.1.5 IO Config**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|IO Config|H1|0x0|0x03|0x00|Hex|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD RSVD RSVD RSVD BTP_POL BTP_EN


**RSVD (Bits 7–2):** Reserved. Do not use.


**BTP_POL (Bit 1):** _Control polarity of BTP pin_


1 = BTP pin is asserted high when BTP is triggered.


0 = BTP pin is asserted low when BTP is triggered (default).


**BTP_EN (Bit 0):** _Enable assertion of BTP pin_


1 = Enable assertion of BTP pin when BTP is triggered.


0 = Disable assertion of BTP pin when BTP is triggered (default).


_**14.2.1.6 LED Configuration**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|LED Configuration|H1|0x0|0xFF|0x0D0|Hex|



15 14 13 12 11 10 9 8


LED
RSVD RSVD RSVD RSVD RSVD RSVD RSVD
PFON


118 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


7 6 5 4 3 2 1 0


LEDC1 LEDC0 LEDPF1 LEDPF0 LEDMODE LEDCHG LEDRCA LEDR


LEGEND: R/W = Read/Write; R = Read only; - _n_ = value after reset


**RSVD (Bits 15–9)** : Reserved. Do not use.


**LEDPFON (Bit 8)** : LED in PF Mode Enable


1 = Display available in PF Mode


0 = Display not available in PF mode (default)


**LEDC1, LEDC0 (Bit 7, Bit 6)** : LED Current sink


0,0 = 0.94 mA average LED current (default)


0, 1 = 1.87 mA average LED current


1, 0 = 2.81 mA average LED current


1, 1 = 3.75 mA average LED current


**LEDPF1, LEDPF0 (Bit 5, Bit 4)** : LED Display PF Error Code


0,0 = PF Error Code not available


0, 1 = PF Error Code shown after SOC if DISP is held low for LED Hold Time (default)


1, 0 = PF Error Code not available


1, 1 = PF Error Code shown after SOC


**LEDMODE (Bit 3)** : LED Display Capacity Selector


1 = Display ASOC/DC


0 = Display RSOC (default)


**LEDCHG (Bit 2)** : LED Display During Charging


1 = Enabled


0 = Disabled


**LEDRCA (Bit 1)** : Flashing of LED Display when [RCA] is set


1 = Enabled


0 = Disabled


**LEDR (Bit 0)** : LED Display activation at Exit of Device Reset


1 = Enabled


0 = Disabled


_**14.2.1.7 SOC Flag Config A**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|SOC Flag Config A|H2|0x0|0xFFF|0xC8C|Hex|



15 14 13 12 11 10 9 8


RSVD RSVD RSVD RSVD TCSETVCT FCSETVCT RSVD RSVD


7 6 5 4 3 2 1 0



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 119


_Data Flash Values_ [www.ti.com](https://www.ti.com)



TCCLEAR



TCCLEAR TDCLEAR

TCSETRSOC TCCLEARV TCSETV
RSOC RSOC



TDSETRSOC TDCLEARV TDSETV
RSOC



**RSVD (Bit 15–12)** : Reserved. Do not use.


**TCSETVCT (Bit 11)** : Enable TC flag set by primary charge termination


1 = Enabled (default)


0 = Disabled


**FCSETVCT (Bit 10)** : Enable FC flag set by primary charge termination


1 = Enabled (default)


0 = Disabled


**RSVD (Bit 9–8)** : Reserved. Do not use.


**TCCLEARRSOC (Bit 7):** Enable TC flag clear by RSOC threshold


1 = Enabled (default)


0 = Disabled


**TCSETRSOC (Bit 6)** : Enable TC flag set by RSOC threshold


1 = Enabled


0 = Disabled (default)


**TCCLEARV (Bit 5)** : Enable TC flag clear by cell voltage threshold


1 = Enabled


0 = Disabled (default)


**TCSETV (Bit 4)** : Enable TC flag set by cell voltage threshold


1 = Enabled


0 = Disabled (default)


**TDCLEARRSOC (Bit 3)** : Enable TD flag clear by RSOC threshold


1 = Enabled (default)


0 = Disabled


**TDSETRSOC (Bit 2):** Enable TD flag set by RSOC threshold


1 = Enabled (default)


0 = Disabled


**TDCLEARV (Bit 1):** Enable TD flag clear by cell voltage threshold


1 = Enabled


0 = Disabled (default)


**TDSETV (Bit 0):** Enable TD flag set by cell voltage threshold


1 = Enabled


0 = Disabled (default)


_**14.2.1.8 SOC Flag Config B**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|SOC Flag Config B|H1|0x00|0xFF|0x8C|Hex|



7 6 5 4 3 2 1 0



FCCLEAR



FCCLEAR FDCLEAR

FCSETRSOC FCCLEARV FCSETV
RSOC RSOC



FDSETRSOC FDCLEARV FDSETV
RSOC



120 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**FCCLEARRSOC (Bit 7)** : Enable FC flag clear by RSOC threshold


1 = Enabled (default)


0 = Disabled


**FCSETRSOC (Bit 6)** : Enable FC flag set by RSOC threshold


1 = Enabled


0 = Disabled (default)


**FCCLEARV (Bit 5)** : Enable FC flag clear by cell voltage threshold


1 = Enabled


0 = Disabled (default)


**FCSETV (Bit 4)** : Enable FC flag set by cell voltage threshold


1 = Enabled


0 = Disabled (default)


**FDCLEARRSOC (Bit 3)** : Enable FD flag clear by RSOC threshold


1 = Enabled (default)


0 = Disabled


**FDSETRSOC Bit 2** : Enable FD flag set by RSOC threshold


1 = Enabled (default)


0 = Disabled


**FDCLEARV (Bit 1)** : Enable FD flag clear by cell voltage threshold


1 = Enabled


0 = Disabled (default)


**FDSETV (Bit 0)** : Enable FD flag set by cell voltage threshold


1 = Enabled


0 = Disabled (default)


_**14.2.1.9 CEDV Smoothing Config**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|CEDV Smoothing Config|TBD|0x00|0xFF|0x08|Hex|



7 6 5 4 3 2 1 0


SMOOTH
RSVD RSVD RSVD RSVD SMEXT VAVG SMEN

EOC_EN


**RSVD (Bits 7–4)** : Reserved. Do not use.


**SMOOTHEOC_EN (Bit 3):** Allows smoothing of Remcap once Current starts decreasing during the end of charge (EOC)


1 = Enables smoothing of Remcap during EOC


0 = Disables smoothing of Remcap during EOC


**SMEXT (Bit 2)** : Allows smoothing to continue to EDV1 and EDV0 points.


1 = Enables smoothing down to EDV1 and EDV0


0 = Smoothing stops at EDV2.


**VAVG (Bit 1)** : Enables smoothing to use average voltage


1 = Smoothing uses average voltage.


0 = Smoothing uses measured voltage. Default is 0.


**SMEN (Bit 0):** Smoothing result is reported on _RemainingCapacity()_ .


1 = Smoothed version of _RemainingCapacity_ is reported



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 121


_Data Flash Values_ [www.ti.com](https://www.ti.com)


0 = The normal CEDV remaining capacity is reported. Default is 0.


_**14.2.1.10 CEDV Gauging Configuration**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|Gauging Configuration|H1|0x000|0x1FFF|0x200|Hex|



15 14 13 12 11 10 9 8


IGNORE CHG_DEFICIT_
RSVD RSVD RSVD SME0 FC_FOR_VDQ FCC_LIMIT

_SD EN


7 6 5 4 3 2 1 0


VFLT_EN RSVD FIXED_EDV0 SC EDV_CMP EDV_PACK CSYNC CCT


**RSVD (Bits 15–13)** : Reserved. Do not use.


**SME0 (Bit 12):** Enables smoothing until the EDV0 point


1 = Enable smoothing to EDV0


0 = Disable smoothing to EDV0


**IGNORE_SD (Bit 11)** : Enables ignoring of self-discharge


1 = Enable ignore self-discharge


0 = Disable ignore self-disharge


**FC_FOR_VDQ (Bit 10):**


1 = FC is required to get VDQ.


0 = FC is not required to get VDQ.


**CHG_DEFICIT_EN (Bit 9)** : Charge Deficit after Valid Charge Termination


1 = Apply charge deficit at charge termination (that is, _FullChargeCapacity()_ – _RemainingCapacity()_ ) to subsequent starting
capacity at next discharge


0 = Do not apply charge deficit (that is, start discharge from _RemainingCapacity()_ = _FullChargeCapacity()_ )


**FCC_LIMIT (Bit 8)** : Full Charge Capacity Limiting


1 = Cap Full Charge Capacity to Design Capacity


0 = Do not cap Full Charge Capacity to Design Capacity


**VFLT_EN (Bit 7)** : Voltage Filter for EDV Detection


1 = Apply filtering to voltage check for EDV detection. This is useful for pulse loading scenarios.


0 = Do not apply filtering to voltage check for EDV detection


**RSVD (Bit 6)** : Prevent OCV Measurement in Flat Region


1 = Enable


0 = Disable


**FIXED_EDV0 (Bit 5)** : Use fixed voltage for EDV0


1 = Enable


0 = Disable


**SC (Bit 4)** : FCC Learning Optimized for Smart Charger


1 = Enable


0 = Disable


**EDV_CMP (Bit 3):** Dynamically calculate voltages for EDV2, 1, and 0


1 = Enable


0 = Disable


122 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**EDV_PACK (Bit 2):** EDV Detection Method


1 = Pack-based


0 = Cell-based


**CSYNC (Bit 1)** : Sync _RemainingCapacity()_ to _FullChargeCapacity()_ on Valid Charge Termination


1 = Enable


0 = Disable


**CCT (Bit 0)** : Cycle Count Increment Threshold


1 = Uses Full Charge Capacity


0 = Uses Design Capacity


_**14.2.1.11 Charging Configuration**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|Charging Configuration|H1|0x0|0x3F|0x0|Hex|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD RSVD RSVD SOC_CHARGE CCC CRATE


**RSVD (Bits 7–3)** : Reserved. Do not use.


**SOC_CHARGE (Bit 2)**


1 = Enable SOC threshold to replace voltage thresholds (CLV, CMV, and CHV) in Advanced Charging Algorithm


0 = Use voltage thresholds (CLV, CMV, and CHV) in Advanced Charging Algorithm


**CCC (Bit 1)**


1 = Enable Charging Loss Compensation feature


0 = Disabled Charging Loss Compensation (default)


**CRATE (Bit 0)** : ChargeCurrent rate


1 = _ChargingCurrent()_ adjusted based on _FullChargeCapacity()_ / _DesignCapacity()_


0 = No adjustment to _ChargingCurrent()_ (default)


_**14.2.1.12 Temperature Enable**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|Temperature Enable|H1|0x0|0x1F|0x6|Hex|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD TS4 TS3 TS2 TS1 Internal TS


**RSVD (Bit 7–5)** : Reserved. Do not use.


**TS4 (Bit 4)** : Enable TS4


1 = Enable TS4 (default)


0 = Disable TS4


**TS3 (Bit 3)** : Enable TS3


1 = Enable TS3 (default)


0 = Disable TS3


**TS2 (Bit 2)** : Enable TS2



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 123


_Data Flash Values_ [www.ti.com](https://www.ti.com)


1 = Enable TS2 (default)


0 = Disable TS2


**TS1 (Bit 1)** : Enable TS1


1 = Enable TS1 (default)


0 = Disable TS1


**Internal TS (Bit 0)** : Enable internal TS


1 = Enable internal TS


0 = Disable internal TS (default)


_**14.2.1.13 Temperature Mode**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|Temperature Mode|H1|0x0|0x1F|0x4|Hex|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD TS4 Mode TS3 Mode TS2 Mode TS1 Mode TSInt Mode


**RSVD (Bit 7–5)** : Reserved. Do not use.


**TS4 Mode (Bit 4)** : Cell temp or FET temp


1 = FET temp


0 = Cell temp (default)


**TS3 Mode (Bit 3)** : Cell temp or FET temp


1 = FET temp


0 = Cell temp (default)


**TS2 Mode (Bit 2)** : Cell temp or FET temp


1 = FET temp (default)


0 = Cell temp


**TS1 Mode (Bit 1)** : Cell temp or FET temp


1 = FET temp


0 = Cell temp (default)


**TSInt Mode (Bit 0)** : Cell temp or FET temp


1 = FET temp


0 = Cell temp (default)


_**14.2.1.14 DA Configuration**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|DA Configuration|H1|0x0|0xFF|0x12|Hex|



7 6 5 4 3 2 1 0


IN_SYSTEM_
FTEMP CTEMP EMSHUT_EN SLEEP NR CC1 CC0

SLEEP


**FTEMP (Bit 7)** : FET Temperature protection source


1 = Average


0 = MAX (default)


124 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**CTEMP (Bit 6)** : Cell Temperature protection source


1 = Average


0 = MAX (default)


**EMSHUT_EN (Bit 5)** : Emergency Shutdown Enable


1 = Enable


0 = Disable


**SLEEP (Bit 4)** : SLEEP mode


1 = Enable SLEEP mode (default)


0 = Disable SLEEP mode


**IN_SYSTEM_SLEEP (Bit 3)** : In-system SLEEP mode


1 = Enable


0 = Disable (default)


**NR (Bit 2)** : Use PRES in system detection


1 = NON-REMOVABLE mode


0 = Use PRES, REMOVABLE mode (default)


**CC1, CC0 (Bit 1,0)** : Cell Count


1,1 = 4 cell


1,0 = 3 cell (default)


0,1 = 2 cell


0,0 = 1 cell


_**14.2.1.15 Balancing Configuration**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Configuration|Balancing Configuration|H1|0x0|0xFF|0x1|Hex|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD RSVD RSVD RSVD RSVD CB


**RSVD (Bits 7–1)** : Reserved. Do not use.


**CB (Bit 0)** : Cell balancing


1 = Cell balancing enabled (default)


0 = Cell balancing disabled


**14.2.2 Fuse**

_**14.2.2.1 Permanent Fail Fuse A**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Fuse|Permanent Fail Fuse A|H1|0x0|0xFF|0x0|—|



7 6 5 4 3 2 1 0


RSVD SOTF RSVD SOT SOCD SOCC SOV SUV


Fuse blow action for _PFStatus()_ bits:


**RSVD (Bit 7)** : Reserved. Do not use.


**SOTF (Bit 6)** : Safety Overtemperature FET



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 125


_Data Flash Values_ [www.ti.com](https://www.ti.com)


1 = Enabled


0 = Disabled (default)


**RSVD (Bit 5)** : Reserved. Do not use.


**SOT (Bit 4)** : Safety Overtemperature


1 = Enabled


0 = Disabled (default)


**SOCD (Bit 3)** : Safety Overcurrent in Discharge


1= Enabled


0 = Disabled (default)


**SOCC (Bit 2)** : Safety Overcurrent in Charge


1= Enabled


0 = Disabled (default)


**SOV (Bit 1)** : Safety Cell Overvoltage


1 = Enabled


0 = Disabled (default)


**SUV (Bit 0)** : Safety Cell Undervoltage


1 = Enabled


0 = Disabled (default)


_**14.2.2.2 Permanent Fail Fuse B**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Fuse|Permanent Fail Fuse B|H1|0x0|0xFF|0|Hex|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD VIMA VIMR RSVD RSVD RSVD


Fuse blow action for _PFStatus()_ bits:


**RSVD (Bits 7–5)** : Reserved. Do not use.


**VIMA (Bit 4)** : Voltage imbalance when active


1 = Enabled


0 = Disabled (default)


**VIMR (Bit 3)** : Voltage imbalance at rest


1 = Enabled


0 = Disabled (default)


**RSVD (Bits 2–0)** : Reserved. Do not use.


_**14.2.2.3 Permanent Fail Fuse C**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Fuse|Permanent Fail Fuse C|H1|0x0|0xFF|0|Hex|



7 6 5 4 3 2 1 0


PTC 2LVL AFEC AFER FUSE RSVD DFETF CFETF


Fuse blow action for _PFStatus()_ bits:


126 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**PTC (Bit 7)** : Permanent Fail flag Display


1 = Allow _**PFStatus[PTC]**_ = 1 when PTC fault is triggered. Function should be enabled/disabled by the PTCEN pin connection.


0 = [Disable the ] _**[PFStatus[PTC]]**_ [ = 1 when PTC fault is triggered. Function should be enabled/disabled by the PTCEN pin ]
connection.


**2LVL (Bit 6)** : FUSE input indicating fuse trigger by external 2nd level protection


1 = Enabled


0 = Disabled (default)


**AFEC (Bit 5)** : AFE Communication


1 = Enabled


0 = Disabled (default)


**AFER (Bit 4)** : AFE Register


1 = Enabled


0 = Disabled (default)


**FUSE (Bit 3)** : Fuse


1 = Enabled


0 = Disabled (default)


**RSVD (Bit 2)** : Reserved. Do not use.


**DFETF (Bit 1)** : Discharge FET


1 = Enabled


0 = Disabled (default)


**CFETF (Bit 0)** : Charge FET


1 = Enabled


0 = Disabled (default)


_**14.2.2.4 Permanent Fail Fuse D**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Fuse|Permanent Fail Fuse D|H1|0x0|0xFF|0x0|Hex|



15 14 13 12 11 10 9 8


TS4 TS3 TS2 TS1 RSVD DFW OPNCELL IFC


Fuse blow action for _PFStatus()_ bits:


**TS4 (Bit 15)**


1 = Enabled


0 = Disabled (default)


**TS3 (Bit 14)**


1 = Enabled


0 = Disabled (default)


**TS2 (Bit 13)**


1 = Enabled


0 = Disabled (default)


**TS1 (Bit 12)**


1 = Enabled


0 = Disabled (default)



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 127


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**RSVD (Bit 11)** : Reserved. Do not use.


**DFW (Bit 10)** : DF wearout


1 = Enabled


0 = Disabled (default)


**OPNCELL (Bit 9)** : Open Cell tab (tab to PCB)


1 = Enabled


0 = Disabled (default)


**IFC (Bit 8)**


1 = Enabled


0 = Disabled (default)


_**14.2.2.5 Min Blow Fuse Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|
|---|---|---|---|---|---|---|
|Settings|Fuse|Min Blow Fuse Voltage|I2|0|65535|3500|



**Description** : Minimum voltage required to attempt fuse blow, pack based, FET failures bypass this requirement
to blow the fuse.


_**14.2.2.6 Fuse Blow Timeout**_

|Class|Subclass|Name|Type|Min|Max|Default|
|---|---|---|---|---|---|---|
|Settings|Fuse|Min Blow Fuse Voltage|U1|0|255|30|



**Description** : Minimum time to keep the fuse blow voltage high


**14.2.3 BTP**

_**14.2.3.1 Init Discharge Set**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|BTP|Init Discharge Set|I2|0|32767|150|mAH|



**Description** : Initial value for _BTPDischargeSet()_


_**14.2.3.2 Init Charge Set**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|BTP|Init Discharge Set|I2|0|32767|175|mAH|



**Description** : Initial value for _BTPChargeSet()_


**14.2.4 Protection**

_**14.2.4.1 Protection Configuration**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Protection|Protection Configuration|H1|0x00|0x03|0x00|Hex|



7 6 5 4 3 2 1 0


CUV_RECOV_
RSVD RSVD RSVD RSVD RSVD RSVD SUV_MODE
CHG


**RSVD (Bits 7–2)** : Reserved. Do not use.


128 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**CUV_RECOV_CHG (Bit 1)** : Require charge to recover _SafetyStatus()[CUV]_


1 = Enabled (default)


0 = Disabled


**SUV_MODE (Bit 0)** : Copper Deposition check for _PFStatus()[CUV]_


1 = Enabled (default)


0 = Disabled


_**14.2.4.2 Enabled Protections A**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Protection|Enabled Protections A|H1|0x00|0xFF|0xFF|Hex|



7 6 5 4 3 2 1 0


AOLDL RSVD_ONE OCD2 OCD1 OCC2 OCC1 COV CUV


**AOLDL (Bit 7)** : Overload in Discharge latch


1 = Enabled (default)


0 = Disabled


**RSVD_ONE (Bit 6)** : Reserved and programmed to 1. Do not use.


**OCD2 (Bit 5)** : Overcurrent in Discharge 2nd Tier


1 = Enabled (default)


0 = Disabled


**OCD1 (Bit 4)** : Overcurrent in Discharge 1st Tier


1 = Enabled (default)


0 = Disabled


**OCC2 (Bit 3)** : Overcurrent in Charge 2nd Tier


1 = Enabled (default)


0 = Disabled


**OCC1 (Bit 2)** : Overcurrent in Charge 1st Tier


1 = Enabled (default)


0 = Disabled


**COV (Bit 1)** : Cell Overvoltage


1 = Enabled (default)


0 = Disabled


**CUV (Bit 0)** : Cell Undervoltage


1 = Enabled (default)


0 = Disabled


_**14.2.4.3 Enabled Protections B**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Protection|Enabled Protections B|H1|0x00|0xFF|0xFF|—|



7 6 5 4 3 2 1 0


RSVD RSVD OTD OTC ASCDL RSVD_ONE ASCCL ASCC



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 129


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**RSVD (Bits 7–6)** : Reserved. Do not use.


**OTD (Bit 5)** : Overtemperature in discharge


1 = Enabled (default)


0 = Disabled


**OTC (Bit 4)** : Overtemperature in charge


1 = Enabled (default)


0 = Disabled


**ASCDL (Bit 3)** : Short circuit in discharge latch


1 = Enabled (default)


0 = Disabled


**RSVD_ONE (Bit 2)** : Reserved and programmed to 1. Do not use.


**ASCCL (Bit 1)** : Short circuit in charge latch


1 = Enabled (default)


0 = Disabled


**ASCC (Bit 0)** : Short circuit in charge


1 = Enabled (default)


0 = Disables the _SafetyAlert()_ and _SafetyStatus()_ flag only and does NOT disable the FET actions.


_**14.2.4.4 Enabled Protections C**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Protection|Enabled Protections C|H1|0x00|0xFF|0xFF|Hex|



7 6 5 4 3 2 1 0


CHGC OC RSVD CTO RSVD PTO HWDF OTF


**CHGC (Bit 7)** : _ChargingCurrent()_ higher than requested


1 = Enabled (default)


0 = Disabled


**OC (Bit 6)** : Overcharge


1 = Enabled (default)


0 = Disabled


**RSVD (Bit 5)** : Reserved. Do not use.


**CTO (Bit 4)** : Charging timeout


1 = Enabled (default)


0 = Disabled


**RSVD (Bit 3)** : Reserved. Do not use.


**PTO (Bit 2)** : Pre-charging timeout


1 = Enabled (default)


0 = Disabled


**HWDF (Bit 1)** : SBS Host watchdog timeout


1 = Enabled (default)


0 = Disabled


**OTF (Bit 0)** : FET overtemperature


130 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


1 = Enabled (default)


0 = Disabled


_**14.2.4.5 Enabled Protections D**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Protection|Enabled Protections D|H1|0x00|0xFF|0xFF|Hex|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD RSVD UTD UTC PCHGV CHGV


**RSVD (Bits 7–4)** : Reserved. Do not use.


**UTD (Bit 3)** : Under temperature while not charging


1 = Enabled (default)


0 = Disabled


**UTC (Bit 2)** : Under temperature while charging


1 = Enabled (default)


0 = Disabled


**PCHGV (Bit 1)** : _ChargingVoltage()_ higher than requested in precharge


1 = Enabled (default)


0 = Disabled


**CHGV (Bit 0)** : _ChargingVoltage()_ higher than requested


1 = Enabled (default)


0 = Disabled


**14.2.5 Permanent Failure**

_**14.2.5.1 Enabled PF A**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Permanent Failure|Enabled PF A|H1|0x00|0xFF|0x00|Hex|



7 6 5 4 3 2 1 0


RSVD SOTF RSVD SOT SOCD SOCC SOV SUV


**RSVD (Bit 7)** : Reserved. Do not use.


**OTF (Bit 6)** : Overtemperature FET


1 = Enabled (default)


0 = Disabled


**RSVD (Bit 5)** : Reserved. Do not use.


**PF_OTCE (Bit 4)** : Overtemperature


1 = Enabled (default)


0 = Disabled


**RSVD (Bits 3–2)** : Reserved. Do not use.


**SOT (Bit 4)** : Safety Overtemperature


1 = Enabled



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 131


_Data Flash Values_ [www.ti.com](https://www.ti.com)


0 = Disabled (default)


**SOCD (Bit 3)** : Safety Overcurrent in Discharge


1= Enabled


0 = Disabled (default)


**SOCC (Bit 2)** : Safety Overcurrent in Charge


1= Enabled


0 = Disabled (default)


**SOV (Bit 1)** : Safety Cell Overvoltage


1 = Enabled


0 = Disabled (default)


**SUV (Bit 0)** : Safety Cell Undervoltage


1 = Enabled


0 = Disabled (default)


_**14.2.5.2 Enabled PF B**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Permanent Failure|Enabled PF B|H1|0x00|0xFF|0x00|—|



7 6 5 4 3 2 1 0


RSVD RSVD RSVD VIMA VIMR RSVD RSVD RSVD


**RSVD (Bits 7–5)** : Reserved. Do not use.


**VIMA (Bit 4)** : Voltage Imbalance When Active


1 = Enabled (default)


0 = Disabled


**VIMR (Bit 3)** : Voltage Imbalance At Rest


1 = Enabled (default)


0 = Disabled


**RSVD (Bits 2–0)** : Reserved. Do not use.


_**14.2.5.3 Enabled PF C**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Permanent Failure|Enabled PF C|H1|0x00|0xFF|0x00|Hex|



7 6 5 4 3 2 1 0


PTC 2LVL AFEC AFER FUSE RSVD DFET CFETF


**PTC (Bit 7)** : Permanent Fail Flag Display


1 = Allow _**PFStatus[PTC]**_ = 1 when PTC fault is triggered. Function should be enabled/disabled by the PTCEN pin connection.


0 = [Disable the ] _**[PFStatus[PTC]]**_ [ = 1 when PTC fault is triggered. Function should be enabled/disabled by the PTCEN pin ]
connection.


**2LVL (Bit 6)** : FUSE input indicating fuse trigger by external 2nd level protection


1 = Enabled (default)


0 = Disabled


132 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**AFEC (Bit 5)** : AFE Communication


1 = Enabled (default)


0 = Disabled


**AFER (Bit 4)** : AFE Register


1 = Enabled (default)


0 = n/a


**FUSE (Bit 3)** : Fuse


1 = Enabled (default)


0 = Disabled


**RSVD (Bit 2)** : Reserved. Do not use.


**DFET (Bit 1)** : Discharge FET


1 = Enabled (default)


0 = Disabled


**CFETF (Bit 0)** : Charge FET


1 = Enabled (default)


0 = Disabled


_**14.2.5.4 Enabled PF D**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Permanent Failure|Enabled PF D|H1|0x00|0xFF|0x00|Hex|



7 6 5 4 3 2 1 0


TS4 TS3 TS2 TS1 RSVD RSVD OPNCELL RSVD


**TS4 (Bit 7)**


1 = Enabled (default)


0 = Disabled


**TS3 (Bit 6)**


1 = Enabled (default)


0 = Disabled


**TS2 (Bit 5)**


1 = Enabled (default)


0 = Disabled


**TS1 (Bit 4)**


1 = Enabled (default)


0 = Disabled


**RSVD (Bits 3–2)** : Reserved. Do not use.


**OPNCELL (Bit 1)** : Open Cell tab (tab to PCB)


1 = Enabled (default)


0 = Disabled


**RSVD (Bit 0)** : Reserved. Do not use.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 133


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**14.2.6 AFE**

_**14.2.6.1 AFE Protection Control**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Configuration|AFE|AFE Protection Control|H1|0x00|0xFF|0x70|Hex|



7 6 5 4 3 2 1 0


RSTRIM RSTRIM RSTRIM RSTRIM RSVD RSVD SCDDx2 RSNS


**RSTRIM (Bits 7–4)** : _Unsupport_ function. Should leave the default setting 0x7. Changing this setting may cause an error to the AFE current
protection accuracy.


**RSVD (Bits 3–2)** : Reserved. Do not use.


**SCDDx2 (Bit 1)** : Double SCD Delay Times


1 = 2 × SCD delay times


0 = Normal SCD delay times (default)


**RSNS (Bit 0)** : AOLD, ASCC, ASCD1, ASCD2 Thresholds


1 = Normal AFE Protection Thresholds


0 = 0.5 × AFE Protection Thresholds (default)


**14.2.7 ZVCHG Exit Threshold**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Configuration|AFE|ZVCHG Exit Threshold|I2|0x0|0xFFFF|0x0000|mV|



**Description** : _Voltage()_ threshold where the gauge will exit ZVCHG mode when CFET is used for precharging.


**14.3 Manufacturing**


**14.3.1 Manufacturing Status Init**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Settings|Manufacturing|Manufacturing Status Init|H2|0x0|0xFFFF|0x0000|Hex|



15 14 13 12 11 10 9 8


RSVD RSVD RSVD RSVD RSVD RSVD LED_EN FUSE_EN


7 6 5 4 3 2 1 0


BBR_EN PF_EN LF_EN FET_EN GAUGE_EN RSVD RSVD RSVD


**RSVD (Bits 15–10)** : Reserved. Do not use.


**LED_EN (Bit 9)** : LED Display


1 = Enabled


0 = Disabled


**FUSE_EN (Bit 8)** : FUSE action


1 = Enabled


0 = Disabled (default)


134 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**BBR_EN (Bit 7)** : Black Box Recorder


1 = Enabled


0 = Disabled (default)


**PF_EN (Bit 6)** : Permanent Fail


1 = Enabled


0 = Disabled (default)


**LF_EN (Bit 5)** : Lifetime Data Collection


1 = Enabled


0 = Disabled


**FET_EN (Bit 4)** : FET action


1 = Enabled


0 = Disabled (default)


**GAUGE_EN (Bit 3)** : Gauging


1 = Enabled


0 = Disabled (default)


**RSVD (Bits 2–0)** : Reserved. Do not use.


**14.4 Advanced Charging Algorithm**


**14.4.1 Temperature Ranges**

_**14.4.1.1 T1 Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Temperature Ranges|T1 Temp|I1|–128|127|0|°C|



**Description** : T1 low temperature range lower limit


_**14.4.1.2 T2 Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Temperature Ranges|T2 Temp|I1|–128|127|12|°C|



**Description** : T2 low temperature range to standard temperature range


_**14.4.1.3 T5 Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Temperature Ranges|T5 Temp|I1|–128|127|20|°C|



**Description** : T5 recommended temperature range lower limit


_**14.4.1.4 T6 Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Temperature Ranges|T6 Temp|I1|–128|127|25|°C|



**Description** : T6 recommended temperature range upper limit



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 135


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.4.1.5 T3 Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Temperature Ranges|T3 Temp|I1|–128|127|30|°C|



**Description** : T3 standard temperature range to high temperature range


_**14.4.1.6 T4 Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Temperature Ranges|T4 Temp|I1|–128|127|55|°C|



**Description** : T4 high temperature range upper limit


_**14.4.1.7 Hysteresis**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Temperature Ranges|Hysteresis Temp|I1|–128|127|1|°C|



**Description** : Temperature Hysteresis, applied when temperature is decreasing.


**14.4.2 Low Temp Charging**

_**14.4.2.1 Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Low Temp Charging|Voltage|I2|0|32767|4000|mV|



**Description** : Low temperature range _ChargingVoltage()_


_**14.4.2.2 Current Low**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Low Temp Charging|Current Low|I2|0|32767|132|mA|



**Description** : Low temperature range low voltage range _ChargingCurrent()_


_**14.4.2.3 Current Med**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Low Temp Charging|Current Med|I2|0|32767|352|mA|



**Description** : Low temperature range medium voltage range _ChargingCurrent()_


_**14.4.2.4 Current High**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Low Temp Charging|Current High|I2|0|32767|264|mA|



**Description** : Low temperature range high voltage range _ChargingCurrent()_


136 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.4.3 Standard Temp Charging**

_**14.4.3.1 Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Standard Temp Charging|Voltage|I2|0|32767|4200|mV|



**Description** : Standard temperature range _ChargingVoltage()_


_**14.4.3.2 Current Low**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Standard Temp Charging|Current Low|I2|0|32767|1980|mA|



**Description** : Standard temperature range low voltage range _ChargingCurrent()_


_**14.4.3.3 Current Med**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Standard Temp Charging|Current Med|I2|0|32767|4004|mA|



**Description** : Standard temperature range medium voltage range _ChargingCurrent()_


_**14.4.3.4 Current High**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Standard Temp Charging|Current High|I2|0|32767|2992|mA|



**Description** : Standard temperature range high voltage range _ChargingCurrent(_ )


**14.4.4 High Temp Charging**

_**14.4.4.1 Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|High Temp Charging|Voltage|I2|0|32767|4000|mV|



**Description** : High temperature range _ChargingVoltage()_


_**14.4.4.2 Current Low**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|High Temp Charging|Current Low|I2|0|32767|1012|mA|



**Description** : High temperature range low voltage range _ChargingCurrent()_


_**14.4.4.3 Current Med**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|High Temp Charging|Current Med|I2|0|32767|1980|mA|



**Description** : High temperature range medium voltage range _ChargingCurrent()_



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 137


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.4.4.4 Current High**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|High Temp Charging|Current High|I2|0|32767|1496|mA|



**Description** : High temperature range high voltage range _ChargingCurrent()_


**14.4.5 Rec Temp Charging**

_**14.4.5.1 Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Rec Temp Charging|Voltage|I2|0|32767|4100|mV|



**Description** : Recommended temperature range _ChargingVoltage()_


_**14.4.5.2 Current Low**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Rec Temp Charging|Current Low|I2|0|32767|2508|mA|



**Description** : Recommended temperature range low voltage range _ChargingCurrent()_


_**14.4.5.3 Current Med**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Rec Temp Charging|Current Med|I2|0|32767|4488|mA|



**Description** : Recommended temperature range medium voltage range _ChargingCurrent()_


_**14.4.5.4 Current High**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Rec Temp Charging|Current High|I2|0|32767|3520|mA|



**Description** : Recommended temperature range high voltage range _ChargingCurrent()_


**14.4.6 Pre-Charging**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|PCHG|Current|I2|0|32767|88|mA|



**Description** : Precharge _ChargingCurrent()_


**14.4.7 Maintenance Charging**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|MCHG|Current|I2|0|32767|44|mA|



**Description** : Maintenance _ChargingCurrent()_


138 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.4.8 Voltage Range**

_**14.4.8.1 Precharge Start Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Voltage Range|Precharge Start Voltage|I2|0|32767|2500|mV|



**Description** : Min cell voltage to enter PRECHARGE mode


_**14.4.8.2 Charging Voltage Low**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Voltage Range|Charging Voltage Low|I2|0|32767|2900|mV|



**Description** : Precharge Voltage range to Charging Voltage Low range


_**14.4.8.3 Charging Voltage Med**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Voltage Range|Charging Voltage Med|I2|0|32767|3600|mV|



**Description** : Charging Voltage Low range to Charging Voltage Med range


_**14.4.8.4 Charging Voltage High**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Voltage Range|Charging Voltage High|I2|0|32767|4000|mV|



**Description** : Charging Voltage Med to Charging Voltage High range


_**14.4.8.5 Charging Voltage Hysteresis**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Voltage Range|Charging Voltage<br>Hysteresis|U1|0|255|0|mV|



**Description** : Charging Voltage Hysteresis applied when voltage is decreasing


**14.4.9 Termination Config**

_**14.4.9.1 Charge Term Taper Current**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Termination Config|Charge Term Taper<br>Current|I2|0|32767|250|mA|



**Description** : Valid Charge Termination taper current qualifier threshold


_**14.4.9.2 Charge Term Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Termination Config|Charge Term Voltage|I2|0|32767|75|mV|



**Description** : Valid Charge Termination delta voltage qualifier, max cell-based



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 139


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**14.4.10 Charging Rate of Change**

_**14.4.10.1 Current Rate**_






|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Charging Rate of<br>Change|Current Rate|U1|1|255|1|steps/s|



**Description** : Number of steps to add between any two _ChargingCurrent()_ settings


_**14.4.10.2 Voltage Rate**_






|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Charging Rate of<br>Change|Voltage Rate|U1|1|255|1|steps/s|



**Description** : Number of steps to add between any two _ChargingVoltage()_ settings


**14.4.11 Charge Loss Compensation**

_**14.4.11.1 CCC Current Threshold**_






|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Charge Loss<br>Compensation|CCC Current Threshold|I2|0|32767|3520|mA|



**Description** : CONSTANT CURRENT CHARGE mode _ChargingCurrent()_ threshold to activate Charge Loss
Compensation


_**14.4.11.2 CCC Voltage Threshold**_






|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Advanced Charging<br>Algorithms|Charge Loss<br>Compensation|CCC Voltage Threshold|I2|0|32767|4200|mV|



**Description** : CONSTANT CURRENT CHARGE mode max _ChargingVoltage()_ increase limit


**14.4.12 Cell Balancing Config**



|Class|Subclass|Name|Type|Min|Max|Default|Unit|Description|
|---|---|---|---|---|---|---|---|---|
|Advanced<br>Charging<br>Algorithms|Cell Balancing<br>Config|Cell Balance<br>Threshold|I2|0|5000|3900|mV|Threshold to allow cell balancing|
|Advanced<br>Charging<br>Algorithms|Cell Balancing<br>Config|Cell Balance<br>Window|I2|0|5000|100|mV|Adjustment applied to Cell Balance Threshold if<br>all cells exceed it or max cell is greater than**_Cell_**<br>**_Balance Threshold_** +**_Cell Balance Min_**|
|Advanced<br>Charging<br>Algorithms|Cell Balancing<br>Config|Cell Balance<br>Min|U1|0|255|40|mV|Minimum imbalance to enable cell balance circuit|
|Advanced<br>Charging<br>Algorithms|Cell Balancing<br>Config|Cell Balance<br>Interval|U1|0|255|20|s|Voltage measurement frequency for cell balancing|


**14.5 Power**


**14.5.1 Power**













|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Power|Valid Update Voltage|I2|0|32767|3500|mV|


**Description** : Min stack voltage threshold for Flash update


140 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.5.2 Shutdown**

_**14.5.2.1 Shutdown Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Shutdown|Shutdown Voltage|I2|0|32767|1750|mV|



**Description** : Cell-based shutdown voltage trip threshold


_**14.5.2.2 Shutdown Time**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Shutdown|Shutdown Time|U2|0|255|10|s|



**Description** : Cell-based shutdown voltage trip delay


_**14.5.2.3 Charger Present Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Shutdown|Charger Present<br>Threshold|I2|0|32767|3000|mV|



**Description** : Pack pin charger present detect threshold


**14.5.3 Sleep**

_**14.5.3.1 Sleep Current**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Sleep|Sleep Current|I2|0|32767|10|mA|



**Description** : | _Current()_ | threshold to enter SLEEP mode. If this parameter is set to 0, then the _**deadband**_ will
effectively become the Sleep Current setting because any current blow the _**deadband**_ will set the _Current()_ = 0
mA.


_**14.5.3.2 Bus Timeout**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Sleep|Bus Timeout|U1|0|255|5|s|



**Description** : Bus low or no communication time to enter SLEEP mode


_**14.5.3.3 Voltage Time**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Sleep|Voltage Time|U1|0|255|5|s|



**Description** : _Voltage()_ sampling period in SLEEP mode


_**14.5.3.4 Current Time**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Sleep|Current Time|U1|0|255|20|s|



**Description** : _Current()_ sampling period in SLEEP mode


_**14.5.3.5 Wake Comparator**_


|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Sleep|Wake Comparator|H1|0x00|0xFF|0x00|—|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 141


_Data Flash Values_ [www.ti.com](https://www.ti.com)


7 6 5 4 3 2 1 0


RSVD RSVD RSVD RSVD WK1 WK0 RSVD RSVD


**RSVD (Bits 7–4)** : Reserved. Do not use.


**WK1, WK0 (Bits 3–2)** : Wake Comparator Threshold


1,1 = ±5 mV


1,0 = ±2.5 mV


0,1 = ±1.25 mV


0,0 = ±0.625 mV


**RSVD (Bits 1–0)** : Reserved. Do not use.


**14.5.4 Ship**

_**14.5.4.1 FET Off Time**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Ship|FET Off Time|U1|0|127|10|s|



**Description** : Delay time to turn off FETs prior to entering SHUTDOWN mode. This setting should not be longer
than the _**Ship Delay**_ setting.


_**14.5.4.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Ship|Delay|U1|0|254|20|s|



**Description** : Delay time to enter SHUTDOWN mode after FETs are turned off.


_**14.5.4.3 Auto Ship Time**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Ship|Auto Ship time|U2|0|65535|1440|min|



**Description** : The device will automatically enter SHUTDOWN mode after staying in SLEEP mode without
communication for this amount of time when _**Power Config[AUTO_SHIP_EN]**_ = 1.


**14.5.5 Power Off**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Power Off|Timeout|U2|0|65535|30|min|



**Description** : Timeout to exit the Emergency Shutdown condition


**14.5.6 Manual FET Control**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Power|Manual FET Control|MFC Delay|U1|0|255|60|min|



**Description** : Delay time to turn off FETs through MFC


142 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.6 LED Support**


**14.6.1 LED Config**

_**14.6.1.1 LED Flash Period**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|LED Flash Period|U2|32|65535|512|488 µs|



**Description** : LED Flashing period for alarm display


_**14.6.1.2 LED Blink Period**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|LED Blink Period|U2|32|65535|1024|488 µs|



**Description** : LED Blinking period for state-of-charge display


_**14.6.1.3 LED Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|LED Delay|U2|16|65535|100|488 µs|



**Description** : Delay time from LED to LED for state-of-charge display


_**14.6.1.4 LED Hold Time**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|LED Hold Time|U1|1|63|16|0.25 s|



**Description** : LED display active time


_**14.6.1.5 CHG Flash Alarm**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|CHG Flash Alarm|I1|0|100|10|%|



**Description** : _RelativeStateOfCharge()_ alarm threshold during charging


_**14.6.1.6 CHG Thresh 1**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|CHG Thresh 1|I1|0|100|0|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED1 during charging


_**14.6.1.7 CHG Thresh 2**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|CHG Thresh 2|I1|0|100|20|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED2 during charging


_**14.6.1.8 CHG Thresh 3**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|CHG Thresh 3|I1|0|100|40|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED3 during charging



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 143


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.6.1.9 CHG Thresh 4**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|CHG Thresh 4|I1|0|100|60|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED4 during charging


_**14.6.1.10 CHG Thresh 5**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|CHG Thresh 5|I1|0|100|80|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED5 during charging


_**14.6.1.11 DSG Flash Alarm**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|DSG Flash Alarm|I1|0|100|10|%|



**Description** : _RelativeStateOfCharge()_ alarm threshold during discharging


_**14.6.1.12 DSG Thresh 1**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|DSG Thresh 1|I1|0|100|0|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED1 during discharging


_**14.6.1.13 DSG Thresh 2**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|DSG Thresh 2|I1|0|100|20|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED2 during discharging


_**14.6.1.14 DSG Thresh 3**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|DSG Thresh 3|I1|0|100|40|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED3 during discharging


_**14.6.1.15 DSG Thresh 4**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|DSG Thresh 4|I1|0|100|60|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED4 during discharging


_**14.6.1.16 DSG Thresh 5**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|LED Support|LED Config|DSG Thresh 5|I1|0|100|80|%|



**Description** : _RelativeStateOfCharge()_ threshold for LED5 during discharging


144 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.7 System Data**


**14.7.1 Manufacturer Info**

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|System Data|Manufacturer Data|ManufacturerInfo|S33|—|—|abcdefghijklmnopqrstuvw<br>zxy012345|—|



**Description** : _ManufacturerInfo()_ value


**14.7.2 Static DF Signature**

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|System Data|Integrity|Static DF Signature|H2|0x0|0x7FFF|0x0|Hex|



**Description** : Static data flash signature. Use MAC _StaticDFSignature()_ (with MSB set to 0) to initialize this
value.


**14.7.3 All DF Signature**

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|System Data|Integrity|All DF Signature|H2|0x0|0x7FFF|0x0|Hex|



**Description** : Static data flash signature. Use MAC _AllDFSignature()_ (with MSB set to 0) to initialize this value.


**14.8 Lifetimes**


**14.8.1 Voltage**

_**14.8.1.1 Cell 1 Max Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|Cell 1 Max Voltage|I2|0|32767|0|mV|



**Description** : Maximum reported cell voltage 1


_**14.8.1.2 Cell 2 Max Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|Cell 2 Max Voltage|I2|0|32767|0|mV|



**Description** : Maximum reported cell voltage 2


_**14.8.1.3 Cell 3 Max Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|Cell 3 Max Voltage|I2|0|32767|0|mV|



**Description** : Maximum reported cell voltage 3


_**14.8.1.4 Cell 4 Max Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|Cell 4 Max Voltage|I2|0|32767|0|mV|



**Description** : Maximum reported cell voltage 4


_**14.8.1.5 Cell 1 Min Voltage**_


|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|Cell 1 Min Voltage|I2|0|32767|32767|mV|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 145


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Description** : Minimum reported cell voltage 1


_**14.8.1.6 Cell 2 Min Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|Cell 2 Min Voltage|I2|0|32767|32767|mV|



**Description** : Minimum reported cell voltage 2


_**14.8.1.7 Cell 3 Min Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|Cell 3 Min Voltage|I2|0|32767|32767|mV|



**Description** : Minimum reported cell voltage 3


_**14.8.1.8 Cell 4 Min Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|Cell 4 Min Voltage|I2|0|32767|32767|mV|



**Description** : Minimum reported cell voltage 4


_**14.8.1.9 Max Delta Cell Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|Max Delta Cell Voltage|I2|0|32767|0|mV|



**Description** : Maximum reported delta between cell voltages 1..4


**14.8.2 Current**

_**14.8.2.1 Max Charge Current**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Current|Max Charge Current|I2|0|32767|0|mA|



**Description** : Maximum reported _Current()_ in charge direction


_**14.8.2.2 Max Discharge Current**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Current|Max Discharge Current|I2|–32768|0|0|mA|



**Description** : Maximum reported _Current()_ in discharge direction


_**14.8.2.3 Max Avg Dsg Current**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Current|Max Avg Dsg Current|I2|–32768|0|0|mA|



**Description** : Maximum reported _AverageCurrent()_ in discharge direction


_**14.8.2.4 Max Avg Dsg Power**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Current|Max Avg Dsg Power|I2|–32768|0|0|cW|



_**14.8.2.5**_


**Description** : Maximum reported Power in discharge direction


146 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.8.3 Temperature**

_**14.8.3.1 Max Temp Cell**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Temperature|Max Temp Cell|I1|–128|127|–128|°C|



**Description** : Maximum reported cell temperature


_**14.8.3.2 Min Temp Cell**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Temperature|Min Temp Cell|I1|–128|127|127|°C|



**Description** : Minimum reported cell temperature


_**14.8.3.3 Max Delta Cell Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Temperature|Max Delta Cell Temp|I1|–128|127|0|°C|



**Description** : Maximum reported temperature delta for TSx inputs configured as cell temperature


_**14.8.3.4 Max Temp Int Sensor**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Temperature|Max Temp Int Sensor|I1|–128|127|–128|°C|



**Description** : Maximum reported internal temperature sensor temperature


_**14.8.3.5 Min Temp Int Sensor**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Temperature|Min Temp Int Sensor|I1|–128|127|127|°C|



**Description** : Minimum reported internal temperature sensor temperature


_**14.8.3.6 Max Temp Fet**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Temperature|Max Temp Fet|I1|–128|127|–128|°C|



**Description** : Maximum reported FET temperature


**14.8.4 Safety Events**

_**14.8.4.1 No Of COV Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of COV Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[COV]_ events


_**14.8.4.2 Last COV Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last COV Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[COV]_ event in _CycleCount()_ cycles



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 147


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.8.4.3 No Of CUV Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of CUV Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[CUV]_ events


_**14.8.4.4 Last CUV Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last CUV Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[CUV]_ event in _CycleCount()_ cycles


_**14.8.4.5 No Of OCD1 Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of OCD1 Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[OCD1]_ events


_**14.8.4.6 Last OCD1 Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last OCD1 Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[OCD1]_ event in _CycleCount()_ cycles


_**14.8.4.7 No Of OCD2 Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of OCD2 Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[OCD2]_ events


_**14.8.4.8 Last OCD2 Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last OCD2 Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[OCD2]_ event in _CycleCount()_ cycles


_**14.8.4.9 No Of OCC1 Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of OCC1 Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[OCC1]_ events


_**14.8.4.10 Last OCC1 Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last OCC1 Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[OCC1]_ event in _CycleCount()_ cycles


148 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


_**14.8.4.11 No Of OCC2 Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of OCC2 Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[OCC2]_ events


_**14.8.4.12 Last OCC2 Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last OCC2 Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[OCC2]_ event in _CycleCount()_ cycles


_**14.8.4.13 No Of AOLD Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of AOLD Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[OLD]_ events


_**14.8.4.14 Last AOLD Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last AOLD Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[OLD]_ event in _CycleCount()_ cycles


_**14.8.4.15 No Of ASCD Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of ASCD Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[SCD]_ events


_**14.8.4.16 Last ASCD Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last ASCD Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[SCD]_ event in _CycleCount()_ cycles


_**14.8.4.17 No Of ASCC Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of ASCC Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[SCC]_ events


_**14.8.4.18 Last ASCC Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last ASCC Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[SCC]_ event in _CycleCount()_ cycles



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 149


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.8.4.19 No Of OTC Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of OTC Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[OTC]_ events


_**14.8.4.20 Last OTC Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last OTC Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[OTC]_ event in _CycleCount()_ cycles


_**14.8.4.21 No Of OTD Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of OTD Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[OTD]_ events


_**14.8.4.22 Last OTD Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last OTD Event|U2|0|32767|0|cycles|



**Description** : Last _SafetyStatus()[OTD]_ event in _CycleCount()_ cycles


_**14.8.4.23 No Of OTF Events**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|No Of OTF Events|U2|0|32767|0|events|



**Description** : Total number of _SafetyStatus()[OTF]_ events


_**14.8.4.24 Last OTF Event**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Safety Events|Last OTF Event|U2|0|32767|0|cycles|



**Description** : _Last SafetyStatus()[OTF]_ event in _CycleCount()_ cycles


**14.8.5 Charging Events**

_**14.8.5.1 No Valid Charge Term**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Charging Events|No Valid Charge Term|U2|0|32767|0|events|



**Description** : Total number of valid charge termination events


_**14.8.5.2 Last Valid Charge Term**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Charging Events|Last Valid Charge Term|U2|0|32767|0|cycles|



**Description** : Last valid charge termination in _CycleCount()_ cycles


150 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.8.6 Power Events**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Power Events|No of Shutdowns|U1|0|255|0|events|



**Description** : Total number of shutdown events


**14.8.7 Cell Balancing**

_**14.8.7.1 CB Time Cell 1**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Cell Balancing|CB Time Cell 1|U1|0|255|0|2 h|



**Description** : Total performed cell balancing bypass time Cell 0


_**14.8.7.2 CB Time Cell 2**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Cell Balancing|CB Time Cell 2|U1|0|255|0|2 h|



**Description** : Total performed cell balancing bypass time Cell 1


_**14.8.7.3 CB Time Cell 3**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Cell Balancing|CB Time Cell 3|U1|0|255|0|2 h|



**Description** : Total performed cell balancing bypass time Cell 2


_**14.8.7.4 CB Time Cell 4**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Cell Balancing|CB Time Cell 4|U1|0|255|0|2 h|



**Description** : Total performed cell balancing bypass time Cell 3


**14.8.8 Time**

_**14.8.8.1 Total Firmware Runtime**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Time|Total Firmware Runtime|U2|0|65535|0|2 h|



**Description** : Total firmware runtime between resets


_**14.8.8.2 Time Spent in UT**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Time|Time Spent in UT|U2|0|65535|0|2 h|



**Description** : Total firmware runtime spent below T1


_**14.8.8.3 Time Spent in LT**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Time|Time Spent in LT|U2|0|65535|0|2 h|



**Description** : Total firmware runtime spent between T1 and T2



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 151


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.8.8.4 Time Spent in STL**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Time|Time Spent in STL|U2|0|65535|0|2 h|



**Description** : Total firmware runtime spent between T2 and T5


_**14.8.8.5 Time Spent in RT**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Time|Time Spent in RT|U2|0|65535|0|2 h|



**Description** : Total firmware runtime spent between T5 and T6


_**14.8.8.6 Time Spent in STH**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Time|Time Spent in STH|U2|0|65535|0|2 h|



**Description** : Total firmware runtime spent between T6 and T3


_**14.8.8.7 Time Spent in HT**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Time|Time Spent in HT|U2|0|65535|0|2 h|



**Description** : Total firmware runtime spent between T3 and T4


_**14.8.8.8 Time Spent in OT**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Lifetimes|Time|Time Spent in OT|U2|0|65535|0|2 h|



**Description** : Total firmware runtime spent above T6


**14.9 Protections**


**14.9.1 CUV—Cell Undervoltage**

_**14.9.1.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CUV|Threshold|I2|0|32767|2500|mV|



**Description** : Cell undervoltage trip threshold


_**14.9.1.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CUV|Delay|U1|0|255|2|s|



**Description** : Cell undervoltage trip delay


_**14.9.1.3 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CUV|Recovery|I2|0|32767|3000|mV|



**Description** : Cell undervoltage recovery threshold


152 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.9.2 COV—Cell Overvoltage**

_**14.9.2.1 Threshold Low Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|COV|Threshold Low Temp|I2|0|32767|4300|mV|



**Description** : Cell overvoltage low temperature range trip threshold


_**14.9.2.2 Threshold Standard Tem**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|COV|Threshold Standard Temp|I2|0|32767|4300|mV|



**Description** : Cell overvoltage standard temperature range trip threshold


_**14.9.2.3 Threshold High Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|COV|Threshold High Temp|I2|0|32767|4300|mV|



**Description** : Cell overvoltage high temperature range trip threshold


_**14.9.2.4 Threshold Rec Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|COV|Threshold Rec Temp|I2|0|32767|4300|mV|



**Description** : Cell overvoltage recommended temperature range trip threshold


_**14.9.2.5 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|COV|Delay|U1|0|255|2|s|



**Description** : Cell overvoltage trip delay


_**14.9.2.6 Recovery Low Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|COV|Recovery Low Temp|I2|0|32767|3900|mV|



**Description** : Cell overvoltage low temperature range recovery threshold


_**14.9.2.7 Recovery Standard Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|COV|Recovery Standard Temp|I2|0|32767|3900|mV|



**Description** : Cell overvoltage standard temperature recovery range threshold


_**14.9.2.8 Recovery High Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|COV|Recovery High Temp|I2|0|32767|3900|mV|



**Description** : Cell overvoltage high temperature range recovery threshold



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 153


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.9.2.9 Recovery Rec Temp**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|COV|Recovery Rec Temp|I2|0|32767|3900|mV|



**Description** : Cell overvoltage recommended temperature range recovery threshold


**14.9.3 OCC1—Overcurrent In Charge 1**

_**14.9.3.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCC1|Threshold|I2|–32768|32767|6000|mA|



**Description** : Overcurrent in Charge 1 trip threshold


_**14.9.3.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCC1|Delay|U1|0|255|6|s|



**Description** : Overcurrent in Charge 1 trip delay


**14.9.4 OCC2—Overcurrent In Charge 2**

_**14.9.4.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCC2|Threshold|I2|–32768|32767|8000|mA|



**Description** : Overcurrent in Charge 2 trip threshold


_**14.9.4.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCC2|Delay|U1|0|255|3|s|



**Description** : Overcurrent in Charge 2 trip delay


**14.9.5 OCC—Overcurrent In Charge Recovery**

_**14.9.5.1 Recovery Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCC|Recovery Threshold|I2|–32768|32767|–200|mA|



**Description** : Overcurrent in Charge 1 and 2 recovery threshold


_**14.9.5.2 Recovery Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCC|Recovery Delay|U1|0|255|5|s|



**Description** : Overcurrent in Charge 1 and 2 recovery delay


**14.9.6 OCD1—Overcurrent In Discharge 1**

_**14.9.6.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCD1|Threshold|I2|–32768|32767|–6000|mA|



154 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**Description** : Overcurrent in Discharge 1 trip threshold


_**14.9.6.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCD1|Delay|U1|0|255|6|s|



**Description** : Overcurrent in Discharge 1 trip delay


**14.9.7 OCD2—Overcurrent In Discharge 2**

_**14.9.7.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCD2|Threshold|I2|–32768|32767|–8000|mA|



**Description** : Overcurrent in Discharge 2 trip threshold


_**14.9.7.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCD2|Delay|U1|0|255|3|s|



**Description** : Overcurrent in Discharge 2 trip delay


**14.9.8 OCD—Overcurrent In Discharge Recovery**

_**14.9.8.1 Recovery Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCD|Recovery Threshold|I2|–32768|32767|200|mA|



**Description** : Overcurrent in Discharge 1 and 2 recovery threshold


_**14.9.8.2 Recovery Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OCD|Recovery Delay|U1|0|255|5|s|



**Description** : Overcurrent in Discharge 1 and 2 recovery delay


**14.9.9 AOLD—Overload in Discharge**

_**14.9.9.1 Latch Limit**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|AOLD|Latch Limit|U1|0|255|0|counts|



**Description** : Overload latch counter trip threshold


_**14.9.9.2 Counter Dec Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|AOLD|Counter Dec Delay|U1|0|255|10|s|



**Description** : Overload latch counter decrement delay


_**14.9.9.3 Recovery**_


|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|AOLD|Recovery|U1|0|255|5|s|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 155


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Description** : Overload recovery time


_**14.9.9.4 Reset**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|AOLD|Reset|U1|0|255|15|s|



**Description** : Overload latch reset time


_**14.9.9.5 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|AOLD|Threshold|H1|0x0|0xFF|0xF4|Hex|



**Description** : _**AOLD:Threshold**_ Setting


Bits 7–4: OLDD: AOLD delay time


Bits 3–0: OLDV: AOLD threshold


**14.9.10 ASCC—Short Circuit In Charge**

_**14.9.10.1 Latch Limit**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCC|Latch Limit|U1|0|255|0|—|



**Description** : Short Circuit in Charge Latch counter trip threshold


_**14.9.10.2 Counter Dec Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCC|Counter Dec Delay|U1|0|255|10|s|



**Description** : Short Circuit in Charge counter decrement delay


_**14.9.10.3 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCC|Recovery|U1|0|255|5|s|



**Description** : Short Circuit in Charge recovery time


_**14.9.10.4 Reset**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCC|Reset|U1|0|255|15|s|



**Description** : Short Circuit in Charge latch reset time


_**14.9.10.5 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCC|Threshold|H1|0x0|0xFF|0x77|Hex|



**Description** : _**ASCC:Threshold**_ Setting


Bits 7–4: SCCD: SCC delay time


Bit 3: Reserved


Bits 2–0: SCCV: SCC threshold


156 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.9.11 ASCD—Short Circuit in Discharge**

_**14.9.11.1 Latch Limit**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCD|Latch Limit|U1|0|255|0|—|



**Description** : Short Circuit in Discharge Latch counter trip threshold


_**14.9.11.2 Counter Dec Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCD|Counter Dec Delay|U1|0|255|10|s|



**Description** : Short Circuit in Discharge counter decrement delay


_**14.9.11.3 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCD|Recovery|U1|0|255|5|s|



**Description** : Short Circuit in Discharge recovery time


_**14.9.11.4 Reset**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCD|Reset|U1|0|255|15|s|



**Description** : Short Circuit in Discharge latch reset time


_**14.9.11.5 Thresholds 1 and 2**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|ASCD|Threshold 1|H1|0x0|0xFF|0x77|Hex|
|Protections|ASCD|Threshold 2|H1|0x0|0xFF|0xE7|Hex|



**Threshold 1 Description** : _**ASCD:Threshold 1**_ Setting


Bits 7–4: SCD1D–SCD1 delay time


Bit 3: Reserved


Bits 2–0: SCD1V: SCD1 threshold


**Threshold 2 Description** : _**ASCD:Threshold 2**_ Setting


Bits 7–4: SCD2D–SCD2 delay time


Bit 3: Reserved


Bits 2–0: SCD2V: SCD2 threshold


**14.9.12 OTC—Overtemperature in Charge**

_**14.9.12.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OTC|Threshold|I2|–400|1500|550|0.1°C|



**Description** : Overtemperature in Charge trip threshold



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 157


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.9.12.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OTC|Delay|U1|0|255|2|s|



**Description** : Overtemperature in Charge Cell trip delay


_**14.9.12.3 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OTC|Recovery|I2|–400|1500|500|0.1°C|



**Description** : Overtemperature in Charge Cell recovery threshold


**14.9.13 OTD—Overtemperature in Discharge**

_**14.9.13.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OTD|Threshold|I2|–400|1500|600|0.1°C|



**Description** : Overtemperature in Discharge trip threshold


_**14.9.13.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OTD|Delay|U1|0|255|2|s|



**Description** : Overtemperature in Discharge trip delay


_**14.9.13.3 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OTD|Recovery|I2|–400|1500|550|0.1°C|



**Description** : Overtemperature in Discharge recovery threshold


**14.9.14 OTF—Overtemperature FET**

_**14.9.14.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OTF|Threshold|I2|–400|1500|800|0.1°C|



**Description** : Overtemperature FET trip threshold


_**14.9.14.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OTF|Delay|U1|0|255|2|s|



**Description** : Overtemperature FET trip delay


_**14.9.14.3 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OTF|Recovery|I2|–400|1500|650|0.1°C|



**Description** : Overtemperature FET recovery threshold


158 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.9.15 UTC—Under Temperature in Charge**

_**14.9.15.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|UTC|Threshold|I2|–400|1500|0|0.1°C|



**Description** : Undertemperature in Charge trip threshold


_**14.9.15.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|UTC|Delay|U1|0|255|2|s|



**Description** : Undertemperature in Charge Cell trip delay


_**14.9.15.3 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|UTC|Recovery|I2|–400|1500|50|0.1°C|



**Description** : Undertemperature in Charge Cell recovery threshold


**14.9.16 UTD—Under Temperature in Discharge**

_**14.9.16.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|UTD|Threshold|I2|–400|1500|0|0.1°C|



**Description** : Under Temperature in Discharge trip threshold


_**14.9.16.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|UTD|Delay|U1|0|255|2|s|



**Description** : Under Temperature in Discharge trip delay


_**14.9.16.3 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|UTD|Recovery|I2|–400|1500|50|0.1°C|



**Description** : Under Temperature in Discharge recovery threshold


**14.9.17 HWD—Host Watchdog**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|HWD|Delay|U1|0|255|10|s|



**Description** : SBS Host watchdog trip delay


**14.9.18 PTO—Precharge mode Time Out**

_**14.9.18.1 Charge Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|PTO|Charge Threshold|I2|–32768|32767|2000|mA|



**Description** : Precharge Timeout Current Threshold



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 159


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.9.18.2 Suspend Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|PTO|Suspend Threshold|I2|–32768|32767|1800|mA|



**Description** : Precharge Timeout Suspend Threshold


_**14.9.18.3 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|PTO|Delay|U2|0|65535|1800|s|



**Description** : Precharge Timeout trip delay


_**14.9.18.4 Reset**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|PTO|Reset|I2|–32768|32767|2|mA|



**Description** : Precharge Timeout Reset Threshold


**14.9.19 CTO—Fast Charge Mode Time Out**


_**14.9.19.1 Charge Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CTO|Charge Threshold|I2|–32768|32767|2500|mA|



**Description** : Fast-Charge Timeout Current Threshold


_**14.9.19.2 Suspend Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CTO|Suspend Threshold|I2|–32768|32767|2000|mA|



**Description** : Fast-Charge Timeout Suspend Threshold


_**14.9.19.3 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CTO|Delay|U2|0|65535|54000|s|



**Description** : Fast-Charge Timeout trip delay


_**14.9.19.4 Reset**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CTO|Reset|I2|0|32767|2|mA|



**Description** : Fast-Charge Timeout Reset Threshold


**14.9.20 OC—Overcharge**

_**14.9.20.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OC|Threshold|I2|–32768|32767|300|mAh|



**Description** : Overcharge trip threshold


160 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


_**14.9.20.2 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OC|Recovery|I2|–32768|32767|2|mAh|



**Description** : Overcharge recovery threshold


_**14.9.20.3 RSOC Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|OC|RSOC Recovery|U1|0|100|90|%|



**Description** : Overcharge _RelativeStateOfCharge()_ recovery threshold


**14.9.21 CHGV—ChargingVoltage**

_**14.9.21.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CHGV|Threshold|I2|–32768|32767|500|mV|



**Description** : _ChargingVoltage()_ delta trip threshold


_**14.9.21.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CHGV|Delay|U1|0|255|30|s|



**Description** : _ChargingVoltage()_ delta trip delay


_**14.9.21.3 Recovery**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CHGV|Recovery|I2|–32768|32767|–500|mV|



**Description** : _ChargingVoltage()_ delta recovery threshold


**14.9.22 CHGC—ChargingCurrent**

_**14.9.22.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CHGC|Threshold|I2|–32768|32767|500|mA|



**Description** : _ChargingCurrent()_ delta trip threshold


_**14.9.22.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CHGC|Delay|U1|0|255|2|s|



**Description** : _ChargingCurrent()_ delta trip delay


_**14.9.22.3 Recovery Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CHGC|Recovery Threshold|I2|–32768|32767|100|mA|



**Description** : _ChargingCurrent()_ delta recovery threshold



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 161


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.9.22.4 Recovery Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|CHGC|Recovery Delay|U1|0|255|2|s|



**Description** : _ChargingCurrent()_ delta recovery delay


**14.9.23 PCHGC—Pre-ChargingCurrent**

_**14.9.23.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|PCHGC|Threshold|I2|–32768|32767|50|mA|



**Description** : _Pre-ChargingCurrent()_ trip threshold


_**14.9.23.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|PCHGC|Delay|U1|0|255|2|s|



**Description** : _Pre-ChargingCurrent()_ trip delay


_**14.9.23.3 Recovery Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|PCHGC|Recovery Threshold|I2|–32768|32767|10|mA|



**Description** : _Pre-ChargingCurrent()_ recovery threshold


_**14.9.23.4 Recovery Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Protections|PCHGC|Recovery Delay|U1|0|255|2|s|



**Description** : _Pre-ChargingCurrent()_ recovery delay


**14.10 Permanent Fail**


**14.10.1 SUV—Safety Cell Undervoltage**

_**14.10.1.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SUV|Threshold|I2|0|32767|2200|mV|



**Description** : Safety Cell Undervoltage trip threshold


_**14.10.1.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SUV|Delay|U1|0|255|5|s|



**Description** : Safety Cell Undervoltage trip delay


**14.10.2 SOV—Safety Cell Overvoltage**

_**14.10.2.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOV|Threshold|I2|0|32767|4500|mV|



162 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**Description** : Safety Cell Overvoltage trip threshold


_**14.10.2.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOV|Delay|U1|0|255|5|s|



**Description** : Safety Cell Overvoltage trip delay


**14.10.3 SOCC—Safety Overcurrent in Charge**

_**14.10.3.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOCC|Threshold|I2|–32768|32767|10000|mA|



**Description** : Safety Overcurrent in Charge trip threshold


_**14.10.3.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOCC|Delay|U1|0|255|5|s|



**Description** : Safety Overcurrent in Charge trip delay


**14.10.4 SOCD—Safety Overcurrent in Discharge**

_**14.10.4.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOCD|Threshold|I2|–32768|32767|–10000|mA|



**Description** : Safety Overcurrent in Discharge trip threshold


_**14.10.4.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOCD|Delay|U1|0|255|5|s|



**Description** : Safety Overcurrent in Discharge trip delay


**14.10.5 SOT—Overtemperature Cell**

_**14.10.5.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOT|Threshold|I2|–400|1500|650|0.1°C|



**Description** : Overtemperature Cell trip threshold


_**14.10.5.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOT|Delay|U1|0|255|5|s|



**Description** : Overtemperature Cell trip delay



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 163


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**14.10.6 SOTF—Overtemperature FET**

_**14.10.6.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOTF|Threshold|I2|–400|1500|1000|0.1°C|



**Description** : Overtemperature FET trip threshold


_**14.10.6.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|SOTF|Delay|U1|0|255|5|s|



**Description** : Overtemperature FET trip delay


**14.10.7 Open Thermistor—NTC Thermistor Failure**

_**14.10.7.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|Open Thermistor|Threshold|I2|0|32767|2232|0.1 °K|



**Description** : Temperature threshold for open thermistor


_**14.10.7.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|Open Thermistor|Delay|U1|0|255|5|s|



**Description** : Trip delay for open thermistor


_**14.10.7.3 FET Delta**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|Open Thermistor|FET Delta|I2|0|–400|1500|0.1 °K|



**Description** : Delta from internal temperature to enable Open Thermistor check for FET thermistors


_**14.10.7.4 Cell Delta**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|Open Thermistor|Cell Delta|I2|0|–400|1500|0.1 °K|



**Description** : Delta from internal temperature to enable Open Thermistor check for cell thermistors


**14.10.8 VIMR—Voltage Imbalance At Rest**

_**14.10.8.1 Check Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|VIMR|Check Voltage|I2|0|5000|3500|mV|



**Description** : Voltage Imbalance At Rest Check Voltage


_**14.10.8.2 Check Current**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|VIMR|Check Current|I2|0|32767|10|mA|



**Description** : Voltage Imbalance At Rest Check Current


164 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


_**14.10.8.3 Delta Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|VIMR|Delta Threshold|I2|0|5000|200|mV|



**Description** : Voltage Imbalance At Rest trip threshold


_**14.10.8.4 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|VIMR|Delay|U1|0|255|5|s|



**Description** : Voltage Imbalance At Rest Check trip delay


_**14.10.8.5 Duration**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|VIMR|Duration|U2|0|65535|100|s|



**Description** : Voltage Imbalance At Rest Check Duration


**14.10.9 VIMA—Voltage Imbalance Active**


_**14.10.9.1 Check Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|VIMA|Check Voltage|I2|0|5000|3700|mV|



**Description** : Voltage Imbalance Active Check voltage


_**14.10.9.2 Check Current**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|VIMA|Check Current|I2|0|32767|50|mA|



**Description** : Voltage Imbalance Active Check Current


_**14.10.9.3 Delta Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|VIMA|Delta Threshold|I2|0|5000|300|mV|



**Description** : Voltage Imbalance active trip threshold


_**14.10.9.4 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|VIMA|Delay|U1|0|255|5|s|



**Description** : Voltage Imbalance active check trip Delay


**14.10.10 CFET—CHG FET Failure**

_**14.10.10.1 OFF Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|CFET|OFF Threshold|I2|0|500|5|mA|



**Description** : CHG FET OFF current trip threshold



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 165


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.10.10.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|CFET|Delay|U1|0|255|5|s|



**Description** : CHG FET OFF trip delay


**14.10.11 DFET—DFET Failure**

_**14.10.11.1 OFF Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|DFET|OFF Threshold|I2|–500|0|–5|mA|



**Description** : DSG FET OFF current trip threshold


_**14.10.11.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|DFET|Delay|U1|0|255|5|s|



**Description** : DSG FET OFF trip delay


**14.10.12 FUSE—FUSE Failure**

_**14.10.12.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|FUSE|Threshold|I2|0|255|5|mA|



**Description** : FUSE activation fail trip threshold


_**14.10.12.2 Delay**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|FUSE|Delay|U1|0|255|5|s|



**Description** : FUSE activation fail trip delay


**14.10.13 AFER—AFE Register**

_**14.10.13.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|AFER|Threshold|U1|0|255|100|—|



**Description** : AFE Register comparison fail trip threshold


_**14.10.13.2 Delay Period**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|AFER|Delay Period|U1|0|255|5|s|



**Description** : AFE Register comparison counter decrement period


_**14.10.13.3 Compare Period**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|AFER|Compare Period|U1|0|255|5|s|



**Description** : AFE Register comparison compare period


166 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.10.14 AFEC—AFE Communication**

_**14.10.14.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|AFEC|Threshold|U1|0|255|100|—|



**Description** : AFE Communication fail trip threshold


_**14.10.14.2 Delay Period**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|AFEC|Delay Period|U1|0|255|5|s|



**Description** : AFE Communication counter decrement period


**14.10.15 2LVL—2nd Level OV**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|2LVL|Threshold|U1|0|255|5|s|



**Description** : 2nd Level Protector trip detection delay


**14.10.16 OPNCELL—Open Cell Connection**

_**14.10.16.1 Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|OPNCELL|Threshold|I2|0|32767|5000|mV|



**Description** : Open Cell Tab Connection trip threshold


_**14.10.16.2 Delay Period**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Permanent Fail|OPNCELL|Delay Period|U1|0|255|5|s|



**Description** : Open Cell Tab Connection trip delay


**14.11 PF Status**


The data in this class is saved at the time of the PF event.


**14.11.1 Device Status Data**

_**14.11.1.1 Safety Alert A**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Safety Alert A|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated safety flags since PF event


_**14.11.1.2 Safety Status A**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Safety Status A|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated safety flags since PF event



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 167


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.11.1.3 Safety Alert B**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Safety Alert B|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated safety flags since PF event


_**14.11.1.4 Safety Status B**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Safety Status B|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated safety flags since PF event


_**14.11.1.5 Safety Alert C**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Safety Alert C|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated safety flags since PF event


_**14.11.1.6 Safety Status C**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Safety Status C|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated safety flags since PF event


_**14.11.1.7 Safety Alert D**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Safety Alert D|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated safety flags since PF event


_**14.11.1.8 Safety Status D**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Safety Status D|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated safety flags since PF event


_**14.11.1.9 PF Alert A**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|PF Alert A|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated PF flags since PF event


_**14.11.1.10 PF Status A**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|PF Status A|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated PF flags since PF event


168 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


_**14.11.1.11 PF Alert B**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|PF Alert B|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated PF flags since PF event


_**14.11.1.12 PF Status B**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|PF Status B|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated PF flags since PF event


_**14.11.1.13 PF Alert C**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|PF Alert C|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated PF flags since PF event


_**14.11.1.14 PF Status C**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|PF Status C|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated PF flags since PF event


_**14.11.1.15 PF Alert D**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|PF Alert D|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated PF flags since PF event


_**14.11.1.16 PF Status D**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|PF Status D|H1|0x0|0xFF|0x0|Hex|



**Description** : Accumulated PF flags since PF event


_**14.11.1.17 Fuse Flag**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Fuse Flag|H2|0x0|0xFFFF|0x0|Hex|



**Description** : Flag set to indicate fuse blow


_**14.11.1.18 Operation Status A**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Operation Status A|H2|0x0|0xFFFF|0x0|Hex|



**Description** : _OperationStatus()_ data at the time of the PF event



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 169


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.11.1.19 Operation Status B**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Operation Status B|H2|0x0|0xFFFF|0x0|Hex|



**Description** : _OperationStatus()_ data at the time of the PF event


_**14.11.1.20 Temp Range**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Temp Range|H1|0x0|0xFF|0x0|Hex|



**Description** : Temperature range status at the time of the PF event. The temperature range information returned
by _ChargingStatus()_


_**14.11.1.21 Charging Status A**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Charging Status A|H1|0x0|0xFF|0x0|Hex|



**Description** : The charging status at the time of the PF event. See Section 13.48 for the bit definitions.


7 6 5 4 3 2 1 0


VCT MCHG SU IN HV MV LV PV


_**14.11.1.22 Charging Status B**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Charging Status B|H1|0x0|0xFF|0x0|Hex|



**Description** : The charging status at the time of the PF event. See Section 13.48 for the bit definitions.


7 6 5 4 3 2 1 0


VCT RSVD RSVD RSVD RSVD CCC CVR CCR


_**14.11.1.23 Gauging Status**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|Gauging Status|H1|0x0|0xFF|0x0|Hex|



**Description** : The gauging status at the time of the PF event.


7 6 5 4 3 2 1 0


CF DSG EDV0 BAL_EN TCA TDA FC FD


_**14.11.1.24 CEDV Status**_

|Class|Subclass|Name|Type|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|
|PF Status|Device Status Data|CEDV Status|H1|0x0|0xFF|0x0|Hex|



**Description** : The CEDV status at the time of the PF event. See Section 13.48for the bit definitions.


170 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


7 6 5 4 3 2 1 0


VDQ EDV2 EDV1 RSVD RSVD FCCX OCVFR REST


**VDQ (Bit 7)** : Discharge Qualified for Learning (based on RU flag)


1 = Detected


0 = Not Detected


**EDV2 (Bit 6):** End-of-Discharge Voltage 2 has been reached.


1 = EDV2 point has been reached during discharge.


0 = EDV2 point has not been reached during discharge.


**EDV1 (Bit 5):** End-of-Discharge Voltage 1 has been reached.


1 = EDV1 point has been reached during discharge.


0 = EDV1 point has not been reached during discharge.


**RSVD (Bits 4–3):** Reserved. Do not use.


**FCCX (Bit 2)** : When the FCC value is updated on reaching EDV2, then this flag is set (stays on till the end of discharge).


1 = FCC value has been updated.


0 = FCC value has not been updated.


**OCVFR (Bit 1):** Open Circuit Voltage in Flat Region (During RELAX)


1 = Detected


0 = Not Detected


**REST (Bit 0):** Rest


1 = OCV Reading Taken


0 = OCV Reading Not Taken or Not in RELAX


**14.11.2 Device Voltage Data**

_**14.11.2.1 Cell 1 Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Voltage Data|Cell 1 Voltage|I2|–32768|32767|0|mV|



**Description** : Cell 1 voltage


_**14.11.2.2 Cell 2 Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Voltage Data|Cell 2 Voltage|I2|–32768|32767|0|mV|



**Description** : Cell 2 voltage


_**14.11.2.3 Cell 3 Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Voltage Data|Cell 3 Voltage|I2|–32768|32767|0|mV|



**Description** : Cell 3 voltage


_**14.11.2.4 Cell 4 Voltage**_


|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Voltage Data|Cell 4 Voltage|I2|–32768|32767|0|mV|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 171


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Description** : Cell 4 voltage


_**14.11.2.5 Battery Direct Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Voltage Data|Battery Direct<br>Voltage|I2|–32768|32767|0|mV|



**Description** : Battery voltage


_**14.11.2.6 Pack Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Voltage Data|Pack Voltage|I2|–32768|32767|0|mV|



**Description** : Pack pin voltage


**14.11.3 Device Current Data**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Current Data|Current|I2|–32768|32767|0|mV|



**Description** : _Current()_


**14.11.4 Device Temperature Data**

_**14.11.4.1 Internal Temperature**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Temperature<br>Data|Internal Temperature|I2|–32768|32767|0|0.1°K|



**Description** : Internal temperature sensor temperature


_**14.11.4.2 External 1 Temperature**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Temperature<br>Data|External 1 Temperature|I2|–32768|32767|0|0.1°K|



**Description** : External TS1 temperature


_**14.11.4.3 External 2 Temperature**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Temperature<br>Data|External 2 Temperature|I2|–32768|32767|0|0.1°K|



**Description** : External TS2 temperature


_**14.11.4.4 External 3 Temperature**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Temperature<br>Data|External 3 Temperature|I2|–32768|32767|0|0.1°K|



**Description** : External TS3 temperature


172 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


_**14.11.4.5 External 4 Temperature**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|Device Temperature<br>Data|External 4 Temperature|I2|–32768|32767|0|0.1°K|



**Description** : External TS4 temperature


**14.11.5 AFE Regs**


The _**AFE Regs**_ data is intended for Texas Instruments' use to help with internal firmware diagnostics.


_**14.11.5.1 AFE Interrupt Status**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE Interrupt Status|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE Interrupt Status Register Contents


_**14.11.5.2 AFE FET Status**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE FET Status|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE FET Status Register Contents


_**14.11.5.3 AFE RXIN**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE RXIN|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE Rxin Register Contents


_**14.11.5.4 AFE Latch Status**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE Latch Status|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE Latch Status Register Contents


_**14.11.5.5 AFE Interrupt Enable**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE Interrupt Enable|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE Interrupt Enable Register Contents


_**14.11.5.6 AFE FET Control**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE FET Control|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE FET Control Register Contents


_**14.11.5.7 AFE RXIEN**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE RXIEN|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE RXIEN Register Contents



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 173


_Data Flash Values_ [www.ti.com](https://www.ti.com)


_**14.11.5.8 AFE RLOUT**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE RLOUT|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE RLOUT Register Contents


_**14.11.5.9 AFE RHOUT**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE RHOUT|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE RHOUT Register Contents


_**14.11.5.10 AFE RHINT**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE RHINT|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE RHINT Register Contents


_**14.11.5.11 AFE Cell Balance**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE Cell Balance|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE Cell Balance Register Contents


_**14.11.5.12 AFE AD/CC Control**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE AD/CC Control|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE AD/CC Control Register Contents


_**14.11.5.13 AFE ADC Mux**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE ADC Mux|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE ADC Mux Register Contents


_**14.11.5.14 AFE LED Output**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE LED Output|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE LED Output Register Contents


_**14.11.5.15 AFE State Control**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE State Control|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE State Control Register Contents


174 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


_**14.11.5.16 AFE LED/Wake Control**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE LED/Wake Control|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE LED/Wake Control Register Contents


_**14.11.5.17 AFE Protection Control**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE Protection Control|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE Protection Control Register Contents


_**14.11.5.18 AFE OCD**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE OCD|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE OCD Register Contents


_**14.11.5.19 AFE SCC**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE SCC|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE SCC Register Contents


_**14.11.5.20 AFE SCD1**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE SCD1|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE SCD1 Register Contents


_**14.11.5.21 AFE SCD2**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|PF Status|AFE Regs|AFE SCD2|H1|0x00|0xFF|0x00|Hex|



**Description** : AFE SCD2 Register Contents


**14.12 Black Box**


**14.12.1 Safety Status**


|Class|Subclass|Name|Type|Min|Max|Default|Unit|Description|
|---|---|---|---|---|---|---|---|---|
|Black Box|Safety Status|1st Status<br>Status A|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|1st Status<br>Status B|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|1st Safety<br>Status C|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|1st Safety<br>Status D|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|1st Time to<br>Next Event|U1|0|255|0|s|Time from 1st event to 2nd event|
|Black Box|Safety Status|2nd Status<br>Status A|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|2nd Status<br>Status B|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 175


_Data Flash Values_ [www.ti.com](https://www.ti.com)

|Class|Subclass|Name|Type|Min|Max|Default|Unit|Description|
|---|---|---|---|---|---|---|---|---|
|Black Box|Safety Status|2nd Safety<br>Status C|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|2nd Safety<br>Status D|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|2nd Time to<br>Next Event|U1|0|255|0|s|Time from 2nd event to 3rd event|
|Black Box|Safety Status|3rd Status<br>Status A|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|3rd Status<br>Status B|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|3rd Safety<br>Status C|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|3rd Safety<br>Status D|H1|0x0|0xFF|0x0|Hex|_SafetyStatus()_ data|
|Black Box|Safety Status|3rd Time to<br>Next Event|U1|0|255|0|s|Time since 3rd event|



**14.12.2 PF Status**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|Description|
|---|---|---|---|---|---|---|---|---|
|Black Box|PF Status|1st PF Status A|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|1st PF Status B|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|1st PF Status<br>C|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|1st PF Status<br>D|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|1st Time to<br>Next Event|U1|0|255|0|s|Time from 1st event to 2nd event|
|Black Box|PF Status|2nd PF Status<br>A|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|2nd PF Status<br>B|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|2nd PF Status<br>C|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|2nd PF Status<br>D|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|2nd Time to<br>Next Event|U1|0|255|0|s|Time from 2nd event to 3rd event|
|Black Box|PF Status|3rd PF Status<br>A|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|3rd PF Status<br>B|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|3rd PF Status<br>C|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|3rd PF Status<br>D|H1|0x0|0xFF|0x0|Hex|_PFStatus()_ data|
|Black Box|PF Status|3rd Time to<br>Next Event|U1|0|255|0|s|Time since 3rd event|



**14.13 Gas Gauging**


**14.13.1 CEDV Profile 1**

|Subclass ID|Subclass Name|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|CEDV Profile 1|Voltage 0% DOD|I2|–32768|32767|4173|mV|
|Gas Gauging|CEDV Profile 1|Voltage 10% DOD|I2|–32768|32767|4043|mV|
|Gas Gauging|CEDV Profile 1|Voltage 20% DOD|I2|–32768|32767|3925|mV|
|Gas Gauging|CEDV Profile 1|Voltage 30% DOD|I2|–32768|32767|3821|mV|
|Gas Gauging|CEDV Profile 1|Voltage 40% DOD|I2|–32768|32767|3725|mV|
|Gas Gauging|CEDV Profile 1|Voltage 50% DOD|I2|–32768|32767|3656|mV|



176 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_

|Subclass ID|Subclass Name|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|CEDV Profile 1|Voltage 60% DOD|I2|–32768|32767|3619|mV|
|Gas Gauging|CEDV Profile 1|Voltage 70% DOD|I2|–32768|32767|3582|mV|
|Gas Gauging|CEDV Profile 1|Voltage 80% DOD|I2|–32768|32767|3515|mV|
|Gas Gauging|CEDV Profile 1|Voltage 90% DOD|I2|–32768|32767|3439|mV|
|Gas Gauging|CEDV Profile 1|Voltage 100% DOD|I2|–32768|32767|2713|mV|



**Description** : Sets the CEDV profile at different DoD points



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 177


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**14.13.2 CEDV Cfg**






























|Class|Subclass|Name|Type|Min|Max|Default|Unit|Description|
|---|---|---|---|---|---|---|---|---|
|Gas<br>Gauging|CEDV Cfg|EMF|U2|0|65535|3743|—|This is the no-load cell voltage calculated<br>and based on higher than the highest cell<br>EDV threshold.|
|Gas<br>Gauging|CEDV Cfg|C0|U2|0|65535|149|—|This value is the no-load capacity related<br>EDV adjustment factor.|
|Gas<br>Gauging|CEDV Cfg|R0|U2|0|65535|867|—|First order rate dependency factor,<br>accounting for battery impedance<br>adjustment|
|Gas<br>Gauging|CEDV Cfg|T0|U2|0|65535|4030|—|Adjusts for the variation of impedance with<br>battery temperature|
|Gas<br>Gauging|CEDV Cfg|R1|U2|0|65535|316|—|Adjusts for the variation of impedance with<br>battery capacity|
|Gas<br>Gauging|CEDV Cfg|TC|U1|0|255|9|—|Adjusts for the variation of impedance for<br>cold temperature (T < 23°C)|
|Gas<br>Gauging|CEDV Cfg|C1|U1|0|255|0|—|This value is the desired reserved battery<br>capacity remaining at EDV0.|
|Gas<br>Gauging|CEDV Cfg|Age factor|H2|0|255|0|—|Allows the algorithm to compensate EDV<br>detection for cell aging|
|Gas<br>Gauging|CEDV Cfg|Fixed EDV0|H2|0|32767|3031|—|This value is the EDV0 threshold if**_[CEDV]_**<br>is clear in**_CEDV Config._**|
|Gas<br>Gauging|CEDV Cfg|Fixed EDV0 Delay|U1|0|255|0|—|Delay time enforced before qualifying<br>EDV0 is met.|
|Gas<br>Gauging|CEDV Cfg|Fixed EDV1|H2|0|32767|3385|—|This value is the EDV1 threshold if**_[CEDV]_**<br>is clear in**_CEDV Config._**|
|Gas<br>Gauging|CEDV Cfg|Fixed EDV1 Delay|H2|0|255|0|—|Delay time enforced before qualifying<br>EDV1 is met.|
|Gas<br>Gauging|CEDV Cfg|Fixed EDV2|H2|0|32767|3501|—|This value is the EDV2 threshold if**_[CEDV]_**<br>is clear in**_CEDV Config._**|
|Gas<br>Gauging|CEDV Cfg|Fixed EDV2 Delay|H2|0|255|0|—|Delay time enforced before qualifying<br>EDV2 is met.|
|Gas<br>Gauging|CEDV Cfg|Battery Low %|U1|0|65535|700|0.1%|This value should be a capacity value that<br>corresponds to the first or highest voltage<br>point EDV2.|
|Gas<br>Gauging|CEDV Cfg|Learning Low Temp|U1|0|255|119|0.1C|This is the minimum temperature above<br>which discharge must maintain to qualify<br>for a capacity learning.|
|Gas<br>Gauging|CEDV Cfg|Overload Current|I2|0|32767|5000|mA|This is the value for upper current range<br>for EDV detection. Beyond this value EDV<br>detection is halted.|
|Gas<br>Gauging|CEDV Cfg|Self Discharge Rate|U1|0|255|20|0.01%/day|This is an estimation for the self-discharge<br>of the battery.|
|Gas<br>Gauging|CEDV Cfg|Electronic Load|I2|0|255|0|3 µA|This is the value set to a discharge<br>rate determined by the battery electronics<br>current consumption.|
|Gas<br>Gauging|CEDV Cfg|Near Full|I2|0|32767|200|mAh|This value sets the discharge condition for<br>qualified capacity learning.|
|Gas<br>Gauging|CEDV Cfg|Reserve capacity|I2|0|32767|0|mAh|Determines (if Load Mode = 0) how<br>much actual remaining capacity exists<br>when the gas gauge reports zero<br>_RemainingCapacity()_ before reaching<br>Termination Voltage.|
|Gas<br>Gauging|CEDV Cfg|Chg Eff|U1|0|100|100|%|This value compensates for efficiency<br>loss during charging when estimating total<br>capacity value.|
|Gas<br>Gauging|CEDV Cfg|Dsg Eff|U1|0|100|100|%|This value compensates for efficiency loss<br>during discharging when estimating total<br>capacity value.|



178 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**14.13.3 CEDV Smoothing Config**








|Class|Subclass|Name|Type|Min|Max|Default|Unit|Description|
|---|---|---|---|---|---|---|---|---|
|Gas<br>Gauging|CEDV<br>Smoothing<br>Config|Smoothing Start<br>Voltage|I2|0|4300|3700|mV|Sets the voltage from where smoothing<br>will start|
|Gas<br>Gauging|CEDV<br>Smoothing<br>Config|Smoothing Delta<br>Voltage|I2|0|4200|100|mV|Sets the delta voltage for smoothing|
|Gas<br>Gauging|CEDV<br>Smoothing<br>Config|Max Smoothing<br>Current|U2|0|65535|8000|mA|Sets the max current for smoothing|
|Gas<br>Gauging|CEDV<br>Smoothing<br>Config|EOC Smooth Current|U1|0|10|2|%|Sets the End Of Charge Smoothing<br>current|
|Gas<br>Gauging|CEDV<br>Smoothing<br>Config|EOC Smooth Current<br>Time|U1|0|255|60|s|Sets the End Of Charge Smoothing time|



**14.13.4 Current Thresholds**

_**14.13.4.1 Dsg Current Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|Current Thresholds|Dsg Current Threshold|I2|–32768|32767|100|mA|



**Description** : DISCHARGE mode _Current()_ threshold


_**14.13.4.2 Chg Current Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|Current Thresholds|Chg Current Threshold|I2|–32768|32767|50|mA|



**Description** : CHARGE mode _Current()_ threshold


_**14.13.4.3 Quit Current**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|Current Thresholds|Quit Current|I2|0|32767|10|mA|



**Description** : | _Current()_ | threshold to enter rest mode


_**14.13.4.4 Dsg Relax Time**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|Current Thresholds|Dsg Relax Time|U1|0|255|1|mA|



**Description** : Discharge to relax timeout. When discharge is stopped, the device will exit the DISCHARGE mode
after this time is passed.


_**14.13.4.5 Chg Relax Time**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|Current Thresholds|Chg Relax Time|U1|0|255|60|mA|



**Description** : Charge to relax timeout. When charging is stopped, the device will exit the CHARGE mode after
this time is passed.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 179


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**14.13.5 Design**

_**14.13.5.1 Design Capacity mAh**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|Design|Design Capacity mAh|I2|0|32767|4400|mAh|



**Description** : Design Capacity in mAh. This is reported by _DesignCapacity()_ if _**[CAPM]**_ = 0.


_**14.13.5.2 Design Capacity in cWh**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|Design|Design Capacity cWh|I2|0|32767|6336|cWh|



**Description** : Design Capacity in cWh. This is reported by _DesignCapacity()_ if _**[CAPM]**_ = 1.


_**14.13.5.3 Design Voltage**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|Design|Design Voltage|I2|0|32767|14400|mV|



**Description** : Design Voltage. This is reported by _DesignVoltage()_ .


**14.13.6 Cycle**

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|Cycle|Cycle Count Percentage|U1|0|100|90|%|



**Description** : This is a threshold to increment the _**Cycle Count**_ if the accumulated discharge is more than this
set percentage of _FullChargeCapacity()_ (if _**[CCT]**_ = 1) or _DesignCapacity()_ (if _**[CCT]**_ = 0). Note that a minimum of
10% of _DesignCapacity()_ change of the accumulated discharge is required for cycle count increment. This is to
prevent an erroneous cycle count increment due to extremely low _FullChargeCapacity()_ .


**14.13.7 FD**

_**14.13.7.1 Set Voltage Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|FD|Set Voltage Threshold|I2|0|5000|3000|mV|



**Description** : _GaugingStatus()[FD]_ and _BatteryStatus()[FD]_ cell voltage set threshold


_**14.13.7.2 Clear Voltage Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|FD|Clear Voltage Threshold|I2|0|5000|3100|mV|



**Description** : _GaugingStatus()[FD]_ and _BatteryStatus()[FD]_ cell voltage clear threshold


_**14.13.7.3 Set RSOC % Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|FD|Set RSOC % Threshold|U1|0|100|0|%|



**Description** : _GaugingStatus()[FD]_ and _BatteryStatus()[FD]_ _RelativeStateOfCharge()_ set threshold


_**14.13.7.4 Clear RSOC % Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|FD|Clear RSOC % Threshold|U1|0|100|5|%|



180 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**Description** : _GaugingStatus()[FD]_ and _BatteryStatus()[FD]_ _RelativeStateOfCharge()_ clear threshold


**14.13.8 FC**

_**14.13.8.1 Set Voltage Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|FC|Set Voltage Threshold|I2|0|5000|4200|mV|



**Description** : _GaugingStatus()[FC]_ and _BatteryStatus()[FC]_ cell voltage set threshold


_**14.13.8.2 Clear Voltage Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|FC|Clear Voltage Threshold|I2|0|5000|4100|mV|



**Description** : _GaugingStatus()[FC]_ and _BatteryStatus()[FC]_ cell voltage clear threshold


_**14.13.8.3 Set RSOC % Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|FC|Set RSOC % Threshold|U1|0|100|100|%|



**Description** : _GaugingStatus()[FC]_ and _BatteryStatus()[FC]_ _RelativeStateOfCharge()_ set threshold


_**14.13.8.4 Clear RSOC % Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|FC|Clear RSOC % Threshold|U1|0|100|95|%|



**Description** : _GaugingStatus()[FC]_ and _BatteryStatus()[FC]_ _RelativeStateOfCharge()_ clear threshold


**14.13.9 TD**


_GaugingStatus()[TD]_ is used to set _BatteryStatus()[TDA]_ when in DISCHARGE mode.


_**14.13.9.1 Set Voltage Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|TD|Set Voltage Threshold|I2|0|5000|3200|mV|



**Description** : _GaugingStatus()[TD]_ cell voltage set threshold


_**14.13.9.2 Clear Voltage Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|TD|Clear Voltage Threshold|I2|0|5000|3300|mV|



**Description** : _GaugingStatus()[TD]_ cell voltage clear threshold


_**14.13.9.3 Set RSOC % Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|TD|Set RSOC % Threshold|U1|0|100|6|%|



**Description** : _GaugingStatus()[TD]_ _RelativeStateOfCharge()_ set threshold


_**14.13.9.4 Clear RSOC % Threshold**_


|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|TD|Clear RSOC % Threshold|U1|0|100|8|%|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 181


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Description** : _GaugingStatus()[TD]_ _RelativeStateOfCharge()_ clear threshold


**14.13.10 TC**


_GaugingStatus()[TC]_ is used to set _BatteryStatus()[TCA]_ when in CHARGE mode


_**14.13.10.1 Set Voltage Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|TC|Set Voltage Threshold|I2|0|5000|4200|mV|



**Description** : _GaugingStatus()[TC]_ cell voltage set threshold


_**14.13.10.2 Clear Voltage Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|TC|Clear Voltage Threshold|I2|0|5000|4100|mV|



**Description** : _GaugingStatus()[TC]_ cell voltage clear threshold


_**14.13.10.3 Set RSOC % Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|TC|Set RSOC % Threshold|U1|0|100|100|%|



**Description** : _GaugingStatus()[TC]_ _RelativeStateOfCharge()_ set threshold


_**14.13.10.4 Clear RSOC % Threshold**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|TC|Clear RSOC % Threshold|U1|0|100|95|%|



**Description** : _GaugingStatus()[TC]_ _RelativeStateOfCharge()_ clear threshold


**14.13.11 State**

_**14.13.11.1 Learned Full Charge Capacity**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|State|Learned Full Charge Capacity|I2|0|32767|4400|mAh|



**Description** : This is the full maximum chemical capacity of the battery pack.


_**14.13.11.2 Cycle Count**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|Gas Gauging|State|Cycle Count|U2|0|65535|0|—|



**Description** : Value reported by _CycleCount()_ . Updated by the gauge automatically based on _**Cycle Count**_
_**Percentage**_ .


**14.14 SBS Configuration**


**14.14.1 Data**

_**14.14.1.1 Remaining Ah Capacity Alarm**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Remaining Ah Capacity<br>Alarm|U2|0|700|300|mAh|



**Description** : _RemainingCapacityAlarm()_ value in mAh


182 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


_**14.14.1.2 Remaining Wh Capacity Alarm**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Remaining Wh Capacity<br>Alarm|U2|0|1000|432|cWh|



**Description** : _RemainingCapacityAlarm()_ value in 10 mWh


_**14.14.1.3 Remaining Time Alarm**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Remaining Time Alarm|U2|0|30|10|min|



**Description** : _RemainingTimeAlarm()_ value


_**14.14.1.4 Initial Battery Mode**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Initial Battery Mode|H2|0x0000|0xFFFF|0x0081|—|



15 14 13 12 11 10 9 8


CAPM CHGM AM RSVD RSVD RSVD PB CC


7 6 5 4 3 2 1 0


CF RSVD RSVD RSVD RSVD RSVD PBS ICC


**CAPM (Bit 15)** : Capacity_Mode (R/W)


1 = Report in 10 mW or 10 mWh


0 = Report in mA or mAh (default)


**CHGM (Bit 14)** : Charger_Mode (R/W)


1 = Disable _ChargingVoltage()_ and _ChargingCurrent()_ broadcasts to host and smart battery charger (default)


0 = Enable _ChargingVoltage()_ and _ChargingCurrent()_ broadcasts to host and smart battery charger


**AM (Bit 13)** : ALARM Mode (R/W)


1 = Disable AlarmWarning broadcasts to host and smart battery charger


0 = Enable AlarmWarning broadcasts to host and smart battery charger (default)


**RSVD (Bits 12–10)** : Reserved. Do not use.


**PB (Bit 9)** : Primary_Battery (R/W)


1 = Battery operating in its primary role


0 = Battery operating in its secondary role (default)


**CC (Bit 8)** : Charge_Controller_Enabled (R/W)


1 = Internal charge control enabled


0 = Internal charge control disabled (default)


**CF (Bit 7)** : Condition_Flag (R)


1 = Conditioning cycle requested


0 = Battery OK


**RSVD (Bits 6–2)** : Reserved. Do not use.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 183


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**PBS (Bit 1)** : Primary_Battery_Support (R)


1 = Primary or secondary battery support


0 = Function not supported (default)


**ICC (Bit 0)** : Internal_Charge_Controller (R)


1 = Function supported


0 = Function not supported (default)


_**14.14.1.5 Specification Information**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Specification Information|H2|0x0000|0xFFFF|0x0031|—|



15 14 13 12 11 10 9 8


IPScale IPScale IPScale IPScale VScale VScale VScale VScale


7 6 5 4 3 2 1 0


Version Version Version Version Revision Revision Revision Revision


_SpecificationInformation()_ values


**IPScale (Bits 15–12):** IP Scale Factor


0,0,0,0 = Reported currents and capacities scaled by 10E0 except _ChargingVoltage()_ and _ChargingCurrent()_


0,0,0,1 = Reported currents and capacities scaled by 10E1 except _ChargingVoltage()_ and _ChargingCurrent()_


0,0,1,0 = Reported currents and capacities scaled by 10E2 except _ChargingVoltage()_ and _ChargingCurrent()_


0,0,1,1 = Reported currents and capacities scaled by 10E3 except _ChargingVoltage()_ and _ChargingCurrent()_


**VScale (Bits 11–8):** Voltage Scale Factor


0,0,0,0 = Reported voltages scaled by 10E0


0,0,0,1 = Reported voltages scaled by 10E1


0,0,1,0 = Reported voltages scaled by 10E2


0,0,1,1 = Reported voltages scaled by 10E3


**Version (Bits 7–4)** : Version


0,0,0,1 = Version 1.0


0,0,1,1 = Version 1.1


0,0,1,1 = Version 1.1 with optional PEC support


**Revision (Bits 3–0):** Revision


0,0,0,1 = Version 1.0 and 1.1 (default)


_**14.14.1.6 Manufacturer Date**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Manufacturer Date|U2|0|65535|01/01/80|—|



**Description** : _ManufacturerDate()_ value in the following format: Day + Month*32 + (Year–1980) * 512


184 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


_**14.14.1.7 Serial Number**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Serial Number|H2|0x0000|0xFFFF|0x0001|—|



**Description** : _SerialNumber()_ value


_**14.14.1.8 Manufacturer Name**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Manufacturer Name|S20+1|—|—|Texas Instruments|ASCII|



**Description** : _ManufacturerName()_ value


_**14.14.1.9 Device Name**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Device Name|S20+1|—|—|BQ4050|ASCII|



**Description** : _DeviceName()_ value


_**14.14.1.10 Device Chemistry**_

|Class|Subclass|Name|Type|Min|Max|Default|Unit|
|---|---|---|---|---|---|---|---|
|SBS Configuration|Data|Device Chemistry|S4+1|—|—|LION|ASCII|



**Description** : _DeviceChemistry()_ value


**14.15 Data Flash Summary**


**Table 14-1. Data Flash Summary**


|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Calibration|Voltage|0x4000|I2|Cell Gain|–32767|32767|12101|—|
|Calibration|Voltage|0x4002|U2|Pack Gain|0|65535|49669|—|
|Calibration|Voltage|0x4004|U2|BAT Gain|0|65535|48936|—|
|Calibration|Current|0x4006|F4|CC Gain|1.00E–01|4.00E+00|3.58422|—|
|Calibration|Current|0x400a|F4|Capacity Gain|2.98E+04|1.19E+06|1069035.256|—|
|Calibration|Current Offset|0x400e|I2|CC Offset|–32767|32767|0|—|
|Calibration|Current Offset|0x4010|U2|Coulomb Counter Offset<br>Samples|0|65535|64|—|
|Calibration|Current Offset|0x4012|I2|Board Offset|–32768|32767|0|—|
|Calibration|Current Offset|0x40c0|H1|CC Auto Config|0x00|0x07|0x03|Hex|
|Calibration|Current Offset|0x40c1|I2|CC Auto Offset|–10000|10000|0|—|
|Calibration|Temperature|0x4014|I1|Internal Temp Offset|–128|127|0|0.1°C|
|Calibration|Temperature|0x4015|I1|External1 Temp Offset|–128|127|0|0.1°C|
|Calibration|Temperature|0x4016|I1|External2 Temp Offset|–128|127|0|0.1°C|
|Calibration|Temperature|0x4017|I1|External3 Temp Offset|–128|127|0|0.1°C|
|Calibration|Temperature|0x4018|I1|External4 Temp Offset|–128|127|0|0.1°C|
|Calibration|Internal Temp<br>Model|0x4380|I2|Int Gain|–32768|32767|–12143|—|
|Calibration|Internal Temp<br>Model|0x4382|I2|Int base offset|–32768|32767|6232|—|
|Calibration|Internal Temp<br>Model|0x4384|I2|Int Minimum AD|–32768|32767|0|—|
|Calibration|Internal Temp<br>Model|0x4386|I2|Int Maximum Temp|–32768|32767|6232|0.1°K|
|Calibration|Cell Temperature<br>Model|0x4388|I2|Coeff a1|–32768|32767|–11130|—|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 185


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Table 14-1. Data Flash Summary** **(continued)**

|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Calibration|Cell Temperature<br>Model|0x438a|I2|Coeff a2|–32768|32767|19142|—|
|Calibration|Cell Temperature<br>Model|0x438c|I2|Coeff a3|–32768|32767|–19262|—|
|Calibration|Cell Temperature<br>Model|0x438e|I2|Coeff a4|–32768|32767|28203|—|
|Calibration|Cell Temperature<br>Model|0x4390|I2|Coeff a5|–32768|32767|892|—|
|Calibration|Cell Temperature<br>Model|0x4392|I2|Coeff b1|–32768|32767|328|—|
|Calibration|Cell Temperature<br>Model|0x4394|I2|Coeff b2|–32768|32767|–605|—|
|Calibration|Cell Temperature<br>Model|0x4396|I2|Coeff b3|–32768|32767|–2443|—|
|Calibration|Cell Temperature<br>Model|0x4398|I2|Coeff b4|–32768|32767|4696|—|
|Calibration|Cell Temperature<br>Model|0x439a|I2|Rc0|–32768|32767|11703|—|
|Calibration|Cell Temperature<br>Model|0x439c|I2|Adc0|–32768|32767|11703|—|
|Calibration|Cell Temperature<br>Model|0x439e|I2|Rpad|–32768|32767|0|—|
|Calibration|Cell Temperature<br>Model|0x43a0|I2|Rint|–32768|32767|0|—|
|Calibration|Fet Temperature<br>Model|0x43a2|I2|Coeff a1|–32768|32767|–11130|—|
|Calibration|Fet Temperature<br>Model|0x43a4|I2|Coeff a2|–32768|32767|19142|—|
|Calibration|Fet Temperature<br>Model|0x43a6|I2|Coeff a3|–32768|32767|–19262|—|
|Calibration|Fet Temperature<br>Model|0x43a8|I2|Coeff a4|–32768|32767|28203|—|
|Calibration|Fet Temperature<br>Model|0x43aa|I2|Coeff a5|–32768|32767|892|—|
|Calibration|Fet Temperature<br>Model|0x43ac|I2|Coeff b1|–32768|32767|328|—|
|Calibration|Fet Temperature<br>Model|0x43ae|I2|Coeff b2|–32768|32767|–605|—|
|Calibration|Fet Temperature<br>Model|0x43b0|I2|Coeff b3|–32768|32767|–2443|—|
|Calibration|Fet Temperature<br>Model|0x43b2|I2|Coeff b4|–32768|32767|4696|—|
|Calibration|Fet Temperature<br>Model|0x43b4|I2|Rc0|–32768|32767|11703|—|
|Calibration|Fet Temperature<br>Model|0x43b6|I2|Adc0|–32768|32767|11703|—|
|Calibration|Fet Temperature<br>Model|0x43b8|I2|Rpad|–32768|32767|0|—|
|Calibration|Fet Temperature<br>Model|0x43ba|I2|Rint|–32768|32767|0|—|
|Calibration|Current Deadband|0x43c6|U1|Deadband|0|255|3|mA|
|Calibration|Current Deadband|0x43c7|U1|Coulomb Counter Deadband|0|255|9|116 nV|
|Settings|Protection|0x447c|H1|Protection Configuration|0x0|0x03|0x0|Hex|
|Settings|Protection|0x447d|H1|Enabled Protections A|0x0|0xff|0xff|Hex|
|Settings|Protection|0x447e|H1|Enabled Protections B|0x0|0xff|0x3f|Hex|
|Settings|Protection|0x447f|H1|Enabled Protections C|0x0|0xff|0xd5|Hex|
|Settings|Protection|0x4480|H1|Enabled Protections D|0x0|0xff|0x0f|Hex|
|Settings|Permanent Failure|0x44f5|H1|Enabled PF A|0x0|0xff|0x0|Hex|



186 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**Table 14-1. Data Flash Summary** **(continued)**


|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Settings|Permanent Failure|0x44f6|H1|Enabled PF B|0x0|0xff|0x0|Hex|
|Settings|Permanent Failure|0x44f7|H1|Enabled PF C|0x0|0xff|0x0|Hex|
|Settings|Permanent Failure|0x44f8|H1|Enabled PF D|0x0|0xff|0x0|Hex|
|Settings|Configuration|0x4407|H1|FET Options|0x0|0xff|0x20|Hex|
|Settings|Configuration|0x4408|H1|Sbs Gauging Configuration|0x0|0x0f|0x04|Hex|
|Settings|Configuration|0x4409|H1|Sbs Configuration|0x0|0xff|0x20|Hex|
|Settings|Configuration|0x440b|H1|Power Config|0x0|0x81|0x00|Hex|
|Settings|Configuration|0x440c|H1|IO Config|0x0|0x03|0x00|Hex|
|Settings|Configuration|0x442e|H2|LED Configuration|0x0|0x01ff|0x00d0|Hex|
|Settings|Configuration|0x4455|H2|SOC Flag Config A|0x0|0x0fff|0x0c8c|Hex|
|Settings|Configuration|0x4457|H1|SOC Flag Config B|0x0|0xff|0x8c|Hex|
|Settings|Configuration|0x4470|H1|CEDV Smoothing Config|0x0|0xff|0x08|Hex|
|Settings|Configuration|0x4534|H1|Charging Configuration|0x0|0x3f|0x0|Hex|
|Settings|Configuration|0x4579|H1|Temperature Enable|0x0|0x1f|0x06|Hex|
|Settings|Configuration|0x457a|H1|Temperature Mode|0x0|0x1f|0x04|Hex|
|Settings|Configuration|0x457b|H1|DA Configuration|0x0|0xff|0x12|Hex|
|Settings|Configuration|0x458e|H2|CEDV Gauging Configuration|0x0|0x1fff|0x0200|Hex|
|Settings|Configuration|0x460f|H1|Balancing Configuration|0x0|0xff|0x01|Hex|
|Settings|AFE|0x457d|H1|AFE Protection Control|0x0|0xff|0x70|Hex|
|Settings|AFE|0x4583|I2|ZVCHG Exit Threshold|0|8000|2200|mV|
|Settings|Fuse|0x4400|H1|PF Fuse A|0x0|0xff|0x0|Hex|
|Settings|Fuse|0x4401|H1|PF Fuse B|0x0|0xff|0x0|Hex|
|Settings|Fuse|0x4402|H1|PF Fuse C|0x0|0xff|0x0|Hex|
|Settings|Fuse|0x4403|H1|PF Fuse D|0x0|0xff|0x0|Hex|
|Settings|Fuse|0x4404|I2|Min Blow Fuse Voltage|0|65535|3500|mV|
|Settings|Fuse|0x4406|U1|Fuse Blow Timeout|0|255|30|s|
|Settings|BTP|0x440d|I2|Init Discharge Set|0|32767|150|mAh|
|Settings|BTP|0x440f|I2|Init Charge Set|0|32767|175|mAh|
|Settings|SMBus|0x4411|H1|Address|0x0|0xff|0x16|—|
|Settings|SMBus|0x4412|H1|Address Check|0x0|0xff|0xea|—|
|Settings|Manufacturing|0x4340|H2|Mfg Status init|0x0|0xffff|0x0000|Hex|
|Protections|CUV|0x4481|I2|Threshold|0|32767|2500|mV|
|Protections|CUV|0x4483|U1|Delay|0|255|2|s|
|Protections|CUV|0x4484|I2|Recovery|0|32767|3000|mV|
|Protections|COV|0x4486|I2|Threshold Low Temp|0|32767|4300|mV|
|Protections|COV|0x4488|I2|Threshold Standard Temp|0|32767|4300|mV|
|Protections|COV|0x448a|I2|Threshold High Temp|0|32767|4300|mV|
|Protections|COV|0x448c|I2|Threshold Rec Temp|0|32767|4300|mV|
|Protections|COV|0x448e|U1|Delay|0|255|2|s|
|Protections|COV|0x448f|I2|Recovery Low Temp|0|32767|3900|mV|
|Protections|COV|0x4491|I2|Recovery Standard Temp|0|32767|3900|mV|
|Protections|COV|0x4493|I2|Recovery High Temp|0|32767|3900|mV|
|Protections|COV|0x4495|I2|Recovery Rec Temp|0|32767|3900|mV|
|Protections|OCC1|0x4497|I2|Threshold|–32768|32767|6000|mA|
|Protections|OCC1|0x4499|U1|Delay|0|255|6|s|
|Protections|OCC2|0x449a|I2|Threshold|–32768|32767|8000|mA|
|Protections|OCC2|0x449c|U1|Delay|0|255|3|s|
|Protections|OCC|0x449d|I2|Recovery Threshold|–32768|32767|–200|mA|
|Protections|OCC|0x449f|U1|Recovery Delay|0|255|5|s|
|Protections|OCD1|0x44a0|I2|Threshold|–32768|32767|–6000|mA|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 187


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Table 14-1. Data Flash Summary** **(continued)**

|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Protections|OCD1|0x44a2|U1|Delay|0|255|6|s|
|Protections|OCD2|0x44a3|I2|Threshold|–32768|32767|–8000|mA|
|Protections|OCD2|0x44a5|U1|Delay|0|255|3|s|
|Protections|OCD|0x44a6|I2|Recovery Threshold|–32768|32767|200|mA|
|Protections|OCD|0x44a8|U1|Recovery Delay|0|255|5|s|
|Protections|AOLD|0x44a9|U1|Latch Limit|0|255|0|—|
|Protections|AOLD|0x44aa|U1|Counter Dec Delay|0|255|10|s|
|Protections|AOLD|0x44ab|U1|Recovery|0|255|5|s|
|Protections|AOLD|0x44ac|U1|Reset|0|255|15|s|
|Protections|AOLD|0x457e|H1|Threshold|0x0|0xff|0xf4|Hex|
|Protections|ASCC|0x44ad|U1|Latch Limit|0|255|0|—|
|Protections|ASCC|0x44ae|U1|Counter Dec Delay|0|255|10|s|
|Protections|ASCC|0x44af|U1|Recovery|0|255|5|s|
|Protections|ASCC|0x44b0|U1|Reset|0|255|15|s|
|Protections|ASCC|0x457f|H1|Threshold|0x0|0xff|0x77|Hex|
|Protections|ASCD|0x44b1|U1|Latch Limit|0|255|0|—|
|Protections|ASCD|0x44b2|U1|Counter Dec Delay|0|255|10|s|
|Protections|ASCD|0x44b3|U1|Recovery|0|255|5|s|
|Protections|ASCD|0x44b4|U1|Reset|0|255|15|s|
|Protections|ASCD|0x4580|H1|Threshold 1|0x0|0xff|0x77|Hex|
|Protections|ASCD|0x4581|H1|Threshold 2|0x0|0xff|0xe7|Hex|
|Protections|OTC|0x44b5|I2|Threshold|–400|1500|550|0.1°C|
|Protections|OTC|0x44b7|U1|Delay|0|255|2|s|
|Protections|OTC|0x44b8|I2|Recovery|–400|1500|500|0.1°C|
|Protections|OTD|0x44ba|I2|Threshold|–400|1500|600|0.1°C|
|Protections|OTD|0x44bc|U1|Delay|0|255|2|s|
|Protections|OTD|0x44bd|I2|Recovery|–400|1500|550|0.1°C|
|Protections|OTF|0x44bf|I2|Threshold|–400|1500|800|0.1°C|
|Protections|OTF|0x44c1|U1|Delay|0|255|2|s|
|Protections|OTF|0x44c2|I2|Recovery|–400|1500|650|0.1°C|
|Protections|UTC|0x44c4|I2|Threshold|–400|1500|0|0.1°C|
|Protections|UTC|0x44c6|U1|Delay|0|255|2|s|
|Protections|UTC|0x44c7|I2|Recovery|–400|1500|50|0.1°C|
|Protections|UTD|0x44c9|I2|Threshold|–400|1500|0|0.1°C|
|Protections|UTD|0x44cb|U1|Delay|0|255|2|s|
|Protections|UTD|0x44cc|I2|Recovery|–400|1500|50|0.1°C|
|Protections|HWD|0x44ce|U1|Delay|0|255|10|s|
|Protections|PTO|0x44cf|I2|Charge Threshold|–32768|32767|2000|mA|
|Protections|PTO|0x44d1|I2|Suspend Threshold|–32768|32767|1800|mA|
|Protections|PTO|0x44d3|U2|Delay|0|65535|1800|s|
|Protections|PTO|0x44d5|I2|Reset|0|32767|2|mAh|
|Protections|CTO|0x44d7|I2|Charge Threshold|–32768|32767|2500|mA|
|Protections|CTO|0x44d9|I2|Suspend Threshold|–32768|32767|2000|mA|
|Protections|CTO|0x44db|U2|Delay|0|65535|54000|s|
|Protections|CTO|0x44dd|I2|Reset|0|32767|2|mAh|
|Protections|OC|0x44df|I2|Threshold|–32768|32767|300|mAh|
|Protections|OC|0x44e1|I2|Recovery|–32768|32767|2|mAh|
|Protections|OC|0x44e3|U1|RSOC Recovery|0|100|90|%|
|Protections|CHGV|0x44e4|I2|Threshold|–32768|32767|500|mV|
|Protections|CHGV|0x44e6|U1|Delay|0|255|30|s|



188 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**Table 14-1. Data Flash Summary** **(continued)**






|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Protections|CHGV|0x44e7|I2|Recovery|–32768|32767|–500|mV|
|Protections|CHGC|0x44e9|I2|Threshold|–32768|32767|500|mA|
|Protections|CHGC|0x44eb|U1|Delay|0|255|2|s|
|Protections|CHGC|0x44ec|I2|Recovery Threshold|–32768|32767|100|mA|
|Protections|CHGC|0x44ee|U1|Recovery Delay|0|255|2|s|
|Protections|PCHGC|0x44ef|I2|Threshold|–32768|32767|50|mA|
|Protections|PCHGC|0x44f1|U1|Delay|0|255|2|s|
|Protections|PCHGC|0x44f2|I2|Recovery Threshold|–32768|32767|10|mA|
|Protections|PCHGC|0x44f4|U1|Recovery Delay|0|255|2|s|
|Permanent Fail|SUV|0x44f9|I2|Threshold|0|32767|2200|mV|
|Permanent Fail|SUV|0x44fb|U1|Delay|0|255|5|s|
|Permanent Fail|SOV|0x44fc|I2|Threshold|0|32767|4500|mV|
|Permanent Fail|SOV|0x44fe|U1|Delay|0|255|5|s|
|Permanent Fail|SOCC|0x44ff|I2|Threshold|–32768|32767|10000|mA|
|Permanent Fail|SOCC|0x4501|U1|Delay|0|255|5|s|
|Permanent Fail|SOCD|0x4502|I2|Threshold|–32768|32767|–10000|mA|
|Permanent Fail|SOCD|0x4504|U1|Delay|0|255|5|s|
|Permanent Fail|SOT|0x4505|I2|Threshold|–400|1500|650|0.1°C|
|Permanent Fail|SOT|0x4507|U1|Delay|0|255|5|s|
|Permanent Fail|SOTF|0x4508|I2|Threshold|–400|1500|1000|0.1°C|
|Permanent Fail|SOTF|0x450a|U1|Delay|0|255|5|s|
|Permanent Fail|Open Thermistor|0x450b|I2|Threshold|0|32767|2232|0.1°K|
|Permanent Fail|Open Thermistor|0x450d|U1|Delay|0|255|5|s|
|Permanent Fail|Open Thermistor|0x450e|I2|Fet Delta|–400|1500|200|0.1°C|
|Permanent Fail|Open Thermistor|0x4510|I2|Cell Delta|–400|1500|200|0.1°C|
|Permanent Fail|VIMR|0x4512|I2|Check Voltage|0|5000|3500|mV|
|Permanent Fail|VIMR|0x4514|I2|Check Current|0|32767|10|mA|
|Permanent Fail|VIMR|0x4516|I2|Delta Threshold|0|5000|500|mV|
|Permanent Fail|VIMR|0x4518|U1|Delta Delay|0|255|5|s|
|Permanent Fail|VIMR|0x4519|U2|Duration|0|65535|100|s|
|Permanent Fail|VIMA|0x451b|I2|Check Voltage|0|5000|3700|mV|
|Permanent Fail|VIMA|0x451d|I2|Check Current|0|32767|50|mA|
|Permanent Fail|VIMA|0x451f|I2|Delta Threshold|0|5000|200|mV|
|Permanent Fail|VIMA|0x4521|U1|Delay|0|255|2|s|
|Permanent Fail|CFET|0x4522|I2|OFF Threshold|0|500|5|mA|
|Permanent Fail|CFET|0x4524|U1|OFF Delay|0|255|5|s|
|Permanent Fail|DFET|0x4525|I2|OFF Threshold|–500|0|–5|mA|
|Permanent Fail|DFET|0x4527|U1|OFF Delay|0|255|5|s|
|Permanent Fail|FUSE|0x4528|I2|Threshold|0|255|5|mA|
|Permanent Fail|FUSE|0x452a|U1|Delay|0|255|5|s|
|Permanent Fail|AFER|0x452b|U1|Threshold|0|255|100|—|
|Permanent Fail|AFER|0x452c|U1|Delay Period|0|255|2|s|
|Permanent Fail|AFER|0x452d|U1|Compare Period|0|255|5|s|
|Permanent Fail|AFEC|0x452e|U1|Threshold|0|255|100|—|
|Permanent Fail|AFEC|0x452f|U1|Delay Period|0|255|5|s|
|Permanent Fail|2LVL|0x4530|U1|Delay|0|255|5|s|
|Permanent Fail|OPNCELL|0x4531|I2|Threshold|0|32767|5000|mV|
|Permanent Fail|OPNCELL|0x4533|U1|Delay|0|255|5|s|
|Advanced Charge<br>Algorithm|Temperature<br>Ranges|0x4535|I1|T1 Temp|–128|127|0|°C|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 189


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Table 14-1. Data Flash Summary** **(continued)**













|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Advanced Charge<br>Algorithm|Temperature<br>Ranges|0x4536|I1|T2 Temp|–128|127|12|°C|
|Advanced Charge<br>Algorithm|Temperature<br>Ranges|0x4537|I1|T5 Temp|–128|127|20|°C|
|Advanced Charge<br>Algorithm|Temperature<br>Ranges|0x4538|I1|T6 Temp|–128|127|25|°C|
|Advanced Charge<br>Algorithm|Temperature<br>Ranges|0x4539|I1|T3 Temp|–128|127|30|°C|
|Advanced Charge<br>Algorithm|Temperature<br>Ranges|0x453a|I1|T4 Temp|–128|127|55|°C|
|Advanced Charge<br>Algorithm|Temperature<br>Ranges|0x453b|I1|Hysteresis Temp|0|127|1|°C|
|Advanced Charge<br>Algorithm|Low Temp<br>Charging|0x453c|I2|Voltage|0|32767|4000|mV|
|Advanced Charge<br>Algorithm|Low Temp<br>Charging|0x453e|I2|Current Low|0|32767|132|mA|
|Advanced Charge<br>Algorithm|Low Temp<br>Charging|0x4540|I2|Current Med|0|32767|352|mA|
|Advanced Charge<br>Algorithm|Low Temp<br>Charging|0x4542|I2|Current High|0|32767|264|mA|
|Advanced Charge<br>Algorithm|Standard Temp<br>Charging|0x4544|I2|Voltage|0|32767|4200|mV|
|Advanced Charge<br>Algorithm|Standard Temp<br>Charging|0x4546|I2|Current Low|0|32767|1980|mA|
|Advanced Charge<br>Algorithm|Standard Temp<br>Charging|0x4548|I2|Current Med|0|32767|4004|mA|
|Advanced Charge<br>Algorithm|Standard Temp<br>Charging|0x454a|I2|Current High|0|32767|2992|mA|
|Advanced Charge<br>Algorithm|High Temp<br>Charging|0x454c|I2|Voltage|0|32767|4000|mV|
|Advanced Charge<br>Algorithm|High Temp<br>Charging|0x454e|I2|Current Low|0|32767|1012|mA|
|Advanced Charge<br>Algorithm|High Temp<br>Charging|0x4550|I2|Current Med|0|32767|1980|mA|
|Advanced Charge<br>Algorithm|High Temp<br>Charging|0x4552|I2|Current High|0|32767|1496|mA|
|Advanced Charge<br>Algorithm|Rec Temp<br>Charging|0x4554|I2|Voltage|0|32767|4100|mV|
|Advanced Charge<br>Algorithm|Rec Temp<br>Charging|0x4556|I2|Current Low|0|32767|2508|mA|
|Advanced Charge<br>Algorithm|Rec Temp<br>Charging|0x4558|I2|Current Med|0|32767|4488|mA|
|Advanced Charge<br>Algorithm|Rec Temp<br>Charging|0x455a|I2|Current High|0|32767|3520|mA|
|Advanced Charge<br>Algorithm|Pre-Charging|0x455c|I2|Current|0|32767|88|mA|
|Advanced Charge<br>Algorithm|Maintenance<br>Charging|0x455e|I2|Current|0|32767|44|mA|
|Advanced Charge<br>Algorithm|Voltage Range|0x4560|I2|Precharge Start Voltage|0|32767|2500|mV|
|Advanced Charge<br>Algorithm|Voltage Range|0x4562|I2|Charging Voltage Low|0|32767|2900|mV|
|Advanced Charge<br>Algorithm|Voltage Range|0x4564|I2|Charging Voltage Med|0|32767|3600|mV|
|Advanced Charge<br>Algorithm|Voltage Range|0x4566|I2|Charging Voltage High|0|32767|4000|mV|
|Advanced Charge<br>Algorithm|Voltage Range|0x4568|U1|Charging Voltage Hysteresis|0|255|0|mV|
|Advanced Charge<br>Algorithm|SoC Range|0x4569|U1|Charging SoC Med|0|100|50|%|


190 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**Table 14-1. Data Flash Summary** **(continued)**








|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Advanced Charge<br>Algorithm|SoC Range|0x456a|U1|Charging SoC High|0|100|75|%|
|Advanced Charge<br>Algorithm|SoC Range|0x456b|U1|Charging SoC Hysteresis|0|100|1|%|
|Advanced Charge<br>Algorithm|Termination<br>Config|0x456c|I2|Charge Term Taper Current|0|32767|250|mA|
|Advanced Charge<br>Algorithm|Termination<br>Config|0x4570|I2|Charge Term Voltage|0|32767|75|mV|
|Advanced Charge<br>Algorithm|Charging Rate of<br>Change|0x4573|U1|Current Rate|1|255|1|steps|
|Advanced Charge<br>Algorithm|Charging Rate of<br>Change|0x4574|U1|Voltage Rate|1|255|1|steps|
|Advanced Charge<br>Algorithm|Charge Loss<br>Compensation|0x4575|I2|CCC Current Threshold|0|32767|3520|mA|
|Advanced Charge<br>Algorithm|Charge Loss<br>Compensation|0x4577|I2|CCC Voltage Threshold|0|32767|4200|mV|
|Advanced Charge<br>Algorithm|Cell Balancing<br>Config|0x4610|I2|Cell Balance Threshold|0|5000|3900|mV|
|Advanced Charge<br>Algorithm|Cell Balancing<br>Config|0x4612|I2|Cell Balance Window|0|5000|100|mV|
|Advanced Charge<br>Algorithm|Cell Balancing<br>Config|0x4614|U1|Cell Balance Min|0|255|40|mV|
|Advanced Charge<br>Algorithm|Cell Balancing<br>Config|0x4615|U1|Cell Balance Interval|0|255|20|s|
|Gas Gauging|Current<br>Thresholds|0x4586|I2|Dsg Current Threshold|–32768|32767|100|mA|
|Gas Gauging|Current<br>Thresholds|0x4588|I2|Chg Current Threshold|–32768|32767|50|mA|
|Gas Gauging|Current<br>Thresholds|0x458a|I2|Quit Current|0|32767|10|mA|
|Gas Gauging|Current<br>Thresholds|0x458c|U1|Dsg Relax Time|0|255|1|s|
|Gas Gauging|Current<br>Thresholds|0x458d|U1|Chg Relax Time|0|255|60|s|
|Gas Gauging|Design|0x444d|I2|Design Capacity mAh|0|32767|4400|mAh|
|Gas Gauging|Design|0x444f|I2|Design Capacity cWh|0|32767|6336|cWh|
|Gas Gauging|Design|0x4451|I2|Design Voltage|0|32767|14400|mV|
|Gas Gauging|Cycle|0x4453|U1|Cycle Count Percentage|0|100|90|%|
|Gas Gauging|FD|0x4458|I2|Set Voltage Threshold|0|5000|3000|mV|
|Gas Gauging|FD|0x445a|I2|Clear Voltage Threshold|0|5000|3100|mV|
|Gas Gauging|FD|0x445c|U1|Set % RSOC Threshold|0|100|0|%|
|Gas Gauging|FD|0x445d|U1|Clear % RSOC Threshold|0|100|5|%|
|Gas Gauging|FC|0x445e|I2|Set Voltage Threshold|0|5000|4200|mV|
|Gas Gauging|FC|0x4460|I2|Clear Voltage Threshold|0|5000|4100|mV|
|Gas Gauging|FC|0x4462|U1|Set % RSOC Threshold|0|100|100|%|
|Gas Gauging|FC|0x4463|U1|Clear % RSOC Threshold|0|100|95|%|
|Gas Gauging|TD|0x4464|I2|Set Voltage Threshold|0|5000|3200|mV|
|Gas Gauging|TD|0x4466|I2|Clear Voltage Threshold|0|5000|3300|mV|
|Gas Gauging|TD|0x4468|U1|Set % RSOC Threshold|0|100|6|%|
|Gas Gauging|TD|0x4469|U1|Clear % RSOC Threshold|0|100|8|%|
|Gas Gauging|TC|0x446a|I2|Set Voltage Threshold|0|5000|4200|mV|
|Gas Gauging|TC|0x446c|I2|Clear Voltage Threshold|0|5000|4100|mV|
|Gas Gauging|TC|0x446e|U1|Set % RSOC Threshold|0|100|100|%|
|Gas Gauging|TC|0x446f|U1|Clear % RSOC Threshold|0|100|95|%|
|Gas Gauging|State|0x4100|I2|Learned Full Charge Capacity|0|32767|4400|mAh|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 191


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Table 14-1. Data Flash Summary** **(continued)**

|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Gas Gauging|State|0x4140|U2|Cycle Count|0|65535|0|—|
|Gas Gauging|CEDV cfg|0x4590|U2|EMF|0|65535|3743|—|
|Gas Gauging|CEDV cfg|0x4592|U2|C0|0|65535|149|—|
|Gas Gauging|CEDV cfg|0x4594|U2|R0|0|65535|867|—|
|Gas Gauging|CEDV cfg|0x4596|U2|T0|0|65535|4030|—|
|Gas Gauging|CEDV cfg|0x4598|U2|R1|0|65535|316|—|
|Gas Gauging|CEDV cfg|0x459a|U1|TC|0|255|9|—|
|Gas Gauging|CEDV cfg|0x459b|U1|C1|0|255|0|—|
|Gas Gauging|CEDV cfg|0x459c|U1|Age Factor|0|255|0|—|
|Gas Gauging|CEDV cfg|0x459d|I2|Fixed EDV 0|0|32767|3031|—|
|Gas Gauging|CEDV cfg|0x459f|U1|EDV 0 Hold Time|1|255|1|s|
|Gas Gauging|CEDV cfg|0x45a0|I2|Fixed EDV 1|0|32767|3385|—|
|Gas Gauging|CEDV cfg|0x45a2|U1|EDV 1 Hold Time|1|255|1|s|
|Gas Gauging|CEDV cfg|0x45a3|I2|Fixed EDV 2|0|32767|3501|—|
|Gas Gauging|CEDV cfg|0x45a5|U1|EDV 2 Hold Time|1|255|1|s|
|Gas Gauging|CEDV cfg|0x45ec|U2|Battery Low %|0|65535|700|0.01%|
|Gas Gauging|CEDV cfg|0x45f0|I2|Min Delta V Filter|0|32767|10|mV|
|Gas Gauging|CEDV cfg|0x45f9|U1|Learning Low Temp|0|255|119|0.1°C|
|Gas Gauging|CEDV cfg|0x4602|I2|OverLoad Current|0|32767|5000|mA|
|Gas Gauging|CEDV cfg|0x4606|U1|Self Discharge Rate|0|255|20|0.01%/da<br>y|
|Gas Gauging|CEDV cfg|0x4607|I2|Electronics Load|0|255|0|3 µA|
|Gas Gauging|CEDV cfg|0x4609|I2|Near Full|0|32767|200|mAh|
|Gas Gauging|CEDV cfg|0x460b|I2|Reserve Capacity|0|32767|0|mAh|
|Gas Gauging|CEDV cfg|0x460d|U1|Chg Eff|0|100|100|%|
|Gas Gauging|CEDV cfg|0x460e|U1|Dsg Eff|0|100|100|%|
|Gas Gauging|CEDV Profile 1|0x45a6|I2|Voltage 0% DOD|–32768|32767|4173|mV|
|Gas Gauging|CEDV Profile 1|0x45a8|I2|Voltage 10% DOD|–32768|32767|4043|mV|
|Gas Gauging|CEDV Profile 1|0x45aa|I2|Voltage 20% DOD|–32768|32767|3925|mV|
|Gas Gauging|CEDV Profile 1|0x45ac|I2|Voltage 30% DOD|–32768|32767|3821|mV|
|Gas Gauging|CEDV Profile 1|0x45ae|I2|Voltage 40% DOD|–32768|32767|3725|mV|
|Gas Gauging|CEDV Profile 1|0x45b0|I2|Voltage 50% DOD|–32768|32767|3656|mV|
|Gas Gauging|CEDV Profile 1|0x45b2|I2|Voltage 60% DOD|–32768|32767|3619|mV|
|Gas Gauging|CEDV Profile 1|0x45b4|I2|Voltage 70% DOD|–32768|32767|3582|mV|
|Gas Gauging|CEDV Profile 1|0x45b6|I2|Voltage 80% DOD|–32768|32767|3515|mV|
|Gas Gauging|CEDV Profile 1|0x45b8|I2|Voltage 90% DOD|–32768|32767|3439|mV|
|Gas Gauging|CEDV Profile 1|0x45ba|I2|Voltage 100% DOD|–32768|32767|2713|mV|
|Gas Gauging|CEDV Smoothing<br>Config|0x4471|I2|Smoothing Start Voltage|0|4300|3700|mV|
|Gas Gauging|CEDV Smoothing<br>Config|0x4473|I2|Smoothing Delta Voltage|0|4200|100|mV|
|Gas Gauging|CEDV Smoothing<br>Config|0x4475|U2|Max Smoothing Current|0|65535|8000|mA|
|Gas Gauging|CEDV Smoothing<br>Config|0x447a|U1|EOC Smooth Current|0|10|2|0.10%|
|Gas Gauging|CEDV Smoothing<br>Config|0x447b|U1|EOC Smooth Current Time|0|255|60|s|
|Power|Power|0x4413|I2|Valid Update Voltage|0|32767|3500|mV|
|Power|Shutdown|0x4415|I2|Shutdown Voltage|0|32767|1750|mV|
|Power|Shutdown|0x4417|U1|Shutdown Time|0|255|10|s|
|Power|Shutdown|0x4418|I2|PF Shutdown Voltage|0|32767|1750|mV|
|Power|Shutdown|0x441a|U1|PF Shutdown Time|0|255|10|s|



192 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**Table 14-1. Data Flash Summary** **(continued)**


|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Power|Shutdown|0x441b|I2|Charger Present Threshold|0|32767|3000|mV|
|Power|Sleep|0x441d|I2|Sleep Current|0|32767|10|mA|
|Power|Sleep|0x441f|U1|Bus Timeout|0|255|5|s|
|Power|Sleep|0x4424|U1|Voltage Time|0|255|5|s|
|Power|Sleep|0x4425|U1|Current Time|0|255|20|s|
|Power|Sleep|0x4426|H1|Wake Comparator|0x0|0xff|0x0|Hex|
|Power|Ship|0x4427|U1|FET Off Time|0|127|10|s|
|Power|Ship|0x4428|U1|Delay|0|254|20|s|
|Power|Ship|0x4429|U2|Auto Ship Time|0|65535|1440|min|
|Power|Power Off|0x442b|U2|Timeout|0|65535|30|min|
|Power|Manual FET<br>Control|0x442d|U1|MFC Delay|0|255|60|s|
|PF Status|Device Status<br>Data|0x4240|H1|Safety Alert A|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4241|H1|Safety Status A|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4242|H1|Safety Alert B|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4243|H1|Safety Status B|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4244|H1|Safety Alert C|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4245|H1|Safety Status C|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4246|H1|Safety Alert D|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4247|H1|Safety Status D|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4248|H1|PF Alert A|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4249|H1|PF Status A|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x424a|H1|PF Alert B|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x424b|H1|PF Status B|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x424c|H1|PF Alert C|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x424d|H1|PF Status C|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x424e|H1|PF Alert D|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x424f|H1|PF Status D|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4250|H2|Fuse Flag|0x0|0xffff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4252|H2|Operation Status A|0x0|0xffff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4254|H2|Operation Status B|0x0|0xffff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4256|H1|Temp Range|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4257|H1|Charging Status A|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4258|H1|Charging Status B|0x0|0xff|0x0|Hex|
|PF Status|Device Status<br>Data|0x4259|H1|Gauging Status|0x0|0xff|0x0|Hex|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 193


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Table 14-1. Data Flash Summary** **(continued)**

|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|PF Status|Device Status<br>Data|0x425a|H1|CEDV Status|0x0|0xff|0x0|Hex|
|PF Status|Device Voltage<br>Data|0x425b|I2|Cell 1 Voltage|–32768|32767|0|mV|
|PF Status|Device Voltage<br>Data|0x425d|I2|Cell 2 Voltage|–32768|32767|0|mV|
|PF Status|Device Voltage<br>Data|0x425f|I2|Cell 3 Voltage|–32768|32767|0|mV|
|PF Status|Device Voltage<br>Data|0x4261|I2|Cell 4 Voltage|–32768|32767|0|mV|
|PF Status|Device Voltage<br>Data|0x4263|I2|Battery Direct Voltage|–32768|32767|0|mV|
|PF Status|Device Voltage<br>Data|0x4265|I2|Pack Voltage|–32768|32767|0|mV|
|PF Status|Device Current<br>Data|0x4267|I2|Current|–32768|32767|0|mA|
|PF Status|Device<br>Temperature Data|0x4269|I2|Internal Temperature|–32768|32767|0|0.1°K|
|PF Status|Device<br>Temperature Data|0x426b|I2|External 1 Temperature|–32768|32767|0|0.1°K|
|PF Status|Device<br>Temperature Data|0x426d|I2|External 2 Temperature|–32768|32767|0|0.1°K|
|PF Status|Device<br>Temperature Data|0x426f|I2|External 3 Temperature|–32768|32767|0|0.1°K|
|PF Status|Device<br>Temperature Data|0x4271|I2|External 4 Temperature|–32768|32767|0|0.1°K|
|PF Status|AFE Regs|0x4273|H1|AFE Interrupt Status|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4274|H1|AFE FET Status|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4275|H1|AFE RXIN|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4276|H1|AFE Latch Status|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4277|H1|AFE Interrupt Enable|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4278|H1|AFE FET Control|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4279|H1|AFE RXIEN|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x427a|H1|AFE RLOUT|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x427b|H1|AFE RHOUT|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x427c|H1|AFE RHINT|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x427d|H1|AFE Cell Balance|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x427e|H1|AFE AD/CC Control|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x427f|H1|AFE ADC Mux|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4280|H1|AFE LED Output|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4281|H1|AFE State Control|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4282|H1|AFE LED/Wake Control|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4283|H1|AFE Protection Control|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4284|H1|AFE OCD|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4285|H1|AFE SCC|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4286|H1|AFE SCD1|0x0|0xff|0x0|Hex|
|PF Status|AFE Regs|0x4287|H1|AFE SCD2|0x0|0xff|0x0|Hex|
|System Data|Manufacturer Data|0x4040|U1|Manufacturer Info A Length|1|32|32|—|
|System Data|Manufacturer Data|0x4041|H1|Manufacturer Info Block A01|0x0|0xff|0x61|Hex|
|System Data|Manufacturer Data|0x4042|H1|Manufacturer Info Block A02|0x0|0xff|0x62|Hex|
|System Data|Manufacturer Data|0x4043|H1|Manufacturer Info Block A03|0x0|0xff|0x63|Hex|
|System Data|Manufacturer Data|0x4044|H1|Manufacturer Info Block A04|0x0|0xff|0x64|Hex|
|System Data|Manufacturer Data|0x4045|H1|Manufacturer Info Block A05|0x0|0xff|0x65|Hex|
|System Data|Manufacturer Data|0x4046|H1|Manufacturer Info Block A06|0x0|0xff|0x66|Hex|



194 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**Table 14-1. Data Flash Summary** **(continued)**


|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|System Data|Manufacturer Data|0x4047|H1|Manufacturer Info Block A07|0x0|0xff|0x67|Hex|
|System Data|Manufacturer Data|0x4048|H1|Manufacturer Info Block A08|0x0|0xff|0x68|Hex|
|System Data|Manufacturer Data|0x4049|H1|Manufacturer Info Block A09|0x0|0xff|0x69|Hex|
|System Data|Manufacturer Data|0x404a|H1|Manufacturer Info Block A10|0x0|0xff|0x6a|Hex|
|System Data|Manufacturer Data|0x404b|H1|Manufacturer Info Block A11|0x0|0xff|0x6b|Hex|
|System Data|Manufacturer Data|0x404c|H1|Manufacturer Info Block A12|0x0|0xff|0x6c|Hex|
|System Data|Manufacturer Data|0x404d|H1|Manufacturer Info Block A13|0x0|0xff|0x6d|Hex|
|System Data|Manufacturer Data|0x404e|H1|Manufacturer Info Block A14|0x0|0xff|0x6e|Hex|
|System Data|Manufacturer Data|0x404f|H1|Manufacturer Info Block A15|0x0|0xff|0x6f|Hex|
|System Data|Manufacturer Data|0x4050|H1|Manufacturer Info Block A16|0x0|0xff|0x70|Hex|
|System Data|Manufacturer Data|0x4051|H1|Manufacturer Info Block A17|0x0|0xff|0x71|Hex|
|System Data|Manufacturer Data|0x4052|H1|Manufacturer Info Block A18|0x0|0xff|0x72|Hex|
|System Data|Manufacturer Data|0x4053|H1|Manufacturer Info Block A19|0x0|0xff|0x73|Hex|
|System Data|Manufacturer Data|0x4054|H1|Manufacturer Info Block A20|0x0|0xff|0x74|Hex|
|System Data|Manufacturer Data|0x4055|H1|Manufacturer Info Block A21|0x0|0xff|0x75|Hex|
|System Data|Manufacturer Data|0x4056|H1|Manufacturer Info Block A22|0x0|0xff|0x76|Hex|
|System Data|Manufacturer Data|0x4057|H1|Manufacturer Info Block A23|0x0|0xff|0x77|Hex|
|System Data|Manufacturer Data|0x4058|H1|Manufacturer Info Block A24|0x0|0xff|0x7a|Hex|
|System Data|Manufacturer Data|0x4059|H1|Manufacturer Info Block A25|0x0|0xff|0x78|Hex|
|System Data|Manufacturer Data|0x405a|H1|Manufacturer Info Block A26|0x0|0xff|0x79|Hex|
|System Data|Manufacturer Data|0x405b|H1|Manufacturer Info Block A27|0x0|0xff|0x30|Hex|
|System Data|Manufacturer Data|0x405c|H1|Manufacturer Info Block A28|0x0|0xff|0x31|Hex|
|System Data|Manufacturer Data|0x405d|H1|Manufacturer Info Block A29|0x0|0xff|0x32|Hex|
|System Data|Manufacturer Data|0x405e|H1|Manufacturer Info Block A30|0x0|0xff|0x33|Hex|
|System Data|Manufacturer Data|0x405f|H1|Manufacturer Info Block A31|0x0|0xff|0x34|Hex|
|System Data|Manufacturer Data|0x4060|H1|Manufacturer Info Block A32|0x0|0xff|0x35|Hex|
|System Data|Manufacturer Info<br>B|0x4062|H1|Manufacturer Info Block B01|0x0|0xff|0x01|Hex|
|System Data|Manufacturer Info<br>B|0x4063|H1|Manufacturer Info Block B02|0x0|0xff|0x23|Hex|
|System Data|Manufacturer Info<br>B|0x4064|H1|Manufacturer Info Block B03|0x0|0xff|0x45|Hex|
|System Data|Manufacturer Info<br>B|0x4065|H1|Manufacturer Info Block B04|0x0|0xff|0x67|Hex|
|System Data|Integrity|0x4066|H2|Static DF Signature|0x0|0x7fff|0x0|Hex|
|System Data|Integrity|0x4068|H2|Static Chem DF Signature|0x0|0x7fff|0x6c98|Hex|
|System Data|Integrity|0x406a|H2|All DF Signature|0x0|0x7fff|0x0|Hex|
|SBS Configuration|Data|0x406c|U2|Manufacture Date|0|65535|0|date|
|SBS Configuration|Data|0x406e|H2|Serial Number|0x0|0xffff|0x0001|Hex|
|SBS Configuration|Data|0x4070|S21|Manufacturer Name|x|x|Texas<br>Instruments|—|
|SBS Configuration|Data|0x4085|S21|Device Name|x|x|BQ4050|—|
|SBS Configuration|Data|0x409a|S5|Device Chemistry|x|x|LION|—|
|SBS Configuration|Data|0x4443|I2|Remaining AH Cap. Alarm|0|32767|300|mAh|
|SBS Configuration|Data|0x4445|I2|Remaining WH Cap. Alarm|0|32767|432|cWh|
|SBS Configuration|Data|0x4447|U2|Remaining Time Alarm|0|65535|10|min|
|SBS Configuration|Data|0x4449|H2|Initial Battery Mode|0x0|0xffff|0x0081|Hex|
|SBS Configuration|Data|0x444b|H2|Specification Information|0x0|0xffff|0x0031|Hex|
|LED Support|LED Config|0x4430|U2|LED Flash Period|32|65535|512|488 µs|
|LED Support|LED Config|0x4432|U2|LED Blink Period|32|65535|1024|488 µs|
|LED Support|LED Config|0x4434|U2|LED Delay|16|65535|100|488 µs|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 195


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Table 14-1. Data Flash Summary** **(continued)**

|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|LED Support|LED Config|0x4436|U1|LED Hold Time|1|63|16|0.25 s|
|LED Support|LED Config|0x4437|I1|CHG Flash Alarm|0|100|10|%|
|LED Support|LED Config|0x4438|I1|CHG Thresh 1|0|100|0|%|
|LED Support|LED Config|0x4439|I1|CHG Thresh 2|0|100|20|%|
|LED Support|LED Config|0x443a|I1|CHG Thresh 3|0|100|40|%|
|LED Support|LED Config|0x443b|I1|CHG Thresh 4|0|100|60|%|
|LED Support|LED Config|0x443c|I1|CHG Thresh 5|0|100|80|%|
|LED Support|LED Config|0x443d|I1|DSG Flash Alarm|0|100|10|%|
|LED Support|LED Config|0x443e|I1|DSG Thresh 1|0|100|0|%|
|LED Support|LED Config|0x443f|I1|DSG Thresh 2|0|100|20|%|
|LED Support|LED Config|0x4440|I1|DSG Thresh 3|0|100|40|%|
|LED Support|LED Config|0x4441|I1|DSG Thresh 4|0|100|60|%|
|LED Support|LED Config|0x4442|I1|DSG Thresh 5|0|100|80|%|
|Black Box|Safety Status|0x4200|H1|1st Status Status A|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x4201|H1|1st Status Status B|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x4202|H1|1st Safety Status C|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x4203|H1|1st Safety Status D|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x4204|U1|1st Time to Next Event|0|255|0|s|
|Black Box|Safety Status|0x4205|H1|2nd Status Status A|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x4206|H1|2nd Status Status B|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x4207|H1|2nd Safety Status C|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x4208|H1|2nd Safety Status D|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x4209|U1|2nd Time to Next Event|0|255|0|s|
|Black Box|Safety Status|0x420a|H1|3rd Status Status A|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x420b|H1|3rd Status Status B|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x420c|H1|3rd Safety Status C|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x420d|H1|3rd Safety Status D|0x0|0xff|0x0|Hex|
|Black Box|Safety Status|0x420e|U1|3rd Time to Next Event|0|255|0|s|
|Black Box|PF Status|0x420f|H1|1st PF Status A|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x4210|H1|1st PF Status B|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x4211|H1|1st PF Status C|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x4212|H1|1st PF Status D|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x4213|U1|1st Time to Next Event|0|255|0|s|
|Black Box|PF Status|0x4214|H1|2nd PF Status A|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x4215|H1|2nd PF Status B|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x4216|H1|2nd PF Status C|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x4217|H1|2nd PF Status D|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x4218|U1|2nd Time to Next Event|0|255|0|s|
|Black Box|PF Status|0x4219|H1|3rd PF Status A|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x421a|H1|3rd PF Status B|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x421b|H1|3rd PF Status C|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x421c|H1|3rd PF Status D|0x0|0xff|0x0|Hex|
|Black Box|PF Status|0x421d|U1|3rd Time to Next Event|0|255|0|s|
|Lifetimes|Voltage|0x4180|I2|Cell 1 Max Voltage|0|32767|0|mV|
|Lifetimes|Voltage|0x4182|I2|Cell 2 Max Voltage|0|32767|0|mV|
|Lifetimes|Voltage|0x4184|I2|Cell 3 Max Voltage|0|32767|0|mV|
|Lifetimes|Voltage|0x4186|I2|Cell 4 Max Voltage|0|32767|0|mV|
|Lifetimes|Voltage|0x4188|I2|Cell 1 Min Voltage|0|32767|32767|mV|
|Lifetimes|Voltage|0x418a|I2|Cell 2 Min Voltage|0|32767|32767|mV|
|Lifetimes|Voltage|0x418c|I2|Cell 3 Min Voltage|0|32767|32767|mV|



196 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Data Flash Values_


**Table 14-1. Data Flash Summary** **(continued)**


|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Lifetimes|Voltage|0x418e|I2|Cell 4 Min Voltage|0|32767|32767|mV|
|Lifetimes|Voltage|0x4190|I2|Max Delta Cell Voltage|0|32767|0|mV|
|Lifetimes|Current|0x4192|I2|Max Charge Current|0|32767|0|mA|
|Lifetimes|Current|0x4194|I2|Max Discharge Current|–32768|0|0|mA|
|Lifetimes|Current|0x4196|I2|Max Avg Dsg Current|–32768|0|0|mA|
|Lifetimes|Current|0x4198|I2|Max Avg Dsg Power|–32768|0|0|cW|
|Lifetimes|Temperature|0x419a|I1|Max Temp Cell|–128|127|–128|°C|
|Lifetimes|Temperature|0x419b|I1|Min Temp Cell|–128|127|127|°C|
|Lifetimes|Temperature|0x419c|I1|Max Delta Cell Temp|–128|127|0|°C|
|Lifetimes|Temperature|0x419d|I1|Max Temp Int Sensor|–128|127|–128|°C|
|Lifetimes|Temperature|0x419e|I1|Min Temp Int Sensor|–128|127|127|°C|
|Lifetimes|Temperature|0x419f|I1|Max Temp Fet|–128|127|–128|°C|
|Lifetimes|Safety Events|0x41a0|U2|No Of COV Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41a2|U2|Last COV Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41a4|U2|No Of CUV Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41a6|U2|Last CUV Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41a8|U2|No Of OCD1 Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41aa|U2|Last OCD1 Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41ac|U2|No Of OCD2 Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41ae|U2|Last OCD2 Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41b0|U2|No Of OCC1 Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41b2|U2|Last OCC1 Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41b4|U2|No Of OCC2 Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41b6|U2|Last OCC2 Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41b8|U2|No Of AOLD Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41ba|U2|Last AOLD Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41bc|U2|No Of ASCD Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41be|U2|Last ASCD Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41c0|U2|No Of ASCC Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41c2|U2|Last ASCC Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41c4|U2|No Of OTC Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41c6|U2|Last OTC Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41c8|U2|No Of OTD Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41ca|U2|Last OTD Event|0|32767|0|cycles|
|Lifetimes|Safety Events|0x41cc|U2|No Of OTF Events|0|32767|0|events|
|Lifetimes|Safety Events|0x41ce|U2|Last OTF Event|0|32767|0|cycles|
|Lifetimes|Charging Events|0x41d0|U2|No Valid Charge Term|0|32767|0|events|
|Lifetimes|Charging Events|0x41d2|U2|Last Valid Charge Term|0|32767|0|cycles|
|Lifetimes|Power Events|0x41d4|U1|No Of Shutdowns|0|255|0|events|
|Lifetimes|Cell Balancing|0x41d8|U1|CB Time Cell 1|0|255|0|2h|
|Lifetimes|Cell Balancing|0x41d9|U1|CB Time Cell 2|0|255|0|2h|
|Lifetimes|Cell Balancing|0x41da|U1|CB Time Cell 3|0|255|0|2h|
|Lifetimes|Cell Balancing|0x41db|U1|CB Time Cell 4|0|255|0|2h|
|Lifetimes|Time|0x41dc|U2|Total Fw Runtime|0|65535|0|2h|
|Lifetimes|Time|0x41de|U2|Time Spent In UT|0|65535|0|2h|
|Lifetimes|Time|0x41e0|U2|Time Spent In LT|0|65535|0|2h|
|Lifetimes|Time|0x41e2|U2|Time Spent In STL|0|65535|0|2h|
|Lifetimes|Time|0x41e4|U2|Time Spent In RT|0|65535|0|2h|
|Lifetimes|Time|0x41e6|U2|Time Spent In STH|0|65535|0|2h|
|Lifetimes|Time|0x41e8|U2|Time Spent In HT|0|65535|0|2h|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 197


_Data Flash Values_ [www.ti.com](https://www.ti.com)


**Table 14-1. Data Flash Summary** **(continued)**

|Class|Subclass|Address|Type|Name|Min|Max|Default|Units|
|---|---|---|---|---|---|---|---|---|
|Lifetimes|Time|0x41ea|U2|Time Spent In OT|0|65535|0|2h|



198 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _AFE Threshold and Delay Settings_

#### _Chapter 15_
### **_AFE Threshold and Delay Settings_**


**15.1 Overload in Discharge Protection (AOLD)**


**Table 15-1. Overload in Discharge Protection Threshold**

**(Settings:AFE:AFE Protection Control [RSNS] = 0)**

|OLD Threshold ([RSNS] = 0)|Col2|Col3|Col4|
|---|---|---|---|
|**Setting**|**Threshold**|**Setting**|**Threshold**|
|0x00|–8.30 mV|0x08|–30.54 mV|
|0x01|–11.08 mV|0x09|–33.32 mV|
|0x02|–13.86 mV|0x0A|–36.10 mV|
|0x03|–16.64 mV|0x0B|–38.88 mV|
|0x04|–19.42 mV|0x0C|–41.66 mV|
|0x05|–22.20 mV|0x0D|–44.44 mV|
|0x06|–24.98 mV|0x0E|–47.22 mV|
|0x07|–27.76 mV|0x0F|–50.00 mV|



**Table 15-2. Overload in Discharge Protection Threshold**

**(Settings:AFE:AFE Protection Control [RSNS] = 1)**

|OLD Threshold ([RSNS] = 1)|Col2|Col3|Col4|
|---|---|---|---|
|**Setting**|**Threshold**|**Setting**|**Threshold**|
|0x00|–16.60 mV|0x08|–61.08 mV|
|0x01|–22.16 mV|0x09|–66.64 mV|
|0x02|–27.72 mV|0x0A|–72.20 mV|
|0x03|–33.28 mV|0x0B|–77.76 mV|
|0x04|–38.84 mV|0x0C|–83.32 mV|
|0x05|–44.40 mV|0x0D|–88.88 mV|
|0x06|–49.96 mV|0x0E|–94.44 mV|
|0x07|–55.52 mV|0x0F|–100.00 mV|



**Table 15-3. Overload in Discharge Protection Delay**

|Setting|Time|Setting|Time|Setting|Time|Setting|Time|
|---|---|---|---|---|---|---|---|
|0x00|1 ms|0x04|9 ms|0x08|17 ms|0x0C|25 ms|
|0x01|3 ms|0x05|11 ms|0x09|19 ms|0x0D|27 ms|
|0x02|5 ms|0x06|13 ms|0x0A|21 ms|0x0E|29 ms|
|0x03|7 ms|0x07|15 ms|0x0B|23 ms|0x0F|31 ms|



**15.2 Short Circuit in Charge (ASCC)**


**Table 15-4. Short Circuit in Charge Threshold**
**(Settings:AFE:AFE Protection Control [RSNS] = 0)**


|Setting|Threshold|Setting|Threshold|
|---|---|---|---|
|0x00|22.2 mV|0x04|66.65 mV|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 199


_AFE Threshold and Delay Settings_ [www.ti.com](https://www.ti.com)


**Table 15-4. Short Circuit in Charge Threshold**
**(Settings:AFE:AFE Protection Control [RSNS] = 0)** **(continued)**

|Setting|Threshold|Setting|Threshold|
|---|---|---|---|
|0x01|33.3 mV|0x05|77.75 mV|
|0x02|44.4 mV|0x06|88.85 mV|
|0x03|55.5 mV|0x07|100 mV|



**Table 15-5. Short Circuit in Charge Threshold**
**(Settings:AFE:AFE Protection Control [RSNS] = 1)**

|Setting|Threshold|Setting|Threshold|
|---|---|---|---|
|0x00|44.4 mV|0x04|133.3 mV|
|0x01|66.6 mV|0x05|155.5 mV|
|0x02|88.8 mV|0x06|177.7 mV|
|0x03|111.1 mV|0x07|200 mV|



**Table 15-6. Short Circuit in Charge Delay**

|Setting|Time|Setting|Time|Setting|Time|Setting|Time|
|---|---|---|---|---|---|---|---|
|0x00|0 µs|0x04|244 µs|0x08|488 µs|0x0C|732 µs|
|0x01|61 µs|0x05|305 µs|0x09|549 µs|0x0D|793 µs|
|0x02|122 µs|0x06|366 µs|0x0A|610 µs|0x0E|854 µs|
|0x03|183 µs|0x07|427 µs|0x0B|671 µs|0x0F|915 µs|



**15.3 Short Circuit in Discharge (ASCD1 and ASCD2)**


**Table 15-7. Short Circuit in Discharge Threshold**
**(Settings:AFE:AFE Protection Control [RSNS] = 0)**

|Setting|Threshold|Setting|Threshold|
|---|---|---|---|
|0x00|–22.2 mV|0x04|–66.65 mV|
|0x01|–33.3 mV|0x05|–77.75 mV|
|0x02|–44.4 mV|0x06|–88.85 mV|
|0x03|–55.5 mV|0x07|–100 mV|



**Table 15-8. Short Circuit in Discharge Threshold**
**(Settings:AFE:AFE Protection Control [RSNS] = 1)**

|Setting|Threshold|Setting|Threshold|
|---|---|---|---|
|0x00|–44.4 mV|0x04|–133.3 mV|
|0x01|–66.6 mV|0x05|–155.5 mV|
|0x02|–88.8 mV|0x06|–177.7 mV|
|0x03|–111.1 mV|0x07|–200 mV|



**Table 15-9. Short Circuit in Discharge 1 Delay**
**(Settings:AFE:AFE Protection Control [SCDDx2] = 0)**

|Setting|Time|Setting|Time|Setting|Time|Setting|Time|
|---|---|---|---|---|---|---|---|
|0x00|0 µs|0x04|244 µs|0x08|488 µs|0x0C|732 µs|
|0x01|61 µs|0x05|305 µs|0x09|549 µs|0x0D|793 µs|
|0x02|122 µs|0x06|366 µs|0x0A|610 µs|0x0E|854 µs|
|0x03|183 µs|0x07|427 µs|0x0B|671 µs|0x0F|915 µs|



**Table 15-10. Short Circuit in Discharge 1 Delay**
**(Settings:AFE:AFE Protection Control [SCDDx2] = 1)**

|Setting|Time|Setting|Time|Setting|Time|Setting|Time|
|---|---|---|---|---|---|---|---|
|0x00|0 µs|0x04|488 µs|0x08|976 µs|0x0C|1464 µs|



200 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _AFE Threshold and Delay Settings_


**Table 15-10. Short Circuit in Discharge 1 Delay**
**(Settings:AFE:AFE Protection Control [SCDDx2] = 1)** **(continued)**

|Setting|Time|Setting|Time|Setting|Time|Setting|Time|
|---|---|---|---|---|---|---|---|
|0x01|122 µs|0x05|610 µs|0x09|1098 µs|0x0D|1586 µs|
|0x02|244 µs|0x06|732 µs|0x0A|1220 µs|0x0E|1708 µs|
|0x03|366 µs|0x07|854 µs|0x0B|1342 µs|0x0F|1830 µs|



**Table 15-11. Short Circuit in Discharge 2 Delay**
**(Settings:AFE:AFE Protection Control [SCDDx2] = 0)**

|Setting|Time|Setting|Time|Setting|Time|Setting|Time|
|---|---|---|---|---|---|---|---|
|0x00|0 µs|0x04|122 µs|0x08|244 µs|0x0C|366 µs|
|0x01|31 µs|0x05|153 µs|0x09|275 µs|0x0D|396 µs|
|0x02|61 µs|0x06|183 µs|0x0A|305 µs|0x0E|427 µs|
|0x03|92 µs|0x07|214 µs|0x0B|335 µs|0x0F|458 µs|



**Table 15-12. Short Circuit in Discharge 2 Delay**
**(Settings:AFE:AFE Protection Control [SCDDx2] = 1)**


|Setting|Time|Setting|Time|Setting|Time|Setting|Time|
|---|---|---|---|---|---|---|---|
|0x00|0 µs|0x04|244 µs|0x08|488 µs|0x0C|732 µs|
|0x01|62 µs|0x05|306 µs|0x09|550 µs|0x0D|792 µs|
|0x02|122 µs|0x06|366 µs|0x0A|610 µs|0x0E|854 µs|
|0x03|184 µs|0x07|428 µs|0x0B|670 µs|0x0F|916 µs|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 201


_AFE Threshold and Delay Settings_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


202 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Sample Filter Settings_

#### _Appendix A_
### **_Sample Filter Settings_**


**A.1**


**Table A-1. Sample V/I/P Filter Settings and Associated Low-Pass Filter Time Constants**


|Average V/I/P Filter|Effective Low-Pass Time Constant|
|---|---|
|10|0.25 seconds|
|50|0.5 seconds|
|145|1 second|
|200|3 seconds|



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 203


_Sample Filter Settings_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


204 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Glossary_

#### _Appendix B_
### **_Glossary_**


ACK Acknowledge character


ADC Analog-to-digital converter


BCA Board calibration


BI Battery insert


CC Coulomb counter


CCA Coulomb counter calibration


CE Chip enable


CHARGE Mode Refers to a mode to where the gauge read _Current()_ - _**Chg Current Threshold**_ for at least 1 second.


Clear [Refers to a bit in a register becoming a logic LOW or 0. The Battery Management Studio (BQStudio) software represents](http://www.ti.com/tool/BQstudio?keyMatch=BQstudio)
a clear bit with the color green.


cWh Centiwatt-hour


CMT Current measurement time


DISCHARGE
Refers to a mode where the gauge read _Current()_ < (–) _**Dsg Current Threshold**_ for at least 1 second.
Mode


DOD Depth of discharge in percent as related to Qmax. 100% corresponds to empty battery.


DOD0 Depth of discharge that was looked up in the DOD (OCV) table based on OCV measurement in relaxed state.


EOC End of charge


FC Fully charged


FCC Full charge capacity. Total capacity of the battery compensated for present load current, temperature, and aging effects
(reduction in chemical capacity and increase in internal impedance).


FIFO First in, first out


Flag This word usually represents a read-only status bit that indicates some action has occurred or is occurring. This bit
typically cannot be modified. The flags are set and cleared automatically by the fuel gauge.


FVCA Fast voltage and current acquisition


GPIO General-purpose input output


HDQ High-speed data queue


IC Integrated circuit


ID Identification


IO Input or output


I [2] C Inter-integrated circuit


LDO Low dropout


LSB Least significant bit


LT Lifetime


MAC Manufacturer Access Control


mAh Milliamp-hour


MSB Most significant bit


mWh Milliwatt-hour


NACK Negative acknowledge character


NTC Negative temperature coefficient


OCV Open-circuit voltage. Voltage measured on fully-relaxed battery with no load applied.



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 205


_Glossary_ [www.ti.com](https://www.ti.com)


OTC Overtemperature in charge


OTD Overtemperature in discharge


PFC Pin function code


POR Power-on reset


Qmax Maximum chemical capacity


QC Qualification and calculation


QT Qualification time



RELAXATION

Mode



Refers to a mode to where the gauge read _Current()_ < _**Quit Current**_ for at least 60 seconds.



RM Remaining capacity


RW Read or write


SCL Serial clock: programmable serial clock used in the I [2] C interface


SDA Serial data: serial data bus in the I [2] C interface


SE Shutdown enable


Set Refers to a bit in a register becoming a logic HIGH or 1. The Battery Management Studio (BQStudio) software represents
a set bit with the color red.


SOC State-of-charge in percent related to FCC


SOC1 State-of-charge initial


SOCF State-of-charge final


System The word system is sometimes used in this document. When used, it always means a host system that is consuming
current from the battery pack.


TCA Terminate charge alarm


TMT Temperature measurement time


TS Temperature status


TTE Time-to-empty


TTF Time-to-full


VIT Voltage, current, temperature


VMT Voltage measurement time


206 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


[www.ti.com](https://www.ti.com) _Revision History_

#### _Appendix C_
### **_Revision History_**


NOTE: Page numbers for previous revisions may differ from page numbers in the current version.


**Changes from Revision * (March 2016) to Revision A (October 2022)** **Page**

 - Changed the description of VIMA .................................................................................................................. 126



[SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)

_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_


Copyright © 2022 Texas Instruments Incorporated



_BQ4050_ 207


_Revision History_ [www.ti.com](https://www.ti.com)


This page intentionally left blank.


208 _BQ4050_ [SLUUAQ3A – APRIL 2016 – REVISED OCTOBER 2022](https://www.ti.com/lit/pdf/SLUUAQ3)


_[Submit Document Feedback](https://www.ti.com/feedbackform/techdocfeedback?litnum=SLUUAQ3A&partnum=BQ4050)_

Copyright © 2022 Texas Instruments Incorporated


**IMPORTANT NOTICE AND DISCLAIMER**


TI PROVIDES TECHNICAL AND RELIABILITY DATA (INCLUDING DATA SHEETS), DESIGN RESOURCES (INCLUDING REFERENCE
DESIGNS), APPLICATION OR OTHER DESIGN ADVICE, WEB TOOLS, SAFETY INFORMATION, AND OTHER RESOURCES “AS IS”
AND WITH ALL FAULTS, AND DISCLAIMS ALL WARRANTIES, EXPRESS AND IMPLIED, INCLUDING WITHOUT LIMITATION ANY
IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT OF THIRD
PARTY INTELLECTUAL PROPERTY RIGHTS.


These resources are intended for skilled developers designing with TI products. You are solely responsible for (1) selecting the appropriate
TI products for your application, (2) designing, validating and testing your application, and (3) ensuring your application meets applicable
standards, and any other safety, security, regulatory or other requirements.


These resources are subject to change without notice. TI grants you permission to use these resources only for development of an
application that uses the TI products described in the resource. Other reproduction and display of these resources is prohibited. No license
is granted to any other TI intellectual property right or to any third party intellectual property right. TI disclaims responsibility for, and you
will fully indemnify TI and its representatives against, any claims, damages, costs, losses, and liabilities arising out of your use of these

resources.


[TI’s products are provided subject to TI’s Terms of Sale or other applicable terms available either on ti.com or provided in conjunction with](https://www.ti.com/legal/termsofsale.html)
such TI products. TI’s provision of these resources does not expand or otherwise alter TI’s applicable warranties or warranty disclaimers for
TI products.


TI objects to and rejects any additional or different terms you may have proposed. IMPORTANT NOTICE


Mailing Address: Texas Instruments, Post Office Box 655303, Dallas, Texas 75265
Copyright © 2022, Texas Instruments Incorporated


